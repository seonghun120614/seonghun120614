<!DOCTYPE html>
<html lang="kor">

    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="icon" href="/seonghun120614/assets/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/seonghun120614/assets/css/style.css">
<title>[멋사 백엔드 19기] TIL 17일차 Database 이론</title>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[멋사 백엔드 19기] TIL 17일차 Database 이론 | Seonghun’s Blog</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="[멋사 백엔드 19기] TIL 17일차 Database 이론" />
<meta name="author" content="Seonghun Park" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html" />
<meta property="og:url" content="https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html" />
<meta property="og:site_name" content="Seonghun’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-09-11T13:31:55+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[멋사 백엔드 19기] TIL 17일차 Database 이론" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Seonghun Park"},"dateModified":"2025-09-11T13:31:55+00:00","datePublished":"2025-09-11T13:31:55+00:00","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"[멋사 백엔드 19기] TIL 17일차 Database 이론","mainEntityOfPage":{"@type":"WebPage","@id":"https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html"},"url":"https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html"}</script>
<!-- End Jekyll SEO tag -->


<script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>

<!-- Mermaid -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RQTWJRLWGD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-RQTWJRLWGD');
</script></head><script>
        document.addEventListener("DOMContentLoaded", function () {
            const toggle = document.getElementById("dark-toggle");
        
            // 이미 실행한 적 있는지 확인
            const hasToggled = localStorage.getItem("darkModeInitialized");
        
            if (!hasToggled && toggle && toggle.checked) {
                toggleDarkMode();
                localStorage.setItem("darkModeInitialized", "true"); // 최초 실행 기록
            }
        });
    </script>

    <body>
        <div id="scroll-progress"></div>
        <main class="container">
            <section class="about">
                <div class="about-header condensed">
                    <div class="about-title">
                        <a href="/seonghun120614/">
                            
                            <img class="light"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            <img class="dark"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            
                        </a>
                        <h2 id="title">
                            <a href="/seonghun120614/">Seonghun Park</a>
                        </h2>
                    </div><p class="tagline">Developer.</p></div>
                
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </section>
            <section class="content">
                <script>
window.MathJax = {
    tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    options: {
    renderActions: {
        addMenu: []
    }
    }
};
</script>

<script type="text/javascript"
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script><div class="post-container">
    <a class="post-link" href="/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html">
        <h2 class="post-title">[멋사 백엔드 19기] TIL 17일차 Database 이론</h2>
    </a>
    
    <div class="post-meta">
        <div class="post-date"><i class="icon-calendar"></i>Sep 11, 2025</div><ul class="post-categories"><li>멋쟁이사자처럼</li><li>멋사</li><li>백엔드</li><li>TIL</li><li>Database</li></ul></div>

    <div class="post">
        <!--more-->

<h2 id="-목차">📂 목차</h2>
<ul>
  <li><a href="#database">Database</a>
    <ul>
      <li><a href="#dbms">DBMS</a></li>
      <li><a href="#abstraction-and-db">Abstraction and DB</a></li>
      <li><a href="#db-의-변천사">DB 의 변천사</a></li>
      <li><a href="#purpose-of-db">Purpose of DB</a></li>
      <li><a href="#view-of-data">View of Data</a></li>
      <li><a href="#data-abstraction">Data Abstraction</a>
        <ul>
          <li><a href="#물리적-수준">물리적 수준</a></li>
          <li><a href="#instances-and-schemas">Instances and Schemas</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#database-languages">Database Languages</a>
    <ul>
      <li><a href="#ddl">DDL</a>
        <ul>
          <li><a href="#domain-constraints">Domain Constraints</a></li>
          <li><a href="#referential-integrity">Referential Integrity</a></li>
          <li><a href="#authorization">Authorization</a></li>
          <li><a href="#sql-ddl">SQL DDL</a></li>
        </ul>
      </li>
      <li><a href="#dml">DML</a>
        <ul>
          <li><a href="#query">Query</a></li>
          <li><a href="#sql-dml">SQL DML</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#database-access-from-application-programs">Database Access from Application Programs</a></li>
</ul>

<hr />

<h2 id="-본문">📚 본문</h2>

<h3 id="database">Database</h3>

<p>데이터를 체계적으로 저장하고 관리하는 시스템이다.</p>

<p>주로 다루는 데이터들의 특징은 다음과 같다.</p>

<p><strong>DB가 다루는 데이터 3V</strong></p>
<ul>
  <li>매우 가치가 높은 데이터</li>
  <li>상대적으로 큰 규모의 데이터</li>
  <li>동시에 여러 사용자와 응용 프로그램에서 접근하는 데이터</li>
</ul>

<p>최근에는 데이터의 특성에서 보다 복잡한 관계나 가변적 구조의 데이터들까지도 포함된다.</p>

<h4 id="dbms">DBMS</h4>

<p>데이터베이스 관리 시스템은 서로 연관된 데이터의 집합과 그 데이터를 접근하기 위한 프로그램의 집합이다.</p>

<p>목표는 정보를 편리하고 효율적으로 저장하고 검색할 수 있는 방법을 제공하는 것을 목표로 한다.</p>

<h4 id="abstraction-and-db">Abstraction and DB</h4>

<p>이러한 데이터베이스 시스템은 다음 특징이 있다.</p>

<ul>
  <li>공통된 데이터 구조를 활용해 효율성 확보</li>
  <li>약하게 구조화된 데이터, 다양한 형식의 데이터도 처리 가능</li>
  <li>방대한 데이터 집합을 관리하는 대규모, 복잡 소프트웨어 시스템</li>
</ul>

<p>여기서 다양한 데이터들, 대규모 등 복잡한 어플리케이션이 필요한데 이러한 복잡성을 관리하는 핵심이 추상화이다. 따라서 DB 시스템 내에서 사용자와 개발자에게 데이터 저장, 조직화 등의 방식을 숨김으로써 데이터를 간단히 조작 할 수 있게 한다.</p>

<h4 id="db-의-변천사">DB 의 변천사</h4>

<p>초기 DB 는 백오피스 시스템으로 운영되었지만, 사용자는 인쇄된 보고서나 이벽용 종이 양식을 통해 간접적으로만 상호작용을 했다.</p>

<p>현대에 와서는 DB를 다룰 수 있는 다양한 언어가 나오고, DB 접근의 세부사항은 감추되 다양한 인터페이스와 손 쉬운 인터페이스를 제공하게 되었고, 현재는 2개의 방식을 지원하는데:</p>

<ol>
  <li>
    <p>OLTP: 다수의 사용자가 동시에 DB 를 사용하며 각 사용자는 비교적 소량의 데이터를 조회하거나 작은 단위의 갱신 작업을 수행한다.</p>
  </li>
  <li>
    <p>Data Analytics: 데이터를 처리, 결론을 도출하여 규칙이나 의사결정 절차를 추론한 뒤, 이를 바탕으로 비즈니스 의사결정을 내리는 것</p>
  </li>
</ol>

<h4 id="purpose-of-db">Purpose of DB</h4>

<p>시스템은 여러 개의 응용 프로그램을 두어서 파일을 다루게 되는데, 운영체제에는 파일 처리 시스템이 있어 이 안에 다양한 프로그램을 통해 다루게 되는 것이 그 예이다. 하지만 보통 정보를 파일 처리 시스템으로 보관하게 된다면 문제점이 있다.</p>

<p><strong>운영체제의 3V 데이터 처리 문제점</strong></p>
<ul>
  <li><strong>Data Redundancy and Inconsistency</strong>: 여러 프로그래머가 장기간에 걸쳐 파일과 응용 프로그램을 작성하기 때문에 파일 구조가 제각각이며, 프로그램 또한 서로 다른 프로그래밍 언어 혹은 다른 확장자로 작성될 수 있다.</li>
</ul>

<blockquote>
  <p>2015-12-29.txt, …, 2020-12-29.json, …<br />
확장자 다름</p>
</blockquote>

<ul>
  <li><strong>Diﬃculty in Accessing Data</strong>: 대학의 한 행정 직원이 특정 우편번호 지역에 사는 학생들의 이름을 알고 싶어한다고 치면, 데이터 처리 부서에 해당 목록을 요청하면 되지만, 원래 시스템 설계자가 이를 염두 안해두고 이런 파일들을 따로 모아놓지 않았다면 일일히 하나하나 다 찾아가면서 해야 한다.</li>
</ul>

<blockquote>
  <p>2025/12월/* &lt;- 접근 용이, 2025 년에 접속 횟수 5회 이상 유저 &lt;- 힘듦</p>
</blockquote>

<ul>
  <li><strong>Data Isolation</strong>: 파일 여러 개가 흩어져 있으면 파일 형식이 다를 수 있기 때문에 필요한 데이터를 검색하기 위한 새로운 응용 프로그램을 작성하는 것이 어려움</li>
</ul>

<blockquote>
  <p>2015-12-29.txt, 2020-12-29.txt<br />
어떤건 ANSI, 어떤건 UTF-8 등</p>
</blockquote>

<ul>
  <li><strong>Integrity Problems</strong>: 데이터베이스에 저장된 값은 특정한 일관성 제약 조건을 만족해야 한다. 하지만, 이러한 새로운 제약 조건이 추가될 때, 기존 프로그램을 수정하여 이를 강제하는 것은 어렵다.</li>
</ul>

<blockquote>
  <p>2021-12-31 John 100<br />
2011 11 11 🦁 -193.13<br />
위 데이터는 두 형식이 완전 다름.</p>
</blockquote>

<ul>
  <li>
    <p><strong>Atomicity Problems</strong>: 항상 언급되는 자원 관리에 대한 처리 방식이다. Atomicity 는 원자성이다. 원자는 더이상 쪼개지지 않으며 분리되지 않는다. 그 자체로 하나이며, 만약 어떤 연산을 되돌리고 싶을때 Atomic 한 연산들을 단위로 되돌려야 함을 말한다. 하지만, 운영체제의 파일 처리 시스템은 여러 연산을 한 번에 되돌리고 한 번에 처리하기가 힘들 것이다.</p>
  </li>
  <li>
    <p><strong>Concurrent-Access Anomlies</strong>: 시스템의 전반적인 성능과 빠른 응답을 위해 많은 시스템은 여러 사용자가 동시에 데이터를 갱신할 수 있도록 시스템을 운영해야 한다.</p>
  </li>
</ul>

<p>위 문제들을 다 해결할 수 있을 때 비로소 DB 라고 할 수 있다.</p>

<h4 id="view-of-data">View of Data</h4>

<ul>
  <li>
    <p><strong>Relational Model</strong>: 관계형 모델은 데이터를 표현하고, 그 데이터들 간의 관계를 표현하기 위한 테이블 집합을 사용한다.</p>
  </li>
  <li>
    <p><strong>Entity-Relational Model</strong>: 개체라 불리는 기본 객체들과, 이 객체들 간의 관계 집합을 사용한다(E-R 다이어그램이다)</p>
  </li>
  <li>
    <p><strong>Semi-structured Data Model</strong>: 반구조적 데이터 모델은 동일한 유형의 데이터 항목이더라도 서로 다른 속성 집합을 가질 수 있도록 허용한다. 이는 모든 데이터 항목이 반드시 동일한 속성 집합을 가지지 않아도 된다는 뜻이다(JSON, XML 등이 그 예이다).</p>
  </li>
  <li>
    <p><strong>Object-Based Data Model</strong>: 객체 기반 데이터 모델이며, 처음에 객체지향 데이터 모델이라는 별도의 모델 개발로 이어졌지만, 객체 개념이 관계형 데이터베이스에 잘 통합되어 있다.<br />
여기서는 <strong>Procedure</strong> 를 데이터베이스 내에 저장하고, 시스템 자체에서 실행할 수 있도록 허용하게 된다.</p>
  </li>
</ul>

<p>우리가 주로 볼 것은 첫번째이다.</p>

<h4 id="data-abstraction">Data Abstraction</h4>

<p>시스템이 사용 가능하려면 데이터를 효율적으로 검색할 수 있어야 한다. 이러한 효율성은 데이터베이스 시스템 개발자들이 데이터베이스 내 데이터를 표현하기 위해 복잡한 자료구조를 사용하게 만들었다.</p>

<p>하지만, 많은 사용자들이 컴퓨터 전공자가 아니다. 따라서 데이터 추상화를 통해 복잡성을 감추게 된다.</p>

<p>추상화 수준은 3가지가 있다.</p>

<p><img src="/seonghun120614/assets/img/the-three-levels-of-data-abstraction.png" alt="the-three-levels-of-data-abstraction.png" /></p>

<ul>
  <li>
    <p><strong>Physical Level</strong>: 가장 낮은 수준의 추상화로, 데이터가 실제로 어떻게 저장되는지 설명한다, 복잡하고 저수준의 자료구조를 상세히 기술</p>
  </li>
  <li>
    <p><strong>Logical Level</strong>: 한 단계 높은 추상화로 DB에 어떤 데이터가 저장되는지와 데이터 간의 관계를 설명, 물론 논리적 수준의 단순한 구조 설계가 실제 물리적 수준의 복잡한 구조의 이해를 수반할 수 있지만, 논리적 수준의 사용자는 이러한 복잡성을 알 필요가 없다.</p>
  </li>
  <li>
    <p><strong>View Level</strong>: 가장 높은 추상화로, 전체 데이터베이스의 일부만을 설명한다. 논리적 수준이 비교적 단순한 구조를 사용한다고 해도, 대규모 데이터베이스에 저장되는 정보가 다양하기 때문에 여전히 복잡성이 존재한다.</p>
  </li>
</ul>

<blockquote>
  <p>data type 에 따른 java 에서의 record 정의를 보면 이걸 data abstraction 에 비유할 수 있다.</p>
</blockquote>

<p>예시를 보자.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">department</code>, with fields <code class="language-plaintext highlighter-rouge">dept_name</code>, <code class="language-plaintext highlighter-rouge">building</code>, and <code class="language-plaintext highlighter-rouge">budget</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">course</code>, with fields <code class="language-plaintext highlighter-rouge">course_id</code>, <code class="language-plaintext highlighter-rouge">title</code>, <code class="language-plaintext highlighter-rouge">dept_name</code>, and <code class="language-plaintext highlighter-rouge">credits</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">student</code>, with fields <code class="language-plaintext highlighter-rouge">ID</code>, <code class="language-plaintext highlighter-rouge">name</code>, <code class="language-plaintext highlighter-rouge">dept_name</code>, and <code class="language-plaintext highlighter-rouge">tot_cred</code>.</li>
</ul>

<h5 id="물리적-수준">물리적 수준</h5>

<p>department, department, student 는 물리적 수준에서 연속된 바이트 블록으로 표현될 수 있다. 이러한 연속된 바이트 블록으로 표현되어 있다는 것은 프로그래머에게 숨기게 된다.</p>

<p>또한 DBA 는 데이터의 물리적 조직에 관한 일부 세부사항을 인지하고 싶을 수 있다. 이때 테이블을 파일에 저장하는 방법은 여러가지가 있는데</p>

<ol>
  <li>
    <p>테이블을 파일 내 레코드의 연속으로 저장(쉼표, 특수문자, 줄바꿈 등 활용)</p>
  </li>
  <li>
    <p>모든 속성이 고정 길이인 경우, 속성의 길이를 별도로 저장하고, 구분자 생략</p>
  </li>
  <li>
    <p>가변 길이 속성은 길이를 먼저 저장 후 데이터를 저장하는 방식으로 처리</p>
  </li>
</ol>

<p>그리고 DB는 인덱스라는 자료구조를 사용하여 레코드를 효율적으로 검색할 수 있도록 지원하며, 이러한 인덱스도 물리적 수준에 포함된다.</p>

<blockquote>
  <p>물리적 수준 = 바이트 블록 + 저장 구조 + 인덱스</p>
</blockquote>

<h5 id="instances-and-schemas">Instances and Schemas</h5>

<p>DB 에는 정보가 삽입되고 삭제됨에 따라 시간이 지나면서 변한다.</p>

<p>특정 시점의 데이터베이스에 저장된 정보의 집합을 <strong>Instance</strong> 라고 한다. 그라고 DB의 전체 설계를 <strong>DB Schema</strong> 라고 부른다.</p>

<p>스키마와 인스턴스 개념을 프로그래밍 언어에 비유해서 보면 다음과 같다:</p>
<ul>
  <li>DB Schema 는 프로그램의 변수 선언에 해당, 각 변수들은 특정 시점에 고유한 값을 가짐</li>
  <li>프로그램 내 변수들의 값은 특정 시점의 DB Instance 에 해당함.</li>
</ul>

<p>이러한 스키마는 DB 시스템에서의 추상화 수준에 따라 여러 스키마가 존재하게 되며, 물리적 스키마, 논리적 스키마, 뷰 스키마 등이 있다.</p>

<h3 id="database-languages">Database Languages</h3>

<p>DB를 이제 다룰 수 있는 언어를 보자.</p>
<ul>
  <li>DDL: 데이터 정의어라고 부르며, DB 스키마를 지정한다.</li>
  <li>DML: 데이터 조작어라고 부르며, 조회(query) 와 갱신(update)를 표현할 수 있다.</li>
  <li>DCL: 데이터 제어어라고 부르며, 보통 권한, 보안을 담당하게 된다.</li>
</ul>

<h4 id="ddl">DDL</h4>

<p>DDL 은 데이터 추가 속성을 지정하는 데에 사용된다. 이때 우리는 안에 어떻게 정의를 해야하는지 알 필요 없고, DDL 이라는 인터페이스를 통해 명령만 내리면 된다.</p>

<p>여기서 저장되는 값들은 <strong>Consistency Constraints</strong> 를 만족해야 한다(특정 값은 음수가 안되어야 하고, 자수를 넘기면 안되고 등등). 이러한 제약조건을 지정할 수 있는 기능을 제공하는게 DDL 이다.</p>

<p>일반적으로 제약 조건은 데이터베이스와 관련된 임의 조건(predicate) 일 수 있는데, 임의 조건의 검사는 비용이 많이 들기 때문에 DB 시스템에서는 최소한의 비용으로 검사 가능한 무결성 제약(<strong>Integrity Constraints</strong>)만 구현하고 우리에게 제공한다.</p>

<h5 id="domain-constraints">Domain Constraints</h5>

<p>모든 속성에는 가능한 값의 범위가 지정되어야 함의 제약조건이다.</p>

<h5 id="referential-integrity">Referential Integrity</h5>

<p>특정 속성 집합에 나타난 값이 다른 릴레이션의 특정 속성 집합에도 존재해야 함을 보장하고자 할 때 사용한다.</p>

<h5 id="authorization">Authorization</h5>

<p>데이터베이스 내 다양한 데이터 값에 대해 사용자가 허용되는 접근 유형을 구분할 수 있다.</p>

<ul>
  <li>읽기 권한(read authorziation)</li>
  <li>삽입 권한(insert authorization)</li>
  <li>수정 권한(update authorization)</li>
  <li>삭제 권한(delete authorization)</li>
</ul>

<p>DDL 문을 처리하는 과정은 다른 프로그래밍 언어와 마찬가지로 출력을 생성한다. 이러한 출력은 보통 <strong>Data Dictionary</strong> 에 저장되며, 데이터 사전은 <strong>Metadata</strong> 즉, 데이터에 대한 데이터를 포함하며, 데이터 사전은 특수한 유형의 테이블로 간주되고, 일반 사용자가 접근하거나 수정할 수 없고 오로지 DBMS 자체만 접근 및 갱신 할 수 있다.</p>

<h5 id="sql-ddl">SQL DDL</h5>

<p>DB Languages 중 하나인 SQL 은 데이터 정의어를 풍부하게 제공하며, 이를 통해 테이블, 데이터 타입 무결성 제약 조건을 정의할 수 있다.</p>

<p>예를들어 다음 department 테이블을 정의할 수 있다.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">create</span> <span class="k">table</span> <span class="n">department</span>
<span class="p">(</span>
    <span class="n">dept_name</span> <span class="nb">char</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span>
    <span class="n">building</span> <span class="nb">char</span><span class="p">(</span><span class="mi">15</span><span class="p">),</span>
    <span class="n">budget</span> <span class="nb">numeric</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="p">);</span></code></pre></figure>

<p>또한 SQL DDL 은 다양한 유형의 무결성 제약 조건을 지원한다.</p>

<blockquote>
  <p>기본키, 외래키, NOT NULL 등등</p>
</blockquote>

<h4 id="dml">DML</h4>

<p>데이터 조작어는 적절한 데이터 모델로 조직된 데이터를 접근하거나 조작할 수 있게 해주는 언어이다.</p>

<p><strong>목적</strong></p>
<ul>
  <li>Data Retrieval: 데이터 조회</li>
  <li>Data Insertion: 데이터 삽입</li>
  <li>Data Deletion: 데이터 삭제</li>
  <li>Data Modification: 데이터 수정</li>
</ul>

<p>여기서 DML 은 다시 두 가지 유형으로 나뉘는데</p>

<ul>
  <li>Procedural DML: 사용자가 필요한 데이터와 그 데이터를 얻는 방법을 지정</li>
  <li>Declarative DML: 사용자가 필요한 데이터만 지정하고, 데이터를 얻는 방법은 지정하지 않음</li>
</ul>

<p>로 나뉜다. 보통 선언적 DML 이 일반적으로 절차적 DML 보다 배우기 쉽고 사용하기 쉽다. 하지만 사용자가 데이터를 얻는 방법을 명시하지 않기 때문에 DBMS 가 효울적인 데이터 접근 방법을 스스로 결정해야 한다.</p>

<h5 id="query">Query</h5>

<p>쿼리는 정보를 조회하는 요청문이다. DML 에서 정보 조회와 관련된 부분을 <strong>Query Language</strong> 라고 한다.</p>

<p>정확하지 않지만, 일반적으로 쿼리 언어와 데이터 조작어를 동일하게 보기도 한다.</p>

<h5 id="sql-dml">SQL DML</h5>

<p>SQL은 비절차적 언어이며, 쿼리를 날릴 때 여러 테이블로부터 입력을 받고, 항상 단일 테이블을 반환하도록 되어 있다.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">select</span> <span class="n">instructor</span><span class="p">.</span><span class="n">name</span>
<span class="k">from</span> <span class="n">instructor</span>
<span class="k">where</span> <span class="n">instructor</span><span class="p">.</span><span class="n">dept_name</span> <span class="o">=</span> <span class="s1">'History'</span><span class="p">;</span></code></pre></figure>

<h3 id="database-access-from-application-programs">Database Access from Application Programs</h3>

<p>SQL 과 같은 비절차적 쿼리 언어는 범용 튜링 기계 만큼 강력하진 않다. 이는 프로그래밍 언어로 할 수 있는 연산들은 SQL 로는 불가능 할 수 있다는 것이다.</p>

<p>이러한 걸 극복하기 위해 어플리케이션 프로그램이 DB 와 상호작용하는 프로그램을 말하고, 개발되게 된다. DB 에 접근하려면 DML 문을 호스트에서 DB로 전송하여 실행해야 한다(API 사용).</p>

<ul>
  <li>ODBC: C 및 여러 언어에서 사용가능한 어플리케이션 프로그램 인터페이스 수준</li>
  <li>JDBC: Java 언어에서 사용할 수 있는 인터페이스 표준</li>
</ul>

<h4 id="mysql">MySQL</h4>

<p>여기서는 우선 MySQL 을 사용하며, 관계형 DB 이다. 이름에서 보다시피 SQL 을 사용하게 되며, 웹어플리케이션 스택에 널리 사용되어 진다(LAMP 스택).</p>

<blockquote>
  <p>MySQL 5.x - 널리 사용되던 안정 버전 - 기본 캐릭터셋: latin1 - JSON 타입 미지원 (5.7부터 지원)<br />
MySQL 8.0 (현재 최신 LTS 버전) - 기본 캐릭터셋: utf8mb4 - CHECK 제약조건 완전 지원 (8.0.16부터) - 윈도우 함수 지원 - 개선된 성능과 보안 - 새로운 인증 플러그인 (caching_sha2_password)</p>
</blockquote>

<p>이를 실습하기 위해 Docker 을 이용해 구성해보자.</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">docker run <span class="nt">-d</span> <span class="nt">-p</span> 3306:3306 <span class="nt">-e</span> <span class="nv">MYSQL_ROOT_PASSWORD</span><span class="o">=</span>1234 mysql:8.0</code></pre></figure>

<p>d 는 백그라운드 옵션, p는 포트 설정, e는 환경 변수를 설정할 수 있게 한다. 두번째 인자로는 가져올 이미지 이름과 그에 해당하는 태그를 달 수 있다.</p>

<p>도커는 이러한 프로그램을 image 형태로 제공하여 다수의 사용자에게 간편하게 프로그램을 올릴 수 있도록 한다.</p>

<blockquote>
  <p>나는 Docker Desktop 에 이미 다운받은 이미지가 있어서 그걸로 구동했다.</p>
</blockquote>

<h5 id="docker-compose">Docker Compose</h5>

<p>매번 위 옵션들을 다 치기에는 버거울 수 있다.</p>

<p>도커는 <code class="language-plaintext highlighter-rouge">docker-compose.yml</code> 을 통해 쉽게 도커를 실행할 수 있도록 한다.</p>

<figure class="highlight"><pre><code class="language-yml" data-lang="yml"><span class="na">version</span><span class="pi">:</span> <span class="s2">"</span><span class="s">3.8"</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">ms-mysql-practice</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">mysql:latest</span>
    <span class="na">container_name</span><span class="pi">:</span> <span class="s">ms-mysql-container</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">always</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">MYSQL_ROOT_PASSWORD</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1234"</span>
      <span class="na">MYSQL_DATABASE</span><span class="pi">:</span> <span class="s2">"</span><span class="s">liondb"</span>
      <span class="na">MYSQL_USER</span><span class="pi">:</span> <span class="s2">"</span><span class="s">lion"</span>
      <span class="na">MYSQL_PASSWORD</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1234"</span>
      <span class="na">TZ</span><span class="pi">:</span> <span class="s">Asia/Seoul</span>
    <span class="na">command</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">--character-set-server=utf8mb4</span>
      <span class="pi">-</span> <span class="s">--collation-server=utf8mb4_unicode_ci</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./database/init/:/docker-entrypoint-initdb.d/</span>
      <span class="pi">-</span> <span class="s">./database/datadir/:/var/lib/mysql</span>
    <span class="na">platform</span><span class="pi">:</span> <span class="s">linux/x86_64</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">3306:3306</span></code></pre></figure>

<p>생소한 명령어를 파헤쳐보자.</p>

<p><strong>컨테이너가 MySQL 서버를 시작할 때 추가 옵션을 전달하는 부분</strong></p>
<ol>
  <li><strong>–character-set-server=utf8mb4</strong>
    <ul>
      <li>MySQL 서버의 기본 문자셋(charset)을 utf8mb4로 설정</li>
      <li>utf8mb4는 모든 유니코드 문자를 포함할 수 있어서 이모지, 특수문자도 저장 가능</li>
    </ul>
  </li>
  <li><strong>–collation-server=utf8mb4_unicode_ci</strong>
    <ul>
      <li>기본 정렬 규칙(collation)을 utf8mb4_unicode_ci로 설정</li>
      <li>대소문자를 구분하지 않고(ci = case-insensitive) 유니코드 기준으로 문자열 비교</li>
    </ul>
  </li>
</ol>

<p><strong>호스트와 컨테이너 내부 디렉토리를 연결하는 부분</strong></p>
<ol>
  <li><strong>./database/init/:/docker-entrypoint-initdb.d/</strong>
    <ul>
      <li>컨테이너 시작 시 MySQL이 docker-entrypoint-initdb.d/ 안에 있는 SQL 파일이나 스크립트를 자동으로 실행</li>
    </ul>
  </li>
  <li><strong>./database/datadir/:/var/lib/mysql</strong>
    <ul>
      <li>MySQL의 실제 데이터가 저장되는 디렉토리</li>
      <li>호스트 디렉토리(./database/datadir/)와 연결해서 컨테이너가 삭제되어도 데이터 유지</li>
    </ul>
  </li>
</ol>

<p>이제 접속은 터미널에서 다음을 입력하면 된다.</p>

<blockquote>
  <p>docker exec -it ms-mysql-container mysql -ulion -p1234 liondb</p>
</blockquote>

<p>여기서 exec 는 이미 실행중인 컨테이너 안에서 명령어를 실행할 때 사용하며</p>

<p>-interactive, -tty 옵션을 통해 STDIN 으로 사용자의 입력을 받고, 터미널 환경을 에뮬레이션하여 명령어 실행 결과가 깔끔하게 보이도록 한다.</p>

<p>ms-mysql-container 한테 명령어 <code class="language-plaintext highlighter-rouge">mysql -ulion -p 1234 liondb</code> 를 실행하라는 명령이며, liondb 라는 데이터베이스를 사용할 수 있게 된다.</p>

    </div><div id="disqus_thread" style="margin-top:25px"></div>
    <script>
    var disqus_config = function () {
        this.page.url = 'https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html';
        this.page.identifier = 'https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/database/2025/09/11/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-17%EC%9D%BC%EC%B0%A8-database-%EC%9D%B4%EB%A1%A0.html';
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = 'https://seonghun.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
  </script>
    <noscript>Please enable JavaScript to view the <a
            href="https://disqus.com/?ref_noscript" rel="nofollow">comments
            powered by Disqus.</a></noscript></div>
<script>
    mermaid.initialize({startOnLoad:true});
    window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
            </section>
            <footer class="condensed">
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </footer>
        </main>
        
        <script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>
        
        <script src="/seonghun120614/assets/js/simple-jekyll-search.min.js"></script>
        <script src="/seonghun120614/assets/js/search.js"></script>
        
        <script>
            window.addEventListener('scroll', () => {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                document.getElementById('scroll-progress').style.width = scrollPercent + '%';
            });
        </script>
    </body>
</html>