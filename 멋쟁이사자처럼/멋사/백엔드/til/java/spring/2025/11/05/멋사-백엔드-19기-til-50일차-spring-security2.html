<!DOCTYPE html>
<html lang="kor">

    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="icon" href="/seonghun120614/assets/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/seonghun120614/assets/css/style.css">
<title>[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2</title>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2 | Seonghunâ€™s Blog</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2" />
<meta name="author" content="Seonghun Park" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." />
<link rel="canonical" href="https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html" />
<meta property="og:url" content="https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html" />
<meta property="og:site_name" content="Seonghunâ€™s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-11-05T01:26:47+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Seonghun Park"},"dateModified":"2025-11-05T01:26:47+00:00","datePublished":"2025-11-05T01:26:47+00:00","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","headline":"[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2","mainEntityOfPage":{"@type":"WebPage","@id":"https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html"},"url":"https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html"}</script>
<!-- End Jekyll SEO tag -->


<script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>

<!-- Mermaid -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RQTWJRLWGD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-RQTWJRLWGD');
</script></head><script>
        document.addEventListener("DOMContentLoaded", function () {
            const toggle = document.getElementById("dark-toggle");
        
            // ì´ë¯¸ ì‹¤í–‰í•œ ì  ìˆëŠ”ì§€ í™•ì¸
            const hasToggled = localStorage.getItem("darkModeInitialized");
        
            if (!hasToggled && toggle && toggle.checked) {
                toggleDarkMode();
                localStorage.setItem("darkModeInitialized", "true"); // ìµœì´ˆ ì‹¤í–‰ ê¸°ë¡
            }
        });
    </script>

    <body>
        <div id="scroll-progress"></div>
        <main class="container">
            <section class="about">
                <div class="about-header condensed">
                    <div class="about-title">
                        <a href="/seonghun120614/">
                            
                            <img class="light"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            <img class="dark"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            
                        </a>
                        <h2 id="title">
                            <a href="/seonghun120614/">Seonghun Park</a>
                        </h2>
                    </div><p class="tagline">Developer.</p></div>
                
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </section>
            <section class="content">
                <script>
window.MathJax = {
    tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    options: {
    renderActions: {
        addMenu: []
    }
    }
};
</script>

<script type="text/javascript"
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script><div class="post-container">
    <a class="post-link" href="/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html">
        <h2 class="post-title">[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 50ì¼ì°¨ Spring Security2</h2>
    </a>
    
    <div class="post-meta">
        <div class="post-date"><i class="icon-calendar"></i>Nov 5, 2025</div><ul class="post-categories"><li>ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼</li><li>ë©‹ì‚¬</li><li>ë°±ì—”ë“œ</li><li>TIL</li><li>Java</li><li>Spring</li></ul></div>

    <div class="post">
        <!--more-->

<h2 id="-ëª©ì°¨">ğŸ“‚ ëª©ì°¨</h2>
<ul>
  <li><a href="#servlet-authentication-architecture">Servlet Authentication Architecture</a>
    <ul>
      <li><a href="#securitycontextholder">SecurityContextHolder</a>
        <ul>
          <li><a href="#authentication">Authentication</a></li>
          <li><a href="#authenticationmanager">AuthenticationManager</a></li>
          <li><a href="#providermanager">ProviderManager</a></li>
          <li><a href="#request-credentials-with-authenticationentrypoint">Request Credentials with AuthenticationEntryPoint</a></li>
          <li><a href="#abstractauthenticationprocessingfilter">AbstractAuthenticationProcessingFilter</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="-ë³¸ë¬¸">ğŸ“š ë³¸ë¬¸</h2>

<h3 id="servlet-authentication-architecture">Servlet Authentication Architecture</h3>

<p>ì´ì œ security ê°€ Servlet ì—ì„œ ì–´ë–»ê²Œ ë™ì‘í•˜ëŠ”ì§€ ë³´ì.</p>

<p>ë‹¤ìŒ í´ë˜ìŠ¤ë“¤ì„ ê¸°ì–µí•˜ì:</p>

<ul>
  <li>
    <p><strong>SecurityContextHolder</strong>: ì¸ì¦ëœ ì‚¬ìš©ìì˜ ì„¸ë¶€ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê³³</p>
  </li>
  <li>
    <p><strong>SecurityContext</strong>: <strong>SecurityContextHolder</strong> ì—ì„œ ê°€ì ¸ì˜¤ëŠ” ê°ì²´ì´ë©°, í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ìì˜ <strong>Authentication</strong> ê°ì²´ë¥¼ í¬í•¨í•˜ê²Œ ëœë‹¤.</p>
  </li>
  <li>
    <p><strong>Authentication</strong>: ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì‹œ ì…ë ¥í•œ ìê²© ì¦ëª…(<code class="language-plaintext highlighter-rouge">Credentials</code>) ë¥¼ ë‹´ì•„ <strong>AuthenticationManager</strong> ì— ì „ë‹¬í•˜ê¸° ìœ„í•´ ì…ë ¥ìœ¼ë¡œ ì‚¬ìš©ë˜ê±°ë‚˜ ë˜ëŠ” í˜„ì¬ <strong>SecurityContext</strong> ì— ì €ì¥ë˜ì–´ ìˆëŠ” í˜„ì¬ ì‚¬ìš©ì ì •ë³´ì¼ ìˆ˜ë„ ìˆìŒ</p>
  </li>
  <li>
    <p><strong>GrantedAuthority</strong>: <code class="language-plaintext highlighter-rouge">Authentiation</code> ë‚´ì˜ <code class="language-plaintext highlighter-rouge">Principal</code>(ì£¼ì²´, ì¦‰ ì‚¬ìš©ì) ì—ê²Œ ë¶€ì—¬ëœ ê¶Œí•œì„ ë‚˜íƒ€ëƒ„</p>
  </li>
  <li>
    <p><strong>AuthenticationManager</strong>: Spring Security ì˜ <code class="language-plaintext highlighter-rouge">Filter</code> ë“¤ì´ ì¸ì¦ì„ ìˆ˜í–‰í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì¸ì¦ ìˆ˜í–‰ API ì´ë‹¤.</p>
  </li>
  <li>
    <p><strong>ProviderManager</strong>: <strong>AuthenticationManager</strong> ì˜ ê°€ì¥ ì¼ë°˜ì ì¸ êµ¬í˜„ì²´</p>
  </li>
  <li><strong>AuthenticationProvider</strong>: <strong>ProviderManager</strong> ê°€ íŠ¹ì • ì¢…ë¥˜ì˜ ì¸ì¦ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” êµ¬ì²´ì ì¸ ì¸ì¦ ë¡œì§ ë‹´ë‹¹ì
    <ul>
      <li>í¼ ë¡œê·¸ì¸, OAuth2, JWT ë“± ê° ë°©ì‹ë³„ ì¸ì¦ ë¡œì§ì„ êµ¬í˜„í•¨</li>
    </ul>
  </li>
  <li>
    <p>Request Credentials with AuthenticationEntryPoint: í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ìê²© ì¦ëª…ì„ ìš”ì²­í•  ë•Œ ì‚¬ìš©í•˜ëŠ” êµ¬ì„± ìš”ì†Œì´ë‹¤.</p>
  </li>
  <li><strong>AbstractAuthenticationProcessingFilter</strong>: ì¸ì¦ ê³¼ì •ì„ ìˆ˜í–‰í•˜ëŠ” <code class="language-plaintext highlighter-rouge">Filter</code> í´ë˜ìŠ¤ì´ë©°, ì´ í´ë˜ìŠ¤ëŠ” ì¸ì¦ì´ ì–´ë–»ê²Œ ì²˜ë¦¬ë˜ëŠ”ì§€ ê° êµ¬ì„±ìš”ì†Œê°€ ì–´ë–»ê²Œ ìƒí˜¸ì‘ìš©í•˜ëŠ”ì§€ì— ëŒ€í•œ ê³ ìˆ˜ì¤€ íë¦„ì„ ë³´ì—¬ì¤€ë‹¤.</li>
</ul>

<p>ì¦‰, <code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì— ì‚¬ìš©ìì˜ ì¸ì¦ ì •ë³´ê°€ ì €ì¥ë˜ë©°, ê·¸ ê³¼ì •ì„ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> -&gt; <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> -&gt; <code class="language-plaintext highlighter-rouge">SecurityContext</code> ìˆœìœ¼ë¡œ ê±°ì³ ì²˜ë¦¬ëœë‹¤ëŠ” ì„¤ëª…ì´ë‹¤.</p>

<h4 id="securitycontextholder">SecurityContextHolder</h4>

<p><img src="/seonghun120614/assets/img/securitycontextholder.png" alt="assets/img/securitycontextholder.png" /></p>

<p>SecurityContextHolder ëŠ” Spring Security ê°€ ì¸ì¦ëœ ì‚¬ìš©ìì˜ ì„¸ë¶€ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê³³ì´ë©°, SecurityContextHolder ê°€ ì–´ë–»ê²Œ ì±„ì›Œì§€ëŠ”ì§€ì— ëŒ€í•´ì„œëŠ” ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤. ë‹¨, ê°’ì´ ì¡´ì¬í•˜ë©´ ê·¸ ê°’ì„ í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ìë¡œ ê°„ì£¼í•œë‹¤.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nc">SecurityContext</span> <span class="n">context</span> <span class="o">=</span> <span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">createEmptyContext</span><span class="o">();</span> 
<span class="nc">Authentication</span> <span class="n">authentication</span> <span class="o">=</span>
    <span class="k">new</span> <span class="nf">TestingAuthenticationToken</span><span class="o">(</span><span class="s">"username"</span><span class="o">,</span> <span class="s">"password"</span><span class="o">,</span> <span class="s">"ROLE_USER"</span><span class="o">);</span> 
<span class="n">context</span><span class="o">.</span><span class="na">setAuthentication</span><span class="o">(</span><span class="n">authentication</span><span class="o">);</span>

<span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">context</span><span class="o">);</span></code></pre></figure>

<p>ìœ„ëŠ” íƒœìŠ¤íŠ¸ìš© ê°€ì§œ ì •ë³´ë¥¼ ë§Œë“¤ì–´ì„œ ì»¨í…ìŠ¤íŠ¸ í™€ë”ì˜ ë¹ˆ ì»¨í…ìŠ¤íŠ¸ì— Spring Security ê°€ ê´€ë¦¬í•˜ë„ë¡ ê°€ì§œ ì •ë³´ë¥¼ ë„£ì–´ì¤€ë‹¤. ì €ì¥ë  ë•Œ ë‹¤ìŒì˜ <code class="language-plaintext highlighter-rouge">Authentication</code> êµ¬í˜„ì´ ë“¤ì–´ê°€ì•¼ í•œë‹¤.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Authentication</span> <span class="kd">extends</span> <span class="nc">Principal</span><span class="o">,</span> <span class="nc">Serializable</span> <span class="o">{</span>
    
    <span class="nc">Collection</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="nc">GrantedAuthority</span><span class="o">&gt;</span> <span class="nf">getAuthorities</span><span class="o">();</span>  <span class="c1">// ê¶Œí•œ ëª©ë¡</span>
    
    <span class="nc">Object</span> <span class="nf">getCredentials</span><span class="o">();</span>  <span class="c1">// ë¹„ë°€ë²ˆí˜¸ (ì¸ì¦ í›„ ë³´í†µ null)</span>
    
    <span class="nc">Object</span> <span class="nf">getDetails</span><span class="o">();</span>  <span class="c1">// ì¶”ê°€ ì •ë³´ (IP, ì„¸ì…˜ ë“±)</span>
    
    <span class="nc">Object</span> <span class="nf">getPrincipal</span><span class="o">();</span>  <span class="c1">// ì£¼ì²´ (ë³´í†µ UserDetails ë˜ëŠ” username)</span>
    
    <span class="kt">boolean</span> <span class="nf">isAuthenticated</span><span class="o">();</span>  <span class="c1">// ì¸ì¦ ì—¬ë¶€</span>
    
    <span class="kt">void</span> <span class="nf">setAuthenticated</span><span class="o">(</span><span class="kt">boolean</span> <span class="n">isAuthenticated</span><span class="o">);</span>
<span class="o">}</span></code></pre></figure>

<p>ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">credentials</code>, <code class="language-plaintext highlighter-rouge">details</code>, <code class="language-plaintext highlighter-rouge">principal</code> ëŠ” Object ì´ê³ , ëª¨ë“  ê°’ë“¤ì´ ì €ì¥ë  ìˆ˜ ìˆìŒì„ ë³¼ ìˆ˜ ìˆë‹¤. <code class="language-plaintext highlighter-rouge">SecurityContext</code> ë‚´ë¶€ì—ëŠ” <code class="language-plaintext highlighter-rouge">Authentication</code> ì„ ì €ì¥í•˜ê¸° ìœ„í•œ ê³µê°„ì´ ìˆëŠ”ë°, ì´ëŠ” <code class="language-plaintext highlighter-rouge">ThreadLocal</code> ë¡œ ì •ì˜ë˜ì–´ ìˆì–´ì„œ ê° ìš”ì²­ë§ˆë‹¤ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ì´ ìš”ì²­ì˜ íë¦„ì„ ë§¡ê²Œ ë˜ê¸° ë•Œë¬¸ì— ê° ìš”ì²­ë§ˆë‹¤ ë…ë¦½ëœ ì €ì¥ì†Œë¥¼ ê°€ì§€ê²Œ ëœë‹¤.</p>

<p>ì´ë•Œ í˜„ì¬ ì‚¬ìš©ìì˜ ìš”ì²­ ì²˜ë¦¬ê°€ ëë‚œ í›„ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ë°˜ë“œì‹œ ì •ë¦¬í•´ì•¼ ì•ˆì „í•˜ê²Œ ëœë‹¤. Spring Security ì˜ <code class="language-plaintext highlighter-rouge">FilterChainProxy</code> ëŠ” í•­ìƒ <code class="language-plaintext highlighter-rouge">SecurityContext</code> ê°€ ì •ë¦¬ë˜ë„ë¡ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— ê°œë°œìëŠ” ì´ë¥¼ ì‹ ê²½ì“°ì§€ ì•Šì•„ë„ ëœë‹¤.</p>

<p>í•˜ì§€ë§Œ ì¼ë¶€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì€ <code class="language-plaintext highlighter-rouge">ThreadLocal</code> ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì í•©í•˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆëŠ”ë°, <code class="language-plaintext highlighter-rouge">Swing</code> í´ë¼ì´ì–¸íŠ¸ëŠ” JVM ë‚´ì˜ ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë™ì¼í•œ ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì„ ìˆ˜ë„ ìˆë‹¤. ì´ ê²½ìš°ëŠ” ë‹¤ìŒ <code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì—ê²Œ ëª…ì‹œí•´ì£¼ì–´ì•¼ í•œë‹¤.</p>

<ul>
  <li>ë…ë¦½ ì‹¤í–‰í˜• ì–´í”Œë¦¬ì¼€ì´ì…˜ì¸ ê²½ìš°: <code class="language-plaintext highlighter-rouge">SecurityContextHolder.MODE_GLOBAL</code></li>
  <li>ë³´ì•ˆ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê°€ì§„ ìŠ¤ë ˆë“œê°€ ìƒì„±í•œ í•˜ìœ„ ìŠ¤ë ˆë“œ(sub-thread) ë“¤ë„ ë™ì¼í•œ ë³´ì•ˆ ì‹ ì›(security identity)ì„ ìƒì†ë°›ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´
    <ul>
      <li><code class="language-plaintext highlighter-rouge">SecurityContextHolder.MODE_INHERITABLETHREADLOCAL</code> ì „ëµì„ ì‚¬ìš©</li>
    </ul>
  </li>
</ul>

<p>ì´ë¥¼ ì ìš©í•˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ì¸ë°</p>

<ol>
  <li>ì‹œìŠ¤í…œ í”„ë¡œí¼í‹°ì— ì„¤ì •ìœ¼ë¡œ ë„£ìŒ
    <ul>
      <li>JVM ì‹œì‘ì˜µì…˜ <code class="language-plaintext highlighter-rouge">-Dspring.security.strategy=MODE_GLOBAL</code></li>
    </ul>
  </li>
  <li>SecurityContextHolder ì˜ ì •ì  ë©”ì„œë“œë¥¼ í˜¸ì¶œ</li>
</ol>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="c1">// MODE_GLOBAL, MODE_THREADLOCAL, MODE_INHERITABLETHREADLOCAL ì¤‘ ì„ íƒ ê°€ëŠ¥</span>
<span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">setStrategyName</span><span class="o">(</span><span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">MODE_GLOBAL</span><span class="o">);</span></code></pre></figure>

<h4 id="securitycontext">SecurityContext</h4>

<p><code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ê°€ ê°€ì§€ê³  ìˆëŠ” ê°ì²´ì´ë©°, ë‚´ë¶€ì—ëŠ” <code class="language-plaintext highlighter-rouge">Authentication</code> ì„ ê°€ì§€ê³  ìˆë‹¤. ì´ <code class="language-plaintext highlighter-rouge">Authentication</code> ì´ ì¤‘ìš”í•˜ë‹¤.</p>

<h5 id="authentication">Authentication</h5>

<p>Authentication ì€ í¬ê²Œ ë‘ ì—­í• ì„ í•œë‹¤.</p>

<ol>
  <li>ì‚¬ìš©ì ì¸ì¦ ìš”ì²­ ì‹œ ì…ë ¥ê°’ ì—­í• 
    <ul>
      <li>ì‚¬ìš©ìê°€ ì…ë ¥í•œ ìê²© ì¦ëª…ì„ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ì— ì „ë‹¬í•  ë•Œ ì‚¬ìš©</li>
      <li>ì´ ë‹¨ê²Œì—ì„œ <code class="language-plaintext highlighter-rouge">isAuthenticated()</code> ê°’ì€ <code class="language-plaintext highlighter-rouge">false</code></li>
      <li>ì•„ì§ ì¸ì¦ì´ ì™„ë£Œë˜ì§€ ì•Šì€ ìƒíƒœë¥¼ ì˜ë¯¸</li>
    </ul>
  </li>
  <li>í˜„ì¬ ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ í‘œí˜„
    <ul>
      <li>ì¸ì¦ì´ ì™„ë£Œ ì‹œ, <code class="language-plaintext highlighter-rouge">Authentication</code> ê°ì²´ë¥¼ í†µí•´ í˜„ì¬ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´ë¥¼ ì–»ì–´ì˜¬ ìˆ˜ ìˆìŒ</li>
    </ul>
  </li>
</ol>

<p><code class="language-plaintext highlighter-rouge">Authentication</code> ì€ ìœ„ë¥¼ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ ì•„ë˜ì˜ ì •ë³´ë“¤ì„ ê°€ì§„ë‹¤.</p>

<p><strong>Principal(ì£¼ì²´)</strong></p>

<p>ì‚¬ìš©ìë¥¼ ì‹ë³„í•˜ëŠ” ì •ë³´ì´ë©°, ì¼ë°˜ì ìœ¼ë¡œ ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ë¡œê·¸ì¸ì˜ ê²½ìš° <code class="language-plaintext highlighter-rouge">UserDetails</code> ê°ì²´ì˜ ì¸ìŠ¤í„´ìŠ¤ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°€ê²Œ ëœë‹¤.</p>

<p><strong>Credentials(ìê²© ì¦ëª…)</strong></p>

<p>ì£¼ë¡œ ë¹„ë°€ë²ˆí˜¸ê°€ ì—¬ê¸°ì— ì €ì¥ë˜ê²Œ ëœë‹¤. ë³´ì•ˆ ìƒì˜ ì´ìœ ë¡œ ì‚¬ìš©ìê°€ ì¸ì¦ëœ í›„ì—ëŠ” ì´ ê°’ì´ ì§€ì›Œì§€ëŠ” ê²½ìš°ê°€ ë§ë‹¤.</p>

<p><strong>Authorities</strong></p>

<p><code class="language-plaintext highlighter-rouge">GrantedAuthority</code> ê°ì²´ë“¤ì˜ ì§‘í•©, ì‚¬ìš©ìê°€ ê°€ì§„ ìƒìœ„ ìˆ˜ì¤€ì˜ ê¶Œí•œ(Permission)ë“¤ì„ ë‚˜íƒ€ë‚¸ë‹¤. ëŒ€í‘œì ì¸ ì˜ˆë¡œ ì—­í• (Role) ê³¼ ë²”ìœ„(Scope) ê°€ ìˆë‹¤.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.security.authentication.UsernamePasswordAuthenticationToken</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.authority.SimpleGrantedAuthority</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.security.core.context.SecurityContextHolder</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityExample</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="nc">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="c1">// 1ï¸âƒ£ ì‚¬ìš©ì ê¶Œí•œ ì„¤ì • (ì˜ˆ: ROLE_USER, ROLE_ADMIN)</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">SimpleGrantedAuthority</span><span class="o">&gt;</span> <span class="n">authorities</span> <span class="o">=</span> <span class="nc">List</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
                <span class="k">new</span> <span class="nf">SimpleGrantedAuthority</span><span class="o">(</span><span class="s">"ROLE_USER"</span><span class="o">),</span>
                <span class="k">new</span> <span class="nf">SimpleGrantedAuthority</span><span class="o">(</span><span class="s">"ROLE_ADMIN"</span><span class="o">)</span>
        <span class="o">);</span>

        <span class="c1">// 2ï¸âƒ£ ì‚¬ìš©ì ì •ë³´ (principal)ì™€ ë¹„ë°€ë²ˆí˜¸(credentials) ì§€ì •</span>
        <span class="nc">String</span> <span class="n">username</span> <span class="o">=</span> <span class="s">"kim"</span><span class="o">;</span>
        <span class="nc">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"1234"</span><span class="o">;</span> <span class="c1">// ë³´í†µ ì¸ì¦ í›„ì—” ì´ê±´ nullë¡œ ì„¤ì •í•¨</span>

        <span class="c1">// 3ï¸âƒ£ Authentication ê°ì²´ ìƒì„±</span>
        <span class="nc">UsernamePasswordAuthenticationToken</span> <span class="n">authentication</span> <span class="o">=</span>
                <span class="k">new</span> <span class="nf">UsernamePasswordAuthenticationToken</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">,</span> <span class="n">authorities</span><span class="o">);</span>

        <span class="c1">// 4ï¸âƒ£ SecurityContextì— ì„¤ì •</span>
        <span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">getContext</span><span class="o">().</span><span class="na">setAuthentication</span><span class="o">(</span><span class="n">authentication</span><span class="o">);</span>

        <span class="c1">// âœ… í™•ì¸</span>
        <span class="kt">var</span> <span class="n">auth</span> <span class="o">=</span> <span class="nc">SecurityContextHolder</span><span class="o">.</span><span class="na">getContext</span><span class="o">().</span><span class="na">getAuthentication</span><span class="o">();</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"í˜„ì¬ ì‚¬ìš©ì: "</span> <span class="o">+</span> <span class="n">auth</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ê¶Œí•œ ëª©ë¡: "</span> <span class="o">+</span> <span class="n">auth</span><span class="o">.</span><span class="na">getAuthorities</span><span class="o">());</span>
        <span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"ì¸ì¦ ì—¬ë¶€: "</span> <span class="o">+</span> <span class="n">auth</span><span class="o">.</span><span class="na">isAuthenticated</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">GrantedAuthority</code> ê°€ ì‚¬ìš©ìê°€ ë¶€ì—¬ë°›ì€ ìƒìœ„ ìˆ˜ì¤€ì˜ <code class="language-plaintext highlighter-rouge">Permission</code> ì„ ë‚˜íƒ€ë‚¸ë‹¤. ë³´í†µ <code class="language-plaintext highlighter-rouge">Authentication.getAuthorities()</code> ë©”ì„œë“œë¥¼ í†µí•´ <code class="language-plaintext highlighter-rouge">GrantedAuthority</code> ë“¤ì„ ê°€ì ¸ì˜¤ê²Œ ë˜ê³ , ì»¬ë ‰ì…˜ í˜•íƒœë¡œ ë°˜í™˜í•˜ê²Œ ëœë‹¤. ê¶Œí•œì€ ì¼ë°˜ì ìœ¼ë¡œ <code class="language-plaintext highlighter-rouge">ROLE_(ì´ë¦„)</code> í˜•íƒœë¡œ í‘œí˜„ë˜ê²Œ ëœë‹¤.</p>

<p>ìœ„ì²˜ëŸ¼ ì •ì˜ëœ ì—­í• ë“¤ì€ ì´í›„ì—:</p>
<ul>
  <li>ì›¹ ìš”ì²­ ì ‘ê·¼ ì œì–´</li>
  <li>ë©”ì„œë“œ ê¶Œí•œ ì œì–´</li>
  <li>ë„ë©”ì¸ ê°ì²´ ê¶Œí•œ ì œì–´</li>
</ul>

<p>ì— ì‚¬ìš©ë˜ê²Œ ëœë‹¤. ì´ëŸ° ê¶Œí•œì€ ê·¸ë˜ì„œ ì–´í”Œë¦¬ì¼€ì´ì…˜ ì „ì—­ì—ì„œ ë‹¤ë¤„ì§€ê²Œ ëœë‹¤.</p>

<h5 id="authenticationmanager">AuthenticationManager</h5>

<p>Spring Security ì˜ í•„í„°ë“¤ì´ ì¸ì¦ì„ ìˆ˜í–‰í•˜ëŠ” ë°©ì‹ì„ ì •ì˜í•˜ëŠ” API ì´ë©°, <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ê°€ ë°˜í™˜í•œ <code class="language-plaintext highlighter-rouge">Authentication</code> ê°ì²´ëŠ” ì´ë¥¼ í˜¸ì¶œí•œ ì»¨íŠ¸ë¡¤ëŸ¬, ì •í™•íˆëŠ” Spring Security ì˜ í•„í„° ì¸ìŠ¤í„´ìŠ¤ì— ì˜í•´ <code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì— ì €ì¥ë˜ê²Œ ëœë‹¤.</p>

<p>ë§Œì•½ Spring Security ì˜ í•„í„° ì²´ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, <code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì— ì§ì ‘ <code class="language-plaintext highlighter-rouge">Authentication</code> ì„ ì„¤ì •í•  ìˆ˜ë„ ìˆê³ , ì´ ê²½ìš°ì—ëŠ” <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ë¥¼ ê¼­ ì‚¬ìš©í•  í•„ìš”ëŠ” ì—†ë‹¤(ê·¸ëŸ´ ì¼ì€ ì•„ì§ ì—†ì„ ë“¯í•˜ë‹¤).</p>

<h5 id="providermanager">ProviderManager</h5>

<p><img src="/seonghun120614/assets/img/providermanager.png" alt="assets/img/providermanager.png" /></p>

<p>ì—¬ëŸ¬ ê°œì˜ <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ <code class="language-plaintext highlighter-rouge">List</code> í˜•íƒœë¡œ ê°€ì§€ê³  ìˆìœ¼ë©°, ê° <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ëŠ” ë‹¤ìŒ ì¤‘ í•˜ë‚˜ë¥¼ ê²°ì •í•  ìˆ˜ ìˆë‹¤.</p>

<ol>
  <li>ì¸ì¦ì´ ì„±ê³µí–ˆë‹¤ê³  íŒë‹¨</li>
  <li>ì¸ì¦ì´ ì‹¤íŒ¨í–ˆë‹¤ê³  íŒë‹¨</li>
  <li>ìì‹ ì€ ì´ ì¸ì¦ íƒ€ì…ì„ ì²˜ë¦¬í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ë‹¤ìŒ <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ê°€ íŒë‹¨í•˜ë„ë¡ ìœ„ì„</li>
</ol>

<p>ì¦‰ ì¸ì¦ ê³¼ì •ì€ ì—¬ëŸ¬ <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ê±°ì¹˜ë©°, ê° <code class="language-plaintext highlighter-rouge">Provider</code> ê°€ ì¸ì¦ì„ ì‹œë„í•˜ë‹¤ê°€ ì–´ëŠ í•˜ë‚˜ê°€ ì„±ê³µì„ ë°˜í™˜í•˜ë©´ ì¸ì¦ì´ ì¢…ë£Œë˜ê²Œ ëœë‹¤. ë§Œì•½ ëª¨ë“  <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ê°€ ì¸ì¦ì„ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ë©´ ì‹¤íŒ¨ì´ë‹¤.</p>

<blockquote>
  <p>ì‹¤íŒ¨ ì˜ˆì™¸ëŠ” <code class="language-plaintext highlighter-rouge">ProviderNotFoundException</code></p>
</blockquote>

<p>ì‹¤ì œë¡œ <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ëŠ” ë‹¤ì–‘í•œ í˜•íƒœì˜ ì¸ì¦ ë°©ì‹ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ë²•ì„ ì•Œê³  ìˆë‹¤(ì´ë¯¸ ì œê³µí•´ì¤€ë‹¤ëŠ” ë§).</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ì¤‘ì— ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ë¥¼ ê²€ì¦í•˜ëŠ” Providerê°€ ìˆì„ ìˆ˜ ìˆê³ </li>
  <li><strong>SAML ì–´ì„œì…˜</strong> ì„ í†µí•´ ì¸ì¦í•˜ëŠ” Provider ë„ ìˆì„ ìˆ˜ ìˆë‹¤.</li>
</ul>

<p>ìš°ë¦¬ê°€ ì´ë¥¼ Provider ë¥¼ ì¶”ê°€í•˜ë ¤ë©´ í•˜ë‚˜ì˜ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ì„ Bean ìœ¼ë¡œ ë“±ë¡ë§Œ í•˜ë©´ ëœë‹¤.</p>

<p>ì‹¤ì œë¡œ ì—¬ëŸ¬ ê°œì˜ <code class="language-plaintext highlighter-rouge">ProviderManager</code> ì¸ìŠ¤í„´ìŠ¤ê°€ í•˜ë‚˜ì˜ ë¶€ëª¨ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ë¥¼ ê³µìœ í•  ìˆ˜ë„ ìˆë‹¤.</p>

<p><img src="/seonghun120614/assets/img/providermanagers-parent.png" alt="assets/img/providermanagers-parent.png" /></p>

<p>ì¼ë¶€ ê³µí†µëœ ì¸ì¦ ë¡œì§ì€ ê³µìœ ëœ ë¶€ëª¨ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ê°€ ì²˜ë¦¬í•˜ê³ , ê° ì²´ì¸ë§ˆë‹¤ ì„œë¡œ ë‹¤ë¥¸ ì¸ì¦ ë°©ì‹ì„ ì ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°ëŠ” ê³µí†µ ë¶€ëª¨ë¥¼ ë‘ì–´ì„œ ê³µìœ  ê°€ëŠ¥í•œ ë¡œì§ë§Œ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ë¡œ ë‘ì–´ ì²˜ë¦¬í•˜ê²Œ í•˜ê³ , <code class="language-plaintext highlighter-rouge">ProviderManager</code> 1, 2 ê°€ ì„œë¡œ ê°ˆ ê¸¸ ê°€ëŠ” ì¦‰, ì„œë¡œ ê°ìì˜ <code class="language-plaintext highlighter-rouge">FilterChain</code> ì„ ê±°ì¹˜ë„ë¡ í•˜ë©´ ëœë‹¤.</p>

<h5 id="authenticationprovider">AuthenticationProvider</h5>

<p>ì‹¤ì œ ì¸ì¦ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” í•µì‹¬ ê°ì²´ì´ë©°, <code class="language-plaintext highlighter-rouge">ProviderManager</code> ì— ì—¬ëŸ¬ ê°œ ì£¼ì…í•  ìˆ˜ ìˆë‹¤.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">DaoAuthenticationProvider</code>: ì¼ë°˜ì ì¸ ì•„ì´ë”” / ë¹„ë°€ë²ˆí˜¸ ì¸ì¦</li>
  <li><code class="language-plaintext highlighter-rouge">JwtAuthenticationProvide</code>: JWT í† í° ê¸°ë°˜ ì¸ì¦</li>
</ul>

<h5 id="request-credentials-with-authenticationentrypoint">Request Credentials with AuthenticationEntryPoint</h5>

<p>í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì¸ì¦ ì •ë³´ë¥¼ ìš”ì²­í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì´ë©°, ë™ì‘ ë°©ì‹ì„ ë³´ì:</p>

<ol>
  <li>í´ë¼ì´ì–¸íŠ¸ ì¸ì¦ ì—†ì´ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ë¥¼ ìš”ì²­í•˜ë©´, <code class="language-plaintext highlighter-rouge">AuthenticationEntryPoint</code> ê°€ í˜¸ì¶œ</li>
  <li>HTTP ì‘ë‹µìœ¼ë¡œ ìê²© ì¦ëª… ìš”êµ¬ -&gt; ë¡œê·¸ì¸ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸ í˜¹ì€ <code class="language-plaintext highlighter-rouge">WWW-Authenticate</code> í—¤ë” ë“±</li>
</ol>

<blockquote>
  <p>ì˜ˆì™¸: í´ë¼ì´ì–¸íŠ¸ê°€ ì´ë¯¸ ì¸ì¦ ì •ë³´ë¥¼ ë³´ë‚´ëŠ” ê²½ìš°ì—ëŠ” <code class="language-plaintext highlighter-rouge">AuthenticationEntryPoint</code> ê°€ ë³„ë„ë¡œ ìš”ì²­ì„ ë§Œë“¤ì§€ ì•ŠìŒ</p>
</blockquote>

<h5 id="abstractauthenticationprocessingfilter">AbstractAuthenticationProcessingFilter</h5>

<p>ì‚¬ìš©ì ì¸ì¦ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” Filter</p>

<p><img src="/seonghun120614/assets/img/abstractauthenticationprocessingfilter.png" alt="assets/img/abstractauthenticationprocessingfilter.png" /></p>

<p><strong>ì¸ì¦ ê³¼ì •</strong></p>
<ol>
  <li>ì‚¬ìš©ìê°€ ì¸ì¦ ì •ë³´ ì œì¶œ</li>
  <li><code class="language-plaintext highlighter-rouge">AbstractAuthenticationProcessingFilter</code> ê°€ <code class="language-plaintext highlighter-rouge">HttpServletRequest</code> ë¡œ ë¶€í„° ì¸ì¦ ì •ë³´ ì½ìŒ</li>
  <li><code class="language-plaintext highlighter-rouge">AbstractAuthenticationProcessingFilter</code> ê°€ <code class="language-plaintext highlighter-rouge">Authentication</code> ê°ì²´ë¥¼ ìƒì„±, ì´ë•Œ <code class="language-plaintext highlighter-rouge">Authentication</code> ê°ì²´ì˜ íƒ€ì…ì€ ì„œë¸Œ í•„í„°ì— ë”°ë¼ ë‹¤ë¦„
    <ul>
      <li><code class="language-plaintext highlighter-rouge">UserPasswordAuthenticationFilter</code> -&gt; <code class="language-plaintext highlighter-rouge">UsernamePasswordAuthenticationToken</code> ìƒì„±</li>
      <li>API í† í° í•„í„°ë¼ë©´ JWT í† í° ê¸°ë°˜ <code class="language-plaintext highlighter-rouge">Authentication</code> ìƒì„±</li>
    </ul>
  </li>
  <li>ì´ <code class="language-plaintext highlighter-rouge">Authentication</code> ì„ <code class="language-plaintext highlighter-rouge">AuthenticationManager</code> ë¡œ ì „ë‹¬</li>
  <li>ë‚´ë¶€ì ìœ¼ë¡œ ì—¬ëŸ¬ <code class="language-plaintext highlighter-rouge">AuthenticationProvider</code> ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì¸ì¦ ì‹œë„</li>
</ol>

<p><strong>ì„±ê³µ</strong></p>
<ol>
  <li>ì„±ê³µ ì‹œ</li>
  <li><code class="language-plaintext highlighter-rouge">SessionAuthenticationStrategy</code> ì•Œë¦¼
    <ul>
      <li>ìƒˆ ì„¸ì…˜ì´ ìƒì„±ë˜ê±°ë‚˜ ê¸°ì¡´ ì„¸ì…˜ ë³´í˜¸ ë“± ì„¸ì…˜ ê´€ë ¨ ì²˜ë¦¬</li>
      <li><code class="language-plaintext highlighter-rouge">SessionAuthenticationStrategy</code> ì¸í„°í˜ì´ìŠ¤</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì˜ Authentication ì„¤ì •
    <ul>
      <li>(ì„ íƒ) <code class="language-plaintext highlighter-rouge">SecurityContext</code> ì €ì¥</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">RememberMeServices.loginSuccess</code> í˜¸ì¶œ
    <ul>
      <li>ì—†ìœ¼ë©´ ë™ì‘ X</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">InteractiveAuthenticationSuccessEvent</code> ë°œí–‰</li>
  <li><code class="language-plaintext highlighter-rouge">AuthenticationSuccessHandler</code> í˜¸ì¶œ</li>
</ol>

<p><strong>ì‹¤íŒ¨</strong></p>
<ol>
  <li>ì‹¤íŒ¨ ì‹œ</li>
  <li><code class="language-plaintext highlighter-rouge">SecurityContextHolder</code> ì´ˆê¸°í™”</li>
  <li><code class="language-plaintext highlighter-rouge">RememberMeServices.loginFail()</code> í˜¸ì¶œ</li>
  <li><code class="language-plaintext highlighter-rouge">AuthenticationFailureHandler</code> í˜¸ì¶œ
    <ul>
      <li>ì¸ì¦ ì‹¤íŒ¨ ì‹œ ì¶”ê°€ ì²˜ë¦¬(ë¦¬ë‹¤ì´ë ‰íŠ¸, ì—ëŸ¬ ë©”ì‹œì§€ ë“±)</li>
    </ul>
  </li>
</ol>

<p>í° í‹€ì„ ë³´ì•˜ìœ¼ë‹ˆ ì´ì œ ì´ë¥¼ ì‹¤ì œë¡œ ì½”ë“œì—ì„œ ì ìš©ì‹œì¼œë³´ì.</p>

    </div><div id="disqus_thread" style="margin-top:25px"></div>
    <script>
    var disqus_config = function () {
        this.page.url = 'https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html';
        this.page.identifier = 'https://seonghun120614.github.io/seonghun120614/%EB%A9%8B%EC%9F%81%EC%9D%B4%EC%82%AC%EC%9E%90%EC%B2%98%EB%9F%BC/%EB%A9%8B%EC%82%AC/%EB%B0%B1%EC%97%94%EB%93%9C/til/java/spring/2025/11/05/%EB%A9%8B%EC%82%AC-%EB%B0%B1%EC%97%94%EB%93%9C-19%EA%B8%B0-til-50%EC%9D%BC%EC%B0%A8-spring-security2.html';
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = 'https://seonghun.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
  </script>
    <noscript>Please enable JavaScript to view the <a
            href="https://disqus.com/?ref_noscript" rel="nofollow">comments
            powered by Disqus.</a></noscript></div>
<script>
    mermaid.initialize({startOnLoad:true});
    window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
            </section>
            <footer class="condensed">
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </footer>
        </main>
        
        <script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>
        
        <script src="/seonghun120614/assets/js/simple-jekyll-search.min.js"></script>
        <script src="/seonghun120614/assets/js/search.js"></script>
        
        <script>
            window.addEventListener('scroll', () => {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                document.getElementById('scroll-progress').style.width = scrollPercent + '%';
            });
        </script>
    </body>
</html>