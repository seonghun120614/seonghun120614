---
layout: post
title:  ë³´ì¡°. Bean ì´ë€
date:   2025-06-06 15:25:50 +0900
categories: Java Spring
---
<!--more-->
Bean ê°œë… ì„¤ëª… ë° ì‚¬ìš©ë²•

## ğŸª› í•œê³„ì 

Spring ì„ ì‚¬ìš©í•¨ì— ìˆì–´ íš¨ìœ¨ì ì¸ Java ì˜ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ê°€ í•„ìš”í•˜ë‹¤.

## ğŸ“‚ ëª©ì°¨
- [Bean Lifecycle Scope](#bean-lifecycle-scope)
- [Bean ìˆ˜ë™ ë“±ë¡í•˜ê¸°](#bean-ìˆ˜ë™-ë“±ë¡í•˜ê¸°)
- [Bean Component Scan ë°©ì‹ìœ¼ë¡œ ìë™ ë“±ë¡í•˜ê¸°](#bean-component-scan-ë°©ì‹ìœ¼ë¡œ-ìë™-ë“±ë¡í•˜ê¸°)
- [@Autowired ë¡œ ë“±ë¡ëœ Bean ê°€ì ¸ì˜¤ê¸°](#ë“±ë¡ëœ-bean-ê°€ì ¸ì˜¤ê¸°)

---

## ğŸ“š ë³¸ë¬¸

Bean ì´ë¼ëŠ” ê²ƒì€ ìˆœìˆ˜ ìë°”ì—ì„œ `new` ë¡œ ìƒì„±í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ ê°€ë¥´í‚¤ê³  ë§Œì•½ Spring ì´ ì´ë¥¼ ê´€ë¦¬í•˜ê²Œ ëœë‹¤ë©´ ì´ë¥¼ Bean ì´ë¼ê³  ë¶€ë¥´ê²Œ ëœë‹¤.

Bean ì€ RAM -> JVM -> IoC ì•ˆì— ìˆìœ¼ë©° í•œ ë²ˆ ë“±ë¡ì´ ë˜ë©´ ì´ë¥¼ ì–´ë–¤ í´ë˜ìŠ¤ì—ì„œë“  ì‰½ê²Œ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê³  ê°ì²´ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ìë™ìœ¼ë¡œ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ëŸ° ì´ì  ë•Œë¬¸ì— Bean ì„ ì“°ê³  Bean ìœ¼ë¡œ ë“±ë¡í•˜ë ¤ë©´ `@Configuration` í´ë˜ìŠ¤ ì•ˆì— `@Bean` ì„ **ë©”ì„œë“œ**ì— ë„£ì–´ì£¼ë©´ ëœë‹¤.

### Bean Lifecycle Scope

Bean ì˜ ê´€ë¦¬ ë²”ìœ„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.
- singleton(ê¸°ë³¸ê°’): ì»¨í…Œì´ë„ˆ ë‹¹ í•˜ë‚˜ë§Œ ìƒì„±
- prototype: ìš”ì²­ ì‹œë§ˆë‹¤ ìƒˆë¡œ ìƒì„±
- request: HTTP ìš”ì²­ë§ˆë‹¤ í•˜ë‚˜(ì›¹ì—ì„œë§Œ ì ìš©ë˜ëŠ” ì¸ì)
- session: HTTP ì„¸ì…˜ë§ˆë‹¤ í•˜ë‚˜
- application: servlet contextë§ˆë‹¤ í•˜ë‚˜

### Bean ìˆ˜ë™ ë“±ë¡í•˜ê¸°
{% highlight java %}

import org.springframework.context.annotation.*;

@Configuration
public class MyConfig {
    @Bean
    public OrderService orderService() {
        return new OrderService();
    }

    public static class OrderService {
        public String process() {
            return "Order processed";
        }
    }
}
{% endhighlight %}

ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ `OrderService` í´ë˜ìŠ¤ëŠ” Beanìœ¼ë¡œ ë“±ë¡ë  ë•Œ ê¸°ë³¸ ìŠ¤ì½”í”„ê°€ singletonì´ê¸° ë•Œë¬¸ì— í•˜ë‚˜ë§Œ ìƒì„±ë˜ë©°, ì´ `OrderService`ë¥¼ ì˜ì¡´í•˜ëŠ” ë‹¤ë¥¸ Beanë“¤ì—ê²Œ ìë™ìœ¼ë¡œ ì£¼ì…ëœë‹¤. ì´ëŸ¬í•œ ê³¼ì •ì„ **DI (Dependency Injection)**ì´ë¼ê³  í•œë‹¤.

### Bean Component Scan ë°©ì‹ìœ¼ë¡œ ìë™ ë“±ë¡í•˜ê¸°

[@ComponentScan](#componentscan) ì€ Springì´ ìë™ìœ¼ë¡œ Component ë¥¼ ì°¾ì•„ Bean ìœ¼ë¡œ ë“±ë¡í•˜ë„ë¡ ë²”ìœ„ë¥¼ ì§€ì •í•˜ëŠ” ì• ë„ˆí…Œì´ì…˜ì´ë‹¤. Spring Bootì—ì„œëŠ” ë³´í†µ ìë™ìœ¼ë¡œ í¬í•¨ë˜ì§€ë§Œ, ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•  ë• ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•œë‹¤.

`basePackages` ë¡œ `String[]`ì˜ ì¸ìë¥¼ ë°›ê³  í•´ë‹¹ String ì˜ íŒ¨í‚¤ì§€ì— ìˆëŠ” ëª¨ë“  `@Component` ë“¤ì„ Beanì— ë“±ë¡í•˜ê²Œ ëœë‹¤.

{% highlight java %}
import org.springframework.context.annotation.*;

@Configuration
@ComponentScan(basePackages = {
        "com.example.study.config",
        "com.example.study.service"
})
public class MyConfig { }
{% endhighlight %}

config, service íŒ¨í‚¤ì§€ë“¤ì˜ Component ë“¤ì„ ì „ë¶€ ê°€ì ¸ì™€ Bean ìœ¼ë¡œ ë“±ë¡í•œë‹¤.

### ë“±ë¡ëœ Bean ê°€ì ¸ì˜¤ê¸°

ìŠ¤í”„ë§ë¶€íŠ¸ IoC ì»¨í…Œì´ë„ˆì—ëŠ” Bean ë“¤ì´ ë“±ë¡ë˜ì–´ ìˆëŠ” í…Œì´ë¸”ì´ ìˆë‹¤. ì´ í…Œì´ë¸”ì—ì„œ Beanì„ ê°€ì ¸ì˜¤ë ¤ë©´ `@Autowired` ì• ë„ˆí…Œì´ì…˜ì„ ë³€ìˆ˜ ì„ ì–¸ì´ë‚˜ ë©”ì„œë“œ, ì¸ìì— ì‚¬ìš©í•˜ì—¬ ë“¤ê³  ì˜¬ ìˆ˜ ìˆë‹¤. ë§Œì•½ `UserRepository` ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ Beanì— ë“±ë¡í–ˆë‹¤ê³  í•´ë³´ì. ë‹¤ë¥¸ í´ë˜ìŠ¤ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì¨ì£¼ë©´ ëœë‹¤.

{% highlight java %}
....
public class AppService {
    ...
    @Autowired
    public AppService(AppProperties appProperties) {
        this.appProperties = appProperties;
    }
    ...
}
{% endhighlight %}

appProperties ëŠ” ìë™ì ìœ¼ë¡œ `@Autowired`ë¥¼ í†µí•´ Bean ì— ë“±ë¡ëœ ê°ì²´ë¥¼ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤.

---

## ğŸ”— ì¶œì²˜
- ë„ì„œ [Spring Boot in Practice](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=279280319&srsltid=AfmBOoqOq7s5PrLMTe6aMGBXVD7AjNczIgN0e57lelyEY76kueqPkxeK)

---

## âœ’ï¸ ìš©ì–´

###### @ComponentScan

`@ComponentScan` ì• ë„ˆí…Œì´ì…˜ì€ Springì´ ìë™ìœ¼ë¡œ `@Component` ì˜ Beanì„ ì°¾ì•„ ë“±ë¡í•˜ë„ë¡ ë²”ìœ„ë¥¼ ì§€ì •í•˜ëŠ” ì• ë„ˆí…Œì´ì…˜ì´ë‹¤. Spring Bootì—ì„œëŠ” ë³´í†µ ìë™ìœ¼ë¡œ í¬í•¨ë˜ì§€ë§Œ, ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•  ë• ì§ì ‘ ì‚¬ìš©í•´ì•¼ í•œë‹¤.