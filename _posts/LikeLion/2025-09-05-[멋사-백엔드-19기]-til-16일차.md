---
layout: post
title:  "[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 16ì¼ì°¨"
date:   2025-09-05 16:35:37 +0900
categories: ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ ë©‹ì‚¬ ë°±ì—”ë“œ TIL Java
---

<!--more-->

## ğŸ“‚ ëª©ì°¨
- [GoF ë””ìì¸ íŒ¨í„´](#)
- []()

---

## ğŸ“š ë³¸ë¬¸

### GoF ë””ìì¸ íŒ¨í„´

ì •ì²˜ê¸°ì—ì„œ ì •ë¦¬ë¥¼ ë‹¤ í–ˆì§€ë§Œ, ë‹¤ì‹œ ë³¸ë‹¤. ê¸€ ë³´ë‹¤ëŠ” ì´ë²ˆì—ëŠ” ì½”ë“œ ìœ„ì£¼ë¡œ ì„¤ëª…í•œë‹¤.

#### ìƒì„± íŒ¨í„´

ê°ì²´ë¥¼ ìƒì„±í•  ë•Œ ë§ˆì£¼í•  ìˆ˜ ìˆëŠ” í”„ë¡œê·¸ë˜ë° ë¬¸ì œë¥¼ í•´ê²°í•  ì†”ë£¨ì…˜ì´ë©°  
ê°ì²´ ìƒì„± ê³¼ì •ì„ ìº¡ìŠí™”í•´ì„œ ìœ ì—°í•˜ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ê°ì²´ ìƒì„±ì„ ë•ëŠ” íŒ¨í„´ì´ë‹¤.

##### Singleton

{% highlight java %} 
public class Example {
    private static Example instance;

    private Example() { /* ìƒì„±ì€ ê°ì¶”ê³  */ }

    // synchronized ë¥¼ ì“°ëŠ”ê±´ ë•Œì— ë”°ë¼ì„œ
    public synchronized static Example getInstance() {
        instance = Objects.requiredNonNullElseGet(instance, () ->
            new Example()
        );
    }
}
{% endhighlight %}

##### Factory Method

{% highlight java %}
interface Phone {
    void call();
}

class IPhone implements Phone {
    void call() {
        System.out.println("ì•„ì´í° ì§±");
    }
}

class Galaxy implements Phone {
    void call() {
        System.out.println("ê°¤ëŸ­ì‹œ ì§±");
    }
}

public interface PhoneFactory {
    // ì–´ë–¤ ì œí’ˆì´ ë‚˜ì˜¬ì§€ ëª¨ë¥´ë‹ˆ ê³µí†µì ì¸ ì œí’ˆì— ëŒ€í•´
    // ì¶”ìƒí™”ë¥¼ ë°˜í™˜í•˜ë„ë¡
    Phone createPhone();
}

// ì„œë¸Œ í´ë˜ìŠ¤ê°€ ì´ë¥¼ êµ¬í˜„í•˜ì—¬ ë‹¤ì–‘í•œ Factory êµ¬í˜„
public GalaxyFactory implements PhoneFactory {
    public Phone createPhone() {
        return new Galaxy();
    }
}

public IPhoneFactory implements IPhoneFactory{
    public Phone createPhone() {
        return new IPhone();
    }
}

{% endhighlight %}

##### Builder

{% highlight java %}
public class Person {
    // ì „ë¶€ private final í•˜ê²Œ
    private final long id;
    private final String name;
    private final int height;
    private final int weight;
    private final String phoneNumber;
    
    // ìƒì„±ìë¥¼ encapsulation
    private Person(long id, String name, int height, int weight, String phoneNumber) {
        this.id = id;
        this.name = name;
        this.height = height;
        this.weight = weight;
        this.phoneNumber = phoneNumber;
    }

    // Getter ë§Œ êµ¬í˜„

    public static class Builder {
        private long id;
        private String name;
        private int height;
        private int weight;
        private String phoneNumber;

        // ê¸°ë³¸ ìƒì„±ìë¡œ

        // Lombok ì—ì„œëŠ” set ì—†ì´ id() ë¡œ ê°€ì ¸ê°€ê¸°ëŠ” í•œë‹¤.
        public Builder id(long id) {
            this.id = id;
        }

        // ... ì´í•˜ setter ìƒëµ

        public Person build() {
            return new Person (id, name, height, weight, phoneNumber);
        }
    }
}
{% endhighlight %}


##### Prototype

{% highlight java %}
public class Rectangle implements Cloneable {
    private int height;
    private int weight;

    public Rectangle(int height, int weight) {
        this.height = height;
        this.weight = weight;
    }

    // ìƒì„±ìë¡œ ë³µì œí•˜ê¸°
    public Rectangle(Rectangle rectangle) {
        this.height = rectangle.height;
        this.weight = rectangle.weight;
    }

    // ë©”ì„œë“œë¡œ ë³µì œí•˜ê¸° (Clonable êµ¬í˜„)
    @Override
    public Rectangle clone() {
        // ê¹Šì€ ë³µì‚¬ ë¡œì§ë„ í•„ìš” ì‹œ ì¶”ê°€
        // ìƒìœ„ êµ¬í˜„ì²´ì— cloneable í•˜ë‹¤ë©´ í•´ë‹¹ ë©”ì„œë“œë¥¼ ì¨ë„ ë¨
        // ë‹¨, ìºìŠ¤íŒ…ì„ í• ì§€ ë§ì§€ëŠ” ì„ íƒ
        return new Rectangle(this);
    }
}
{% endhighlight %}

##### Abstract Factory

ë‹¤ìˆ˜ì˜ ë¶€í’ˆë“¤ì„ ìœ ì—°í•˜ê²Œ ì œì‘í•˜ê³  ì‹¶ì„ë•Œ ê°€ì ¸ê°€ëŠ” íŒ¨í„´ì´ë‹¤.

{% highlight java %}
// 1ï¸âƒ£ Product ì¸í„°í˜ì´ìŠ¤
interface Chair {
    void sitOn();
}

interface Sofa {
    void lieOn();
}

// 2ï¸âƒ£ ConcreteProduct í´ë˜ìŠ¤
class ModernChair implements Chair {
    @Override
    public void sitOn() {
        System.out.println("ì•‰ëŠ” ì¤‘: ëª¨ë˜ ì²´ì–´");
    }
}

class ModernSofa implements Sofa {
    @Override
    public void lieOn() {
        System.out.println("ëˆ„ì›Œë³´ëŠ” ì¤‘: ëª¨ë˜ ì†ŒíŒŒ");
    }
}

class VictorianChair implements Chair {
    @Override
    public void sitOn() {
        System.out.println("ì•‰ëŠ” ì¤‘: ë¹…í† ë¦¬ì•ˆ ì²´ì–´");
    }
}

class VictorianSofa implements Sofa {
    @Override
    public void lieOn() {
        System.out.println("ëˆ„ì›Œë³´ëŠ” ì¤‘: ë¹…í† ë¦¬ì•ˆ ì†ŒíŒŒ");
    }
}

// 3ï¸âƒ£ AbstractFactory
interface FurnitureFactory {
    Chair createChair();
    Sofa createSofa();
}
{% endhighlight %}

ìœ„ì²˜ëŸ¼ ì“°ë©´ `FurnitureFactory` ì˜ í•˜ìœ„ë¡œ ë‹¤ìˆ˜ì˜ ë‹¤ì–‘í•œ ê°€êµ¬ë“¤ì„ ë§Œë“¤ì–´ë‚´ëŠ”  
íŒ©í† ë¦¬ë“¤ì„ ìƒì„±ì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

#### êµ¬ì¡° íŒ¨í„´

í´ë˜ìŠ¤ì™€ ê°ì²´ë¥¼ ì¡°í•©í•˜ì—¬ ë” í° êµ¬ì¡°ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.

##### Adapter

í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§ì¶°ì£¼ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” íŒ¨í„´ì´ë‹¤.

{% highlight java %}
// ê¸°ì¡´ í´ë˜ìŠ¤ 1
class KakaoRemote {
    public void turnOn() {
        System.out.println("ì¹´ì¹´ì˜¤ TV ON");
    }

    public void turnOff() {
        System.out.println("ì¹´ì¹´ì˜¤ TV OFF");
    }
}

// ê¸°ì¡´ í´ë˜ìŠ¤ 2
class NaverRemote {
    public void on() {
        System.out.println("ë„¤ì´ë²„ TV ON");
    }

    public void off() {
        System.out.println("ë„¤ì´ë²„ TV OFF");
    }
}
{% endhighlight %}

ìœ„ ë‘ ì¸í„°í˜ì´ìŠ¤ëŠ” ê¸°ëŠ¥ì€ ë™ì¼í•˜ë˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ë§ì§€ ì•Šìœ¼ë¯€ë¡œ ì¸í„°í˜ì´ìŠ¤ë¥¼ í•˜ë‚˜ ë” ì¶”ê°€í•˜ì—¬ ìœ„ APIë¥¼ í†µì¼ì‹œì¼œì¤€ë‹¤.

{% highlight java %}
interface Remote {
    void on();
    void off();
}

// Adapter: KakaoRemoteë¥¼ Remote ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜
// has-a ë¡œ ëŠìŠ¨í•˜ê²Œ ì—°ê²°
class KakaoRemoteAdapter implements Remote {
    private final KakaoRemote kakaoRemote;

    public KakaoRemoteAdapter(KakaoRemote kakaoRemote) {
        this.kakaoRemote = kakaoRemote;
    }

    @Override
    public void on() {
        kakaoRemote.turnOn();
    }

    @Override
    public void off() {
        kakaoRemote.turnOff();
    }
}

// Adapter: NaverRemoteë¥¼ Remote ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜
// has-a ë¡œ ëŠìŠ¨í•˜ê²Œ ì—°ê²°
class NaverRemoteAdapter implements Remote {
    private final NaverRemote naverRemote;

    public NaverRemoteAdapter(NaverRemote naverRemote) {
        this.naverRemote = naverRemote;
    }

    @Override
    public void on() {
        naverRemote.on();
    }

    @Override
    public void off() {
        naverRemote.off();
    }
}

// Client
public class Main {
    public static void main(String[] args) {
        Remote kakao = new KakaoRemoteAdapter(new KakaoRemote());
        Remote naver = new NaverRemoteAdapter(new NaverRemote());

        kakao.on();   // "ì¹´ì¹´ì˜¤ TV ON"
        kakao.off();  // "ì¹´ì¹´ì˜¤ TV OFF"

        naver.on();   // "ë„¤ì´ë²„ TV ON"
        naver.off();  // "ë„¤ì´ë²„ TV OFF"
    }
}
{% endhighlight %}

##### Bridge

ì‹¤ì²´ê³¼ ì‹¤í–‰ì„ ë¶„ë¦¬ì‹œì¼œ ë…ë¦½ì ìœ¼ë¡œ í™•ì¥ì‹œí‚¤ë„ë¡ í•˜ëŠ” íŒ¨í„´ì´ë‹¤.

ì—¬ê¸°ì„œ ì‹¤í–‰ì€ ì–´ë–¤ ê²ƒì´ë“  ë  ìˆ˜ ìˆë‹¤. ì–´ì¨‹ë“  ë¶„ë¦¬ì‹œí‚¤ëŠ”ê²Œ ì¤‘ìš”í•œ ê²ƒì´ë‹¤.

{% highlight java %}
interface Renderer {
    void renderCircle(float x, float y, float radius);
}

class VectorRenderer implements Renderer {
    @Override
    public void renderCircle(float x, float y, float radius) {
        System.out.println("Vector ë°©ì‹ìœ¼ë¡œ ì› ê·¸ë¦¬ê¸° at (" + x + "," + y + ") radius " + radius);
    }
}

class RasterRenderer implements Renderer {
    @Override
    public void renderCircle(float x, float y, float radius) {
        System.out.println("Raster ë°©ì‹ìœ¼ë¡œ ì› ê·¸ë¦¬ê¸° at (" + x + "," + y + ") radius " + radius);
    }
}
{% endhighlight %}

`Renderer` ëŠ” ì‹¤í–‰í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì´ë‹¤. ì¦‰ íŠ¹ì • í–‰ìœ„ë¥¼ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ ,  
íŠ¹ì • í–‰ìœ„ë¥¼ í•˜ëŠ” êµ¬í˜„ì²´ë¥¼ `VectorRenderer`, `RasterRenderer` ë¡œ ê°€ì ¸ê°€ê³  ìˆë‹¤.

ì—¬ê¸°ì„œ ì´ í–‰ìœ„ì˜ ì¤‘ì‹¬ì— ìˆëŠ”, í–‰ìœ„ë¥¼ í•˜ëŠ” ì£¼ì²´ê°€ ì—†ë‹¤. ì¦‰, ì‹¤ì²´ê°€ ì—†ë‹¤ëŠ” ëœ»ì´ë‹¤.

í•´ë‹¹ ì‹¤ì²´ë¥¼ Renderer ì„ has-a ë¡œ ê°€ì§€ê²Œ í•˜ì—¬ì„œ êµ¬í˜„í•˜ë©´ ë˜ê² ë‹¤.

{% highlight java %}
abstract class Shape {
    protected Renderer renderer;

    protected Shape(Renderer renderer) {
        this.renderer = renderer;
    }

    abstract void draw();
    abstract void resize(float factor);
}

class Circle extends Shape {
    private float x, y, radius;

    public Circle(Renderer renderer, float x, float y, float radius) {
        super(renderer);
        this.x = x;
        this.y = y;
        this.radius = radius;
    }

    @Override
    void draw() {
        renderer.renderCircle(x, y, radius);
    }

    @Override
    void resize(float factor) {
        radius *= factor;
    }
}

public class Main {
    public static void main(String[] args) {
        Renderer vector = new VectorRenderer();
        Renderer raster = new RasterRenderer();

        Circle circle1 = new Circle(vector, 5, 5, 10);
        Circle circle2 = new Circle(raster, 10, 10, 20);

        circle1.draw(); // Vector ë°©ì‹
        circle2.draw(); // Raster ë°©ì‹

        circle1.resize(2);
        circle1.draw(); // Vector ë°©ì‹, radius 20
    }
}
{% endhighlight %}

##### Composite

ë§ ê·¸ëŒ€ë¡œ ê·¸ëƒ¥ ê°ì²´ë¥¼ ì¡°ë¦½í•˜ì—¬ì„œ ë¶€ë¶„-ì „ì²´ ê´€ê³„ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ë‹¤.

Applicationì— DI ë¥¼ í•  ë•Œ í•´ë‹¹ instance ë“¤ì„ ë‹¤ ë“¤ê³  ìˆëŠ” í´ë˜ìŠ¤ë¥¼ ìƒê°í•´ë³´ì.

ì´ëŠ” ì‰¬ìš°ë‹ˆ ê·¸ëƒ¥ ë„˜ì–´ê°„ë‹¤.

##### Decorator

ì´ëŠ” Java IO ë¡œ ë§ì´ ë³´ì•˜ì„ ê²ƒì´ë‹¤.

ê°ì²´ì— ìƒˆë¡œìš´ ì±…ì„ì„ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” íŒ¨í„´ì´ë©°, ìƒì† ëŒ€ì‹  êµ¬ì„±(has-a ê´€ê³„) ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ëŠ¥ì„ í™•ì¥í•œë‹¤.

- Interface Component
- Concrete Component
- Decorator Class
- Decorator Concrete Class

**Interface Component**
{% highlight java %}
// Component
interface Coffee {
    String getDescription();
    int cost();
}
{% endhighlight %}

ê¸°ë³¸ ë¼ˆëŒ€ë¥¼ ì •ì˜í•˜ê³ , Concrete Component ì‹¤ì²´ë¥¼ êµ¬í˜„í•œë‹¤.

**Concrete Component**
{% highlight java %}
class BasicCoffee implements Coffee {
    @Override
    public String getDescription() {
        return "ê¸°ë³¸ ì»¤í”¼";
    }

    @Override
    public int cost() {
        return 2000;
    }
}
{% endhighlight  %}

ì—¬ê¸°ê¹Œì§€ëŠ” ì¼ë°˜ì ì¸ í´ë˜ìŠ¤ ì„¤ê³„ ë° êµ¬í˜„ê³¼ ë‹¤ë¥¼ ë°”ê°€ ì—†ë‹¤. í•˜ì§€ë§Œ ê·¸ ì´í›„ Decorator(ì¶”ìƒ í´ë˜ìŠ¤) ë¥¼ í†µí•´

1. Component ë¥¼ ìƒì†í•˜ì—¬ ë‚´ë¶€ì— Concrete Component ë¥¼ ë‘ê³ ,
2. í•´ë‹¹ ê¸°ëŠ¥ë“¤ì„ ì „ë¶€ ìœ ì§€ì‹œí‚¤ë©° Overriding ì„ í•œë‹¤.

**Decorator**
{% highlight java %}
abstract class CoffeeDecorator implements Coffee {
    protected Coffee coffee;

    protected CoffeeDecorator(Coffee coffee) {
        this.coffee = coffee;
    }

    @Override
    public String getDescription() {
        return coffee.getDescription();
    }

    @Override
    public int cost() {
        return coffee.cost();
    }
}
{% endhighlight %}

ì—¬ê¸°ì„œ ì´ ì¶”ìƒ í´ë˜ìŠ¤ì˜ í•˜ìœ„ í´ë˜ìŠ¤ë„ base object(Concrete component) ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ protected ë¡œ êµ¬ì„±í•´ì•¼ í•œë‹¤.

ê·¸ ì´í›„ëŠ” ì¶”ê°€í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ë“¤ì„ Decorator ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ê°€ì§„ í´ë˜ìŠ¤ë“¤ë¡œ í™•ì¥í•´ë‚˜ê°€ë©´ ëœë‹¤.

{% highlight java %}
class MilkDecorator extends CoffeeDecorator {
    public MilkDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return coffee.getDescription() + ", ìš°ìœ  ì¶”ê°€";
    }

    @Override
    public int cost() {
        return coffee.cost() + 500;
    }
}

class SugarDecorator extends CoffeeDecorator {
    public SugarDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return coffee.getDescription() + ", ì„¤íƒ• ì¶”ê°€";
    }

    @Override
    public int cost() {
        return coffee.cost() + 200;
    }
}
{% endhighlight %}
 
##### Facade

ë³µì¡í•œ ì„œë¸Œì‹œìŠ¤í…œì„ ë‹¨ìˆœí™”ëœ ì¸í„°í˜ì´ìŠ¤ë¡œ ì œê³µí•˜ê¸° ìœ„í•´(ì—¬ëŸ¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í•˜ë‚˜ì˜ APIë¡œ í†µí•©í•˜ê¸° ìœ„í•´) ì‚¬ìš©ëœë‹¤.

Adapter ë‘ ë‹¤ë¥¸ ì ì€ Adapter ëŠ” ìœ ì‚¬í•œ ê¸°ëŠ¥ì„ ê°€ì§„ í´ë˜ìŠ¤ ë¼ë¦¬ ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ê°€ ë‹¤ë¥¼ ë•Œ ì‚¬ìš©í•˜ê³ ,  
Facade ëŠ” ë‹¤ìˆ˜ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ê³¼ ë³µí•©ì ì´ê³  ë³µì¡í•œ ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œì— ëŒ€í•´ ì—¬ëŸ¬ ê°ì²´ë¥¼ ë‹¨ì¼ ì ‘ê·¼ì ì„ í†µí•´  
ë‹¨ìˆœí•˜ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤. ì¦‰ Facade ëŠ” ì¢…í•© ë¦¬ëª¨ì»¨ ëŠë‚Œì´ë©´ Adapter ëŠ” ì—°ê²°ë§Œ ì‹œì¼œì£¼ëŠ” ì• ë‹¤.

{% highlight java %}
class TV {
    public void on() { System.out.println("TV ì¼œê¸°"); }
    public void off() { System.out.println("TV ë„ê¸°"); }
}

class SoundSystem {
    public void on() { System.out.println("ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ ì¼œê¸°"); }
    public void off() { System.out.println("ì‚¬ìš´ë“œ ì‹œìŠ¤í…œ ë„ê¸°"); }
}

class DVDPlayer {
    public void on() { System.out.println("DVD í”Œë ˆì´ì–´ ì¼œê¸°"); }
    public void off() { System.out.println("DVD í”Œë ˆì´ì–´ ë„ê¸°"); }
    public void play(String movie) { System.out.println(movie + " ì¬ìƒ"); }
}
{% endhighlight %}

ë‹¤ìˆ˜ì˜ ê¸°ê¸°ë“¤ì´ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µí•¨ì„ ë³¼ ìˆ˜ ìˆì§€ë§Œ ê°ê° ë©”ì„œë“œ ì‹œê·¸ë‹ˆì²˜ê°€ ë‹¤ë¥¼ ìˆ˜ë„, ê°™ì„ ìˆ˜ë„ ìˆë‹¤.

**Facade**
{% highlight java %}
class HomeTheaterFacade {
    private final TV tv;
    private final SoundSystem sound;
    private final DVDPlayer dvd;

    public HomeTheaterFacade(TV tv, SoundSystem sound, DVDPlayer dvd) {
        this.tv = tv;
        this.sound = sound;
        this.dvd = dvd;
    }

    public void watchMovie(String movie) {
        tv.on();
        sound.on();
        dvd.on();
        dvd.play(movie);
        System.out.println("ì˜í™” ì‹œì‘ ì¤€ë¹„ ì™„ë£Œ!");
    }

    public void endMovie() {
        dvd.off();
        sound.off();
        tv.off();
        System.out.println("ì˜í™” ì¢…ë£Œ!");
    }
}
{% endhighlight %}

Facade ë¥¼ ë‘ì–´ ëª¨ë“  ê¸°ëŠ¥ë“¤ì„ ì¡°í•©í•˜ì—¬ ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ìƒì„±í•´ë‚¼ ìˆ˜ ìˆë‹¤.

##### Proxy

ì‹¤ì²´ ê°ì²´ì— ì ‘ê·¼í•˜ê¸° ì „ì— ëŒ€ë¦¬ ê°ì²´ë¥¼ ë‘ì–´ ì œì–´í•œë‹¤. ëª©í‘œí•˜ëŠ” ê¸°ëŠ¥ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:

- ì ‘ê·¼ ì œì–´
- ì§€ì—° ë¡œë”©
- ë¡œê¹…, ìºì‹±

êµ¬ì¡°ëŠ” Subject(inteface), RealSubject, Proxy(RealSubject ë¥¼ ê°ì‹¸ê³  ì ‘ê·¼ ì œì–´) ë¡œ ê°€ì ¸ê°„ë‹¤.

**Lazy Proxy**

í•„ìš”í•  ë•Œë§Œ ì´ˆê¸°í™”ë¥¼ ìˆ˜í–‰í•˜ë„ë¡ í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ìµœì í™” í•  ìˆ˜ ìˆë‹¤.

{% highlight java %}
// Subject
interface Image {
    void display();
}

// RealSubject
class RealImage implements Image {
    private String filename;

    public RealImage(String filename) {
        this.filename = filename;
        loadFromDisk();
    }

    private void loadFromDisk() {
        System.out.println("ì´ë¯¸ì§€ ë¡œë”©: " + filename);
    }

    @Override
    public void display() {
        System.out.println("ì´ë¯¸ì§€ í‘œì‹œ: " + filename);
    }
}
// ì•„ì§ ìƒì„±ë˜ì§€ ì•Šì€ ìƒíƒœ

// Proxy ë¥¼ í†µí•´ has-a ê´€ê³„ë¡œ RealImage ë¥¼ ë¶€ë¥´ê¸° ì „ê¹Œì§€ëŠ” ì´ˆê¸°í™” X
class ProxyImage implements Image {
    private RealImage realImage;
    private String filename;

    public ProxyImage(String filename) {
        this.filename = filename;
    }

    @Override
    public void display() {
        if (realImage == null) { // Lazy initialization
            realImage = new RealImage(filename);
        }
        System.out.println("í”„ë¡ì‹œë¥¼ í†µí•´ ì ‘ê·¼ ì¤‘...");
        realImage.display();
    }
}
{% endhighlight %}

**Protection Proxy**

ì‚¬ìš©ìì˜ ê¶Œí•œì— ë”°ë¼ ì ‘ê·¼ì„ ì œì–´í•œë‹¤.

{% highlight java %}
class ProtectedImageProxy implements Image {
    private RealImage realImage;
    private String filename;
    private String userRole;

    public ProtectedImageProxy(String filename, String userRole) {
        this.filename = filename;
        this.userRole = userRole;
    }

    @Override
    public void display() {
        if ("ADMIN".equals(userRole)) {
            if (realImage == null) realImage = new RealImage(filename);
            realImage.display();
        } else {
            System.out.println("ê¶Œí•œ ì—†ìŒ: ì´ë¯¸ì§€ ì ‘ê·¼ ë¶ˆê°€");
        }
    }
}
{% endhighlight %}

**Virtual Proxy**

í•„ìš”í•œ ê¸°ëŠ¥ë§Œì„ ê°€ì ¸ì˜¤ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤. ì´ë•ŒëŠ” Subject ê°€ ë¶„ë¦¬ê°€ ì˜ ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.

{% highlight java %}
// Subject
interface Image {
    void display();
}

// RealSubject
class RealImage implements Image {
    private String filename;

    public RealImage(String filename) {
        this.filename = filename;
        loadFromDisk();
    }

    private void loadFromDisk() {
        System.out.println("ì›ë³¸ ì´ë¯¸ì§€ ë¡œë”©: " + filename);
    }

    @Override
    public void display() {
        System.out.println("ì´ë¯¸ì§€ í‘œì‹œ: " + filename);
    }
}

// Virtual Proxy
class VirtualImageProxy implements Image {
    private RealImage realImage;
    private String filename;
    private boolean showThumbnailOnly;

    public VirtualImageProxy(String filename, boolean showThumbnailOnly) {
        this.filename = filename;
        this.showThumbnailOnly = showThumbnailOnly;
    }

    @Override
    public void display() {
        if (showThumbnailOnly) {
            System.out.println("ì¸ë„¤ì¼ í‘œì‹œ: " + filename);
        } else {
            if (realImage == null) {
                realImage = new RealImage(filename);
            }
            realImage.display();
        }
    }
}
{% endhighlight %}

**Smart Proxy**

ì‹¤ ê°ì²´ì— ì ‘ê·¼í•  ë•Œ ì¶”ê°€ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” í”„ë¡ì‹œì´ë©°, ìºì‹± ê¸°ëŠ¥, ë¡œê¹… ê¸°ëŠ¥ ë“±ë“±ì„ ì˜ˆë¡œ ë“¤ ìˆ˜ ìˆê² ë‹¤.

{% highlight java %}
interface Image {
    void display();
}

// ì‹¤ì œ ê°ì²´
class RealImage implements Image {
    private final String filename;

    public RealImage(String filename) {
        this.filename = filename;
        loadFromDisk();
    }

    private void loadFromDisk() {
        System.out.println("ì´ë¯¸ì§€ ë¡œë”©: " + filename);
    }

    @Override
    public void display() {
        System.out.println("ì´ë¯¸ì§€ í‘œì‹œ: " + filename);
    }
}

// Smart Proxy
class SmartImageProxy implements Image {
    private RealImage realImage;
    private final String filename;
    private boolean cached = false;

    public SmartImageProxy(String filename) {
        this.filename = filename;
    }

    @Override
    public void display() {
        System.out.println("[Smart Proxy] display í˜¸ì¶œ ê¸°ë¡");
        if (!cached) {
            realImage = new RealImage(filename);
            cached = true;
        } else {
            System.out.println("[Smart Proxy] ìºì‹œëœ ì´ë¯¸ì§€ ì‚¬ìš©");
        }
        realImage.display();
    }
}
{% endhighlight %}

í–‰ìœ„ íŒ¨í„´ì€ ë‹¤ìŒ ì¥ì—ì„œ..