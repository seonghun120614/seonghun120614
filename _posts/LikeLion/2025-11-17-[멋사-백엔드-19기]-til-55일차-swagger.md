---
layout: post
title:  "[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 55ì¼ì°¨ Swagger"
date:   2025-11-14 09:33:45 +0900
categories: ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ ë©‹ì‚¬ ë°±ì—”ë“œ TIL Java Spring
---

<!--more-->
ì‘ì„±ì¤‘

## ğŸ“‚ ëª©ì°¨
- []()
- []()

---

## ğŸ“š ë³¸ë¬¸

### Swagger

ì†Œí”„íŠ¸ì›¨ì–´ ê°„ì— ìƒí˜¸ì‘ìš©ì„ í•˜ê¸° ìœ„í•´ ì œê³µí•˜ëŠ”ê²Œ ë°”ë¡œ API ë¬¸ì„œë‹¤. API ìˆ˜ê°€ ë§ì•„ì§€ë§Œ ì´ëŸ° ë¬¸ì„œ ì‘ì„±ë„ êµ‰ì¥íˆ ë²„ê²ê²Œ ëœë‹¤. ì´ëŸ° ë¬¸ì„œë¥¼ ìë™í™” í•  ìˆ˜ ìˆëŠ” ê²ƒì´ ë°”ë¡œ Swagger ì´ë‹¤.

#### API ë¬¸ì„œí™”

ê°œë°œìê°€ API ë¥¼ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ êµ¬ì¡°, ìš”ì²­ / ì‘ë‹µ ë°©ì‹, ì¸ì¦, ì˜¤ë¥˜ ë“±ì„ ì •ë¦¬í•œ ë¬¸ì„œì´ë©° ë¬¸ì„œê°€ ì—†ê±°ë‚˜ ë¶ˆì™„ì „í•˜ë©´ ì½”ë“œ ë¶„ì„, ë¬¸ì˜ ë“± ë¹„íš¨ìœ¨ì´ ë°œìƒí•˜ê²Œ ëœë‹¤. ëª…í™•í•œ ë¬¸ì„œëŠ” ê°œë°œì ê²½í—˜ê³¼ ìœ ì§€ë³´ìˆ˜ íš¨ìœ¨ì„ ë†’ì¼ ê²ƒì´ë‹¤.

**ì£¼ìš” ìš”ì†Œ**
- end point: URL, HTTP ë©”ì„œë“œ(GET/POST/PUT/DELETE)
- reuqest: í•„ìš” íŒŒë¼ë¯¸í„°, í—¤ë”
- response: ì‘ë‹µ ë°ì´í„° êµ¬ì¡°, HTTP status code
- Examples ìš”ì²­/ì‘ë‹µ: ì‹¤ì œ í˜¸ì¶œ ì˜ˆì‹œ, ì˜ˆìƒ ê²°ê³¼
- Error Code ì„¤ëª…: ë°œìƒ ê°€ëŠ¥í•œ ì˜¤ë¥˜ ì½”ë“œ ë° í•´ê²° ë°©ë²•

#### Swagger ë° OpenAPI ê°œë… ì •ë¦¬

Swagger ëŠ” API ë¬¸ì„œë¥¼ ìë™ ìƒì„±/ê´€ë¦¬í•˜ëŠ” ë„êµ¬ì´ë©° OpenAPI Specification í‘œì¤€ ê¸°ë°˜ìœ¼ë¡œ API ëª…ì„¸ë¥¼ ì •ì˜í•˜ê³ , ì‘ì„±ëœ ëª…ì„¸ë¥¼ í™œìš©í•˜ì—¬ ë¬¸ì„œ, í…ŒìŠ¤íŠ¸ UI, ì½”ë“œ ìƒì„± ë“±ì„ ìë™í™”í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

**OpenAPI Specification(OAS)**
- RESTful API ë¥¼ ê¸°ìˆ í•˜ëŠ” í‘œì¤€ í¬ë§·
- YAML/JSON í˜•ì‹ìœ¼ë¡œ API êµ¬ì¡° ì •ì˜
- ëŒ€ë¶€ë¶„ì˜ ì–¸ì–´/í”„ë ˆì„ì›Œí¬ì—ì„œ í™œìš© ê°€ëŠ¥
- Swagger UI, Redoc ë“±ì„ í†µí•´ ë¬¸ì„œ ìë™ ìƒì„± ê°€ëŠ¥

#### Swagger êµ¬ì„± ìš”ì†Œ

- Swagger UI
    - ë¸Œë¼ìš°ì € API ë¬¸ì„œì˜ ì‹œê°ì  ì œê³µ
    - APIë¥¼ ì§ì ‘ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” ì¸í„°ë™í‹°ë¸Œ UI
- Swagger Editor
    - API ëª…ì„¸(YAML/JSON)ë¥¼ ì‘ì„±í•˜ëŠ” ì˜¨ë¼ì¸ í¸ì§‘ê¸°
    - ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°
- Swagger Codegen
    - API ëª…ì„¸ë¥¼ ê¸°ë°˜í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ SDK, ì„œë²„ ìŠ¤í… ì½”ë“œ ìë™ ìƒì„±

#### Swagger ì¥ì 

ì£¼ìš”ê¸°ëŠ¥ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤:

**ìë™í™”ëœ API ë¬¸ì„œ ìƒì„±**
Swagger ëŠ” ì–´í”Œë¦¬ì¼€ì´ì…˜ ì½”ë“œì— ì‘ì„±í•œ ì• ë…¸í…Œì´ì…˜ì„ ê¸°ë°˜ìœ¼ë¡œ API ë¬¸ì„œë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ”ë°, ë³„ë„ì˜ ì‘ì—… ì—†ì´ë„ ì—”ë“œí¬ì¸íŠ¸, íŒŒë¼ë¯¸í„°, ì‘ë‹µ êµ¬ì¡° ë“±ì´ ìë™ìœ¼ë¡œ ë°˜ì˜ë˜ê¸° ë•Œë¬¸ì— ë¬¸ì„œë¥¼ ì§ì ‘ ì‘ì„±í•˜ë˜ ì‹œëŒ€ì™€ ë¹„êµí•˜ë©´ ì••ë„ì ìœ¼ë¡œ íš¨ìœ¨ì ì´ë‹¤.

**ì¸í„°ë™í‹°ë¸Œ API í…ŒìŠ¤íŠ¸ ê¸°ëŠ¥ ì œê³µ**
Swagger UIëŠ” ë‹¨ìˆœ ë¬¸ì„œê°€ ì•„ë‹ˆë¼ ë¸Œë¼ìš°ì €ì—ê²Œ ë°”ë¡œ API ë¥¼ í˜¸ì¶œí•´ë³¼ ìˆ˜ ìˆëŠ” ì‚´ì•„ìˆëŠ” í…ŒìŠ¤íŠ¸ í™˜ê²½ì„ ì œê³µí•˜ê¸° ë•Œë¬¸ì— ê°œë°œ/QA/ê¸°íšìê°€ `Postman`, `curl` ê¸°ëŠ¥ ì—†ì´ ë°”ë¡œ API ë¥¼ ê²€ì¦í•  ìˆ˜ ìˆë‹¤ëŠ” í° ì¥ì ì´ ìˆë‹¤.

**ì–¸ì–´ ë° í”„ë ˆì„ì›Œí¬ ë…ë¦½ì  êµ¬ì¡°**
Swagger/OASëŠ” íŠ¹ì • ì–¸ì–´ë‚˜ í”„ë ˆì„ì›Œí¬ì— ì¢…ì†ë˜ì§€ ì•ŠëŠ”ë‹¤. Java(Spring), Node.js, Python(FastAPI), Golang ë“± ì–´ë–¤ í™˜ê²½ì—ì„œë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê³  ê³µìœ í•  ìˆ˜ ìˆì–´ íŒ€ ê°„ í‘œì¤€í™”ê°€ ìˆ˜ì›”í•˜ë‹¤.

**í‘œì¤€í™”ëœ API ëª…ì„¸(JSON/YAML) ì œê³µ**
API êµ¬ì¡°ë¥¼ JSON ë˜ëŠ” YAML ë¡œ í‘œí˜„í•˜ëŠ” Open API Specification(OAS) ë¥¼ ê·¸ëŒ€ë¡œ ë”°ë¥´ê²Œ ëœë‹¤. ì´ë¥¼ í†µí•´ ë„êµ¬ ê°„ í˜¸í™˜ì„±ì´ ë†’ê³ , ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ì˜ ì—°ë™ì´ë‚˜ API ê´€ë¦¬ í”Œë«í¼ì—ì„œë„ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

#### Swagger Dependency

{% highlight gradle %}
implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.8.5'
{% endhighlight %}

### Swagger ì ìš©

{% highlight java %}
@Configuration
@OpenAPIDefinition()
public class SwaggerConfig {
}
{% endhighlight %}

`OpenAPIDefinition` ëŠ” ë©”íƒ€ ë°ì´í„°ë¥¼ ì„¤ì •í•˜ëŠ” ê³³ì´ë‹¤. ì´ ì„œë¹„ìŠ¤ì˜ title, version, description ë“± swagger doc ì˜ ìƒë‹¨ì— í‘œì‹œí•  ë¬¸ì„œ ì •ë³´ë¥¼ ë„ìš°ê²Œ ëœë‹¤.

#### OpenAPIDefinition 

ì•ˆì— ë“¤ì–´ê°€ëŠ” ì†ì„±ì„ ì •ë¦¬í•˜ì.

{% highlight java %}
    Info info() default @Info;

    Tag[] tags() default {};

    Server[] servers() default {};

    SecurityRequirement[] security() default {};

    ...
{% endhighlight %}

##### info ì†ì„±

`Info info` ëŠ” API ë©”íƒ€ ë°ì´í„° ì •ë³´ë¥¼ ëœ»í•œë‹¤. ë‹¤ìŒ ì†ì„±ë“¤ì´ ë˜ ìˆë‹¤.

- `String title`: API ì´ë¦„
- `String version`: version ì •ë³´
- `String description`: API ì„¤ëª…
- `String termsOfService`: ì´ìš©ì•½ê´€ URL
- `Contact contact`: ê°œë°œì í˜¹ì€ ì¡°ì§ì˜ ì—°ë½ ì •ë³´
- `License license`: ë¼ì´ì„ ìŠ¤ ì •ë³´ -> default ëŠ” `@io.swagger.v3.oas.annotations.info.License` ì´ê³  êµ³ì´ ëª…ì‹œ ì•ˆí•´ë„ ëœë‹¤.
- ...

{% highlight java %}
@OpenAPIDefinition(
    info = @Info(
        title = "My API",
        description = "ì„œë¹„ìŠ¤ API ë¬¸ì„œ",
        version = "v1.0.0"
    )
)
public RestController {
    ...
}
{% endhighlight %}

##### tags ì†ì„±

`Tag[] tags` ëŠ” ê° ì»¨íŠ¸ë¡¤ëŸ¬ ë˜ëŠ” API ê·¸ë£¹ì— ëŒ€í•œ íƒœê·¸ë¥¼ **ì „ì—­ ì„ ì–¸**í•˜ëŠ” ê¸°ëŠ¥ì´ë©°, Swagger UI ì—ì„œ API ë¥¼ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ì •ë ¬í•˜ê³  ì„¤ëª…ì„ ë¶™ì¼ ìˆ˜ ìˆë‹¤.

- `String name`: ì„¤ëª… ìƒëµ
- `String description`: ì„¤ëª… ìƒëµ

{% highlight java %}
tags = {
    @Tag(name = "User", description = "ì‚¬ìš©ì ê´€ë ¨ API"),
    @Tag(name = "Auth", description = "ì¸ì¦ ê´€ë ¨ API")
}
{% endhighlight %}

##### servers ì†ì„±

`Server[] servers` ëŠ” API í˜¸ì¶œ ì„œë²„ ì£¼ì†Œ ëª©ë¡ì„ ë¬¸ì„œí™”í•˜ë©°, Swagger UI ì—ì„œ API í˜¸ì¶œ ì‹œ ê¸°ë³¸ì ìœ¼ë¡œ ì—°ê²°í•  ì„œë²„ ì£¼ì†Œë¥¼ ëª…ì‹œí•œë‹¤. í™˜ê²½ë³„(ë¡œì»¬, ê°œë°œ, ìš´ì˜) ì„œë²„ URL ì„ ì œê³µí•  ë•Œ ì‚¬ìš©

- `String url`: ìƒëµ
- `String description`: ìƒëµ
- `ServerVariable[] variables`:

{% highlight java %}
servers = {
    @Server(url = "http://localhost:8080", description = "Local Server"),
    @Server(url = "https://api.example.com", description = "Production Server")
}
{% endhighlight %}

##### security ì†ì„±

`SecurityRequirement[] security` ëŠ” ì „ì—­ ë³´ì•ˆ ì„¤ì •, API ì „ì²´ì— ì ìš©í•  ì¸ì¦/ì¸ê°€ ë°©ì‹ì„ ì •ì˜í•œë‹¤(ex. JWT, OAuth2, ...).

- `String name`: ìƒëµ
- `String[] scopes`:

{% highlight java %}
security = {
    @SecurityRequirement(name = "JWT")
}
{% endhighlight %}

> `@SecuritySchema` ë„ ì„¤ì •í•´ì•¼ í•¨

#### Swagger Configuration

info ë§Œ ìš°ì„  ì ì ˆíˆ ëª…ì‹œí•´ì£¼ê³  ì‹¤í–‰ì‹œí‚¨ í›„ ë‹¤ìŒ url ë¡œ ë“¤ì–´ê°€ì.

{% highlight java %}
@Configuration
@OpenAPIDefinition(
		info = @Info(
				title = "Swagger ì‹¤ìŠµ ë¬¸ì„œ",
				description = "Swagger ì‹¤ìŠµì„ ìœ„í•œ ë¬¸ì„œì…ë‹ˆë‹¤.",
				termsOfService = "http://localhost:8080/ì´ìš©ì•½ê´€",
				contact = @Contact(
						name = "Seonghun Park",
						url = "https://github.com/seonghun120614",
						email = "seonghun120614@gmail.com"
				)
		)
)
public class SwaggerConfig { }
{% endhighlight %}

{% highlight text %}
http://localhost:8080/swagger-ui/index.html
{% endhighlight %}

![assets/img/swagger-ui-open-api-definition-annotation.png]({{ site.baseUrl }}/assets/img/swagger-ui-open-api-definition-annotation.png)

ìœ„ê°€ ë–´ë‹¤ë©´ ì„±ê³µì´ë‹¤. ì´ì œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ëª‡ ê°œ ì‘ì„± í›„ì— íƒœê·¸ë¥¼ ì¨ë³´ì.

##### Controller ì‘ì„±

{% highlight java %}
@RestController
public class AuthController implements APIEndPoint {

	@PostMapping("/login")
	public String login(String username, String password) { return "login"; }

	@PostMapping("/register")
	public String register(String username, String password) { return "register complete"; }

	@GetMapping("/user")
	public String user(String username) { return "user"; }
}
{% endhighlight %}

ìœ„ì™€ ê°™ì´ ì‘ì„±í•´ì£¼ê³  ëŒë¦¬ë©´ swagger ui ì—ëŠ” í•´ë‹¹ ì»¨íŠ¸ë¡¤ëŸ¬ì˜ endpoint ê°€ ëœ¨ì§„ ì•ŠëŠ”ë‹¤. ì´ ë˜í•œ ë“±ë¡ì„ í•´ì¤˜ì•¼ í•˜ëŠ”ë°, `@Operation` ì„ ì‚¬ìš©í•˜ì—¬ ë“±ë¡í•  ìˆ˜ ìˆë‹¤(Controller ì—ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤).

{% highlight java %}
@RestController
... {
    @Operation
    ...
}
{% endhighlight %}

ìœ„ì²˜ëŸ¼ ì‘ì„±í•œë‹¤. `Operation` ë„ ë‹¹ì—°íˆ ì†ì„±ë“¤ì´ ìˆë‹¤. ë‹¤ìŒì„ ë³´ì.

**Controller ì˜ endpoint method ë“¤ì—ê²Œ @Operation ì ìš©í•˜ê¸°**
- `String summary`: API ì˜ ê°„ë‹¨í•œ ìš”ì•½ ì„¤ëª…ì´ ë“¤ì–´ê°„ë‹¤, Swagger UI ëª©ë¡ì—ì„œ ê°€ì¥ ëˆˆì— ë„ë©°, ê°„ë‹¨íˆ ì‘ì„±í•œë‹¤.
- `String description`: summary ë³´ë‹¤ëŠ” ë” ìì„¸í•œ ì„¤ëª…ì„ ì¨ì¤€ë‹¤.
- `String[] tags`: í•´ë‹¹ API ë¥¼ íŠ¹ì • ê·¸ë£¹ìœ¼ë¡œ ë¬¶ëŠ” íƒœê·¸ì´ë‹¤. ì´ê²ƒì´ ë°”ë¡œ Config ìª½ì˜ `OpenAPIDefinition` ì˜ `tags` ìª½ì— ë„£ìœ¼ë©´ ëœë‹¤.
- `Parameter[] parameters`: ë©”ì„œë“œ íŒŒë¼ë¯¸í„° ì •ë³´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì •ì˜í•˜ë©°, ìë™ ê°ì§€ê°€ ë˜ì§€ë§Œ, ì„¤ëª…/ì˜ˆì‹œ/í•„ìˆ˜ ì—¬ë¶€ë¥¼ ì •êµí•˜ê²Œ ì œì–´í•˜ê³  ì‹¶ì„ ë•Œë§Œ ì‚¬ìš©í•œë‹¤.
- `RequestBody requestBody`: RequestBody ì˜ ì„¤ëª…, ì˜ˆì œ ê°’ì„ ì¶”ê°€í•  ë•Œ ì‚¬ìš©í•˜ë©°, DTO ì— Swagger ì„¤ëª…ì´ ì—†ê±°ë‚˜ ë³„ë„ì˜ ì˜ˆì œê°€ í•„ìš”í•  ë•Œ ì‚¬ìš©í•œë‹¤, ê¸°ë³¸ì ìœ¼ë¡œ default ê°’ì´ ìˆì–´ì„œ êµ³ì´ ì„¤ì • ì•ˆí•´ì¤˜ë„ ëœë‹¤.
- `ApiResponse[] responses`: API ì˜ ì‘ë‹µ ì½”ë“œë³„ ì„¤ëª… ë° ìŠ¤í‚¤ë§ˆ ì •ì˜, ì„±ê³µ/ì‹¤íŒ¨ ì¼€ì´ìŠ¤ë¥¼ ë¬¸ì„œí™”í•  ë•Œ í•„ìˆ˜
- `SecurityRequirement[] security`: í•´ë‹¹ APIì— ì ìš©í•  ë³´ì•ˆì„ ì •ì˜, ì „ì—­ ë³´ì•ˆì´ ìˆì§€ë§Œ, íŠ¹ì • API ì—ì„œë§Œ ìˆ˜ì •í•  ë•Œ ì‚¬ìš©

{% highlight java %}
@Operation(
    summary = "íšŒì› ì¡°íšŒ",
    description = "userIdë¡œ íŠ¹ì • íšŒì› ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.",
    tags = {"User"},
    parameters = {
        @Parameter(name = "userId", description = "íšŒì› ID", required = true)
    },
    responses = {
        @ApiResponse(responseCode = "200", description = "ì¡°íšŒ ì„±ê³µ"),
        @ApiResponse(responseCode = "404", description = "í•´ë‹¹ íšŒì›ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ")
    },
    security = @SecurityRequirement(name = "JWT")
)
{% endhighlight %}

ì´ë•Œ tag ëŠ” class ìˆ˜ì¤€ì—ì„œë„ ê±¸ ìˆ˜ ìˆìœ¼ë©°(`@Tag` ì• ë…¸í…Œì´ì…˜), parameters ë˜í•œ ì¸ì ìˆ˜ì¤€ì—ì„œ `@Parameter` ë¥¼ ê±¸ì–´ì£¼ì–´ í•  ìˆ˜ë„ ìˆë‹¤.

{% highlight java %}
@Operation(
        summary = "íšŒì›ê°€ì…",
        description = "íšŒì›ê°€ì…í•˜ëŠ” API",
        tags = "non-auth",
        responses = {
                @ApiResponse(description = "íšŒì›ê°€ì… ì„±ê³µ", responseCode = "200"),
                @ApiResponse(description = "íšŒì›ê°€ì… ì‹¤íŒ¨", responseCode = "404")
        }
)
@PostMapping("/register")
public String register(
        @Parameter(
                name = "username",
                required = true,
                allowEmptyValue = false,
                example = "honggildong")
        String username,
        String password) {
    return "register complete";
}
{% endhighlight %}

ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ê³  ì‹¤í–‰í•´ë³´ì.

![assets/img/swagger-operation-example-img.png]({{ site.baseUrl }}/assets/img/swagger-operation-example-img.png)

ì´ì œ security ì†ì„±ì„ ì„¤ì •í•´ë³´ì.

##### Security ì„¤ì •

Swaggerì—ì„œëŠ” API ë³´ì•ˆì„ ë‘ ë‹¨ê³„ë¡œ ì •ì˜í•œë‹¤:

- **Security Schemes**: ë³´ì•ˆ ë©”ì»¤ë‹ˆì¦˜ ì •ì˜ (ì–´ë–¤ ì¸ì¦ ë°©ì‹ì„ ì‚¬ìš©í• ì§€)
- **Security Requirements**: ì‹¤ì œ ì ìš© (ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ì— ì ìš©í• ì§€)

**ì£¼ìš” ë³´ì•ˆ íƒ€ì…**

1. API Key ì¸ì¦

ê°€ì¥ ê°„ë‹¨í•œ í˜•íƒœì´ë©°, í—¤ë”ë‚˜ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì¸ì¦ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” í˜•íƒœì´ë‹¤.

{% highlight java %}
# OpenAPI 3.0 ì˜ˆì‹œ
components:
  securitySchemes:
    ApiKeyAuth:
      type: apiKey
      in: header           # header, query, cookie ê°€ëŠ¥
      name: X-API-Key      # ì‹¤ì œ í‚¤ ì´ë¦„

# ì „ì—­ ì ìš©
security:
  - ApiKeyAuth: []

# íŠ¹ì • ì—”ë“œí¬ì¸íŠ¸ë§Œ ì ìš©
paths:
  /users:
    get:
      security:
        - ApiKeyAuth: []
{% endhighlight %}

ì½”ë“œ ì˜ˆì‹œ:
{% highlight java %}
@Configuration
public class SwaggerConfig {
    
    @Bean
    public OpenAPI openAPI() {
        return new OpenAPI()
            .components(new Components()
                .addSecuritySchemes("ApiKeyAuth",
                    new SecurityScheme()
                        .type(SecurityScheme.Type.APIKEY)
                        .in(SecurityScheme.In.HEADER)
                        .name("X-API-Key")))
            .addSecurityItem(new SecurityRequirement()
                .addList("ApiKeyAuth"));
    }
}
{% endhighlight %}

2. JWT ë³´ì•ˆ í† í°

JWT ë³´ì•ˆ í† í°ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì„ë•Œ ë‹¤ìŒì„ ì…ë ¥í•œë‹¤.

{% highlight yml %}
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT  # ì„ íƒì‚¬í•­, ë¬¸ì„œí™” ëª©ì 

security:
  - BearerAuth: []
{% endhighlight %}

ì½”ë“œ ì˜ˆì‹œ:
{% highlight java %}
@Bean
public OpenAPI openAPI() {
    return new OpenAPI()
        .components(new Components()
            .addSecuritySchemes("BearerAuth",
                new SecurityScheme()
                    .type(SecurityScheme.Type.HTTP)
                    .scheme("bearer")
                    .bearerFormat("JWT")
                    .description("JWT í† í°ì„ ì…ë ¥í•˜ì„¸ìš”")))
        .addSecurityItem(new SecurityRequirement()
            .addList("BearerAuth"));
}
{% endhighlight %}

3. Basic Auth

{% highlight yml %}
components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic

security:
  - BasicAuth: []
{% endhighlight %}

ì½”ë“œ ì˜ˆì‹œ:
{% highlight java %}
.addSecuritySchemes("BasicAuth",
    new SecurityScheme()
        .type(SecurityScheme.Type.HTTP)
        .scheme("basic"))
{% endhighlight %}

4. OAuth 2.0

{% highlight yml %}
components:
  securitySchemes:
    OAuth2:
      type: oauth2
      flows:
        authorizationCode:
          authorizationUrl: https://example.com/oauth/authorize
          tokenUrl: https://example.com/oauth/token
          scopes:
            read:users: ì‚¬ìš©ì ì •ë³´ ì½ê¸°
            write:users: ì‚¬ìš©ì ì •ë³´ ì“°ê¸°
            admin: ê´€ë¦¬ì ê¶Œí•œ

security:
  - OAuth2:
    - read:users
    - write:users
{% endhighlight %}

ì½”ë“œ ì˜ˆì‹œ:
{% highlight java %}
@Bean
public OpenAPI openAPI() {
    return new OpenAPI()
        .components(new Components()
            .addSecuritySchemes("OAuth2",
                new SecurityScheme()
                    .type(SecurityScheme.Type.OAUTH2)
                    .flows(new OAuthFlows()
                        .authorizationCode(new OAuthFlow()
                            .authorizationUrl("https://example.com/oauth/authorize")
                            .tokenUrl("https://example.com/oauth/token")
                            .scopes(new Scopes()
                                .addString("read:users", "ì‚¬ìš©ì ì •ë³´ ì½ê¸°")
                                .addString("write:users", "ì‚¬ìš©ì ì •ë³´ ì“°ê¸°"))))))
        .addSecurityItem(new SecurityRequirement()
            .addList("OAuth2", Arrays.asList("read:users", "write:users")));
}
{% endhighlight %}

{% highlight java %}
@OpenAPIDefinition(
		info = @Info(
				title = "Swagger ì‹¤ìŠµ ë¬¸ì„œ",
				description = "Swagger ì‹¤ìŠµì„ ìœ„í•œ ë¬¸ì„œì…ë‹ˆë‹¤.",
				termsOfService = "http://localhost:8080/ì´ìš©ì•½ê´€",
				contact = @Contact(
						name = "Seonghun Park",
						url = "https://github.com/seonghun120614",
						email = "seonghun120614@gmail.com"
				)
		),
		security = @SecurityRequirement(name = "bearerAuth")
)
{% endhighlight %}

ìœ„ ë°©ë²•ë“¤ ì¤‘ í•˜ë‚˜ë¥¼ ì‘ì„±í•˜ì. ì´ë•Œ name ì´ `bearerAuth` ë¥¼ ê°€ì§€ëŠ” `SecurityScheme` ì„ ì •ì˜í•´ì•¼ í•œë‹¤.

{% highlight java %}
		security = @SecurityRequirement(name = "bearerAuth")
)
@SecurityScheme(
		name = "bearerAuth",
		type = SecuritySchemeType.HTTP,
		scheme = "bearer",
		bearerFormat = "JWT"
)
{% endhighlight %}

![assets/img/swagger-security.png](../../assets/img/swagger-security.png)