---
layout: post
title:  "[ë©‹ì‚¬ ë°±ì—”ë“œ 19ê¸°] TIL 29ì¼ì°¨"
date:   2025-09-25 16:08:49 +0900
categories: ë©‹ìŸì´ì‚¬ìì²˜ëŸ¼ ë©‹ì‚¬ ë°±ì—”ë“œ TIL Java
---

<!--more-->

## ğŸ“‚ ëª©ì°¨

- [Process](#process)
- [Thread](#thread)
    - [í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°](#í”„ë¡œì„¸ìŠ¤ì˜-ë©”ëª¨ë¦¬-êµ¬ì¡°)
    - [IPC](#ipc)
    - [Java Thread](#java-thread)
    - [Concurrency](#concurrency)
        - [Deadlock](#deadlock)
        - [Starvation](#starvation)
    - [Concurrency ì–»ê¸°](#concurrency-ì–»ê¸°)
        - [ReentrantLock](#reentrantlock)
        - [Semaphore](#semaphore)
    - [Java Thread í™œìš©](#java-thread-í™œìš©)
        - [Thread run() vs start()](#thread-run-vs-start)
        - [synchronized ì˜ˆì‹œ](#synchronized-ì˜ˆì‹œ)
        - [Block Synchronization](#block-synchronization)

---

## ğŸ“š ë³¸ë¬¸

ìë°”ì˜ ë©€í‹°ìŠ¤ë ˆë”©ì„ ë³´ì. ë³´ê¸° ì „ì— ìš°ì„  í”„ë¡œì„¸ìŠ¤ë¥¼ ë³´ì.

### Process

í”„ë¡œì„¸ìŠ¤ëŠ” ìš´ì˜ì²´ì œì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œê·¸ë¨ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì˜ë¯¸í•œë‹¤. í”„ë¡œê·¸ë¨ì´ ë‹¨ìˆœíˆ íŒŒì¼ì´ë¼ë©´, í”„ë¡œì„¸ìŠ¤ëŠ” ê·¸ê²ƒì´ ë©”ëª¨ë¦¬ì— ì ì¬ë˜ê³  ì‹¤í–‰ë˜ê³  ìˆëŠ” ìƒíƒœì´ë‹¤.

**ì •ë¦¬**
- ë…ë¦½ì„±: ê° í”„ë¡œì„¸ìŠ¤ëŠ” ìì‹ ë§Œì˜ ê³ ìœ í•œ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê°€ì§„ë‹¤
- ìì› ë‹¨ìœ„: ìš´ì˜ì²´ì œê°€ CPU, ë©”ëª¨ë¦¬, íŒŒì¼ í•¸ë“¤ ê°™ì€ í• ë‹¹ì„ í•˜ëŠ” ê¸°ë³¸ ë‹¨ìœ„ì´ë‹¤
- í•˜ë‚˜ ì´ìƒì˜ ìŠ¤ë ˆë“œ í¬í•¨: í”„ë¡œì„¸ìŠ¤ ì•ˆì—ëŠ” ìµœì†Œ 1ê°œì˜ ìŠ¤ë ˆë“œê°€ ì¡´ì¬í•˜ì—¬ ë©€í‹°ìŠ¤ë ˆë”©ì„ í†µí•´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤

#### í”„ë¡œì„¸ìŠ¤ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°

ì¼ë°˜ì ìœ¼ë¡œ ìš´ì˜ì²´ì œì—ì„œ ê³µë¶€í•˜ëŠ” í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ê°€ì§„ë‹¤.

- Code: ì‹¤í–‰í•  í”„ë¡œê·¸ë¨ ì½”ë“œ
- Data: ì „ì—­ ë³€ìˆ˜, static ë³€ìˆ˜
- Heap: ë™ì ìœ¼ë¡œ ìƒì„±ëœ ê°ì²´
- Stack: í•¨ìˆ˜ í˜¸ì¶œ ìŠ¤íƒ, ì§€ì—­ ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜

í•˜ì§€ë§Œ ìš´ì˜ì²´ì œê°€ ì•„ë‹Œ ìë°”ì—ì„œëŠ” ì˜ˆì „ì— JVM ì˜ ë©”ëª¨ë¦¬ êµ¬ì¡°ë¥¼ ì‚´í´ë³´ì•˜ì—ˆë‹¤. ë‹¤ì‹œ ì •ë¦¬í•˜ì.

- Method Area: í´ë˜ìŠ¤ ë©”íƒ€ë°ì´í„°, static ë³€ìˆ˜, ìƒìˆ˜ í’€
- Heap: new ë¡œ ìƒì„±ëœ ê°ì²´
- JVM Stack: ê° ìŠ¤ë ˆë“œë³„ í˜¸ì¶œ ìŠ¤íƒ(ì§€ì—­ ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜, return ê°’)
    - PC Register: í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ëª…ë ¹ì–´ ì£¼ì†Œ
    - Native Method Stack: JNI ê°™ì€ ë„¤ì´í‹°ë¸Œ ì½”ë“œ ì‹¤í–‰ ì‹œ ì‚¬ìš©

ìš´ì˜ì²´ì œì˜ ì…ì¥ì—ì„œëŠ” ìë°” í”„ë¡œê·¸ë¨ë„ í•˜ë‚˜ì˜ í”„ë¡œì„¸ìŠ¤ì´ê³ , Code/Data/Heap/Stack êµ¬ì¡°ë¥¼ ê°€ì§€ë©°, ìë°” í”„ë¡œê·¸ë¨ ì•ˆì— JVM ì´ ê´€ë¦¬í•˜ëŠ” ì˜ì—­ì„ ë”°ë¡œ êµ¬ë¶„ì„ ë˜ í•˜ê²Œ ëœë‹¤.

ì¦‰ ìë°” ë‚´ë¶€ì—ì„œëŠ” ë³´í†µ í”„ë¡œì„¸ìŠ¤ë¼ëŠ” ë‹¨ì–´ ë³´ë‹¤ëŠ” ìŠ¤ë ˆë“œ ë‹¨ìœ„ë¡œ ì„¤ëª…í•˜ëŠ”ê²Œ ëŒ€ë¶€ë¶„ì´ë©°, `java.lang.Process` í´ë˜ìŠ¤ ê°™ì€ ê²½ìš°ëŠ” ìš´ì˜ì²´ì œ í”„ë¡œì„¸ìŠ¤ë¥¼ ë‹¤ë£¨ëŠ” ë˜í¼ì´ë‹¤.

ìë°”ì—ì„œëŠ” ìš´ì˜ì²´ì œì—ì„œ ë‹¤ë£¨ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¤ë£¨ê¸° ìœ„í•´ì„œ `java.lang.Process` ë¥¼ ì •ì˜í•˜ê³ , ë§Œë“¤ì–´ì§„ ìš´ì˜ì²´ì œ í”„ë¡œì„¸ìŠ¤ë¥¼ ìë°” ì½”ë“œì—ì„œ ì œì–´í•  ìˆ˜ ìˆë„ë¡ ê°ì‹¼ í´ë˜ìŠ¤ì¸ ê²ƒì´ë‹¤. ì‹¤ì œë¡œ ìë°” í”„ë¡œê·¸ë¨ì„ ë™ì‘í•  ë•Œ `Runtime.getRuntime().exec()` ë˜ëŠ” `ProcessBuilder` ë¥¼ ì‚¬ìš©í•˜ì—¬ì„œ JVM ì´ ìš´ì˜ì²´ì œë³´ê³  ìƒˆë¡œìš´ í”„ë¡œì„¸ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë‹¬ë¼ê³  ìš”ì²­ì„ ë³´ë‚´ëŠ” ê²ƒì´ê³ , ë§Œë“¤ì–´ì§„ê±¸ ë°›ì•„ì™€ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

> ìë°” í”„ë¡œê·¸ë¨ì´ ì˜¬ë¼ê°€ í”„ë¡œì„¸ìŠ¤ë¡œ ë˜ë©° í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìˆ˜ì˜ ìŠ¤ë ˆë“œ í™œìš© ê°€ëŠ¥

#### IPC

**Inter Process Communication** ì´ë¼ê³ ë„ í•˜ë©° í”„ë¡œì„¸ìŠ¤ ê°„ì˜ ìƒí˜¸ì‘ìš©ì„ í•˜ê³  ì‹¶ì„ë•Œ ì“°ëŠ” ê¸°ìˆ ì´ë‹¤.

- **PIPE**: í•œìª½ í”„ë¡œì„¸ìŠ¤ì˜ ì¶œë ¥ -> ë‹¤ë¥¸ í”„ë¡œì„¸ìŠ¤ë¡œì˜ ì…ë ¥(ë¶€ëª¨-ìì‹ í”„ë¡œì„¸ìŠ¤ ê°„ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜ˆì‹œì´ë‹¤)
- **Socket**: ë„¤íŠ¸ì›Œí¬ë¥¼ ì´ìš©í•œ í†µì‹  ë°©ì‹(TCP/UDP ê¸°ë°˜)ì´ë©°, ê°™ì€ ì»´í“¨í„° ì•ˆ í˜¹ì€ ë‹¤ë¥¸ ì»´í“¨í„°ì™€ë„ í†µì‹ ì´ ê°€ëŠ¥í•˜ë‹¤.
- **Message Queue**: ìš´ì˜ì²´ì œê°€ ì œê³µí•˜ëŠ” íì— ë©”ì‹œì§€ë¥¼ ë„£ê³  ë¹¼ë©´ì„œ í†µì‹ ì„ í•œë‹¤. ë¹„ë™ê¸° ì²˜ë¦¬ì— ìœ ìš©í•˜ë‹¤.
- **Shared Memory**: ë‘ í”„ë¡œì„¸ìŠ¤ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ê°™ì€ ë©”ëª¨ë¦¬ ì˜ì—­ì„ ê³µìœ í•˜ë„ë¡ ì„¤ì •í•˜ë©´ ë¹ ë¥´ê²Œ í†µì‹ í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë™ê¸°í™” ë¬¸ì œë¥¼ ì˜ ë‹¤ìŠ¤ë ¤ì•¼ í•œë‹¤.
- **Signal**: ê°„ë‹¨í•œ ì•Œë¦¼ì„ ë³´ë‚´ëŠ” ë°©ì‹ (`kill -9 PID`)

### Thread

ìŠ¤ë ˆë“œëŠ” í”„ë¡œì„¸ìŠ¤ ë‚´ë¶€ì˜ ë©”ëª¨ë¦¬ ê³µê°„ ë‚´ì—ì„œ ì„œë¡œ ë‹¤ë¥¸ íë¦„ì„ ì²˜ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©ë˜ëŠ” ì²˜ë¦¬ íë¦„ì˜ ì¶”ìƒí™”ëœ í´ë˜ìŠ¤ë‹¤. ë”°ë¼ì„œ ì—¬ëŸ¬ ìë°” í”„ë¡œê·¸ë¨ì„ êµ³ì´ ëŒë¦¬ì§€ ì•Šê³  ìë°” í”„ë¡œê·¸ë¨ í•˜ë‚˜ë¥¼ ëŒë ¤ í”„ë¡œì„¸ìŠ¤ë¥¼ ë§Œë“  ë’¤ í”„ë¡œì„¸ìŠ¤ ë‚´ì˜ ë‹¤ìˆ˜ì˜ ìŠ¤ë ˆë“œë¥¼ ë‘ì–´ì„œ ë‹¤ìˆ˜ì˜ ì²˜ë¦¬ë¥¼ í•˜ë„ë¡ í•˜ëŠ”ê²Œ ë” ê°€ë³ë‹¤ëŠ” ê²ƒì´ë‹¤.

**íŠ¹ì§•**
- ê²½ëŸ‰ í”„ë¡œì„¸ìŠ¤: í”„ë¡œì„¸ìŠ¤ì™€ ë‹¬ë¦¬ **Heap** ê³¼ ê°™ì€ ë©”ëª¨ë¦¬ ê³µê°„ì´ë‚˜ **Method Area** ë“±ì„ ê°€ì§€ì§€ ì•ŠëŠ”ë‹¤.
- ë…ë¦½ëœ ì‹¤í–‰ íë¦„: ìì‹ ë§Œì˜ Call Stack ì´ ìˆìŒ
- ìì› ê³µìœ  ìš©ì´: ê°™ì€ í”„ë¡œì„¸ìŠ¤ì˜ ì—¬ëŸ¬ ìŠ¤ë ˆë“œëŠ” ê°™ì€ **í™(Heap)** ê³¼ **ë©”ì„œë“œ(Method Area)** ë¥¼ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— ì„œë¡œ ê°„ì˜ ë°ì´í„° êµí™˜ì´ ë¹ ë¥´ë‹¤.

#### Java Thread

ìë°”ëŠ” Thread ë¼ëŠ” í´ë˜ìŠ¤ë¥¼ ê¸°ë³¸ì ìœ¼ë¡œ ë‚´ì¥ì‹œì¼œë†¨ë‹¤. JVM ë‚´ë¶€ì˜ ë¬¼ë¦¬ì ì¸ thread ë¥¼ ì¶”ìƒí™” í•´ë†“ì€ í´ë˜ìŠ¤ë¼ê³  ë³´ë©´ ë˜ê³ , ìš°ë¦¬ëŠ” ì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìë°” í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì¸ ìŠ¤ë ˆë“œ í•˜ë‚˜ ë¿ì´ ì•„ë‹ˆë¼ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ê°€ì§€ì¹˜ê¸° í•˜ë“¯ì´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ìƒì„±ì‹œì¼œ ë™ì‘í•˜ë„ë¡ í•  ìˆ˜ ìˆë‹¤.

**ìŠ¤ë ˆë“œì˜ ë¬¼ë¦¬ì  ë©”ëª¨ë¦¬ ì˜ì—­**
- ê³µìœ  ì˜ì—­: Heap, Method Area
- ê°œë³„ ì˜ì—­: Stack(ë©”ì„œë“œ í˜¸ì¶œ, ì§€ì—­ ë³€ìˆ˜, ë§¤ê°œë³€ìˆ˜, return ê°’), PC Register

ê·¸ëŸ¬ë©´ ìš°ë¦¬ê°€ ë§Œë“œëŠ” ìë°” í”„ë¡œê·¸ë¨ì— ìŠ¤ë ˆë“œë¥¼ ì—¬ëŸ¬ê°œ ë§Œë“¤ì–´ ë†“ê³  ë§ì€ ì‘ì—…ë“¤ì„ ë§ì€ ìŠ¤ë ˆë“œë“¤í•œí…Œ ì²˜ë¦¬í•˜ë¼ê³  ì‹œí‚¤ë©´ êµ‰ì¥íˆ ë¹ ë¥¼ê±° ê°™ì§€ë§Œ, ë©€í‹° ìŠ¤ë ˆë“œì—ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ì¥ë‹¨ì ì´ ìˆë‹¤.

**ì¥ì **
- ì„±ëŠ¥ í–¥ìƒ: ì—¬ëŸ¬ ì‘ì—…ì„ ë™ì‹œì— ì²˜ë¦¬
- ìì› íš¨ìœ¨ì„±: í”„ë¡œì„¸ìŠ¤ë³´ë‹¤ ì ì€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš©
- ì‘ë‹µì„± í–¥ìƒ: UI ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¹ ë¥¸ ì‘ë‹µ

**ë‹¨ì **
- Concurrency ë¬¸ì œ: íŠ¹ì • ìì›ì— ëŒ€í•œ Race Condition ë°œìƒ ê°€ëŠ¥
- ë³µì¡ì„± ì¦ê°€: ë””ë²„ê¹…ì´ ì–´ë ¤ì›€
- Deadlock ìœ„í—˜: Circular Wait

ë‹¨ì ì„ íŒŒí›¼í•´ì•¼ ì¥ì ë“¤ì„ ìœ ìš©í•˜ê²Œ ì“¸ ìˆ˜ ìˆë‹¤.

#### Concurrency

ìŠ¤ë ˆë“œë¥¼ ì—¬ëŸ¬ê°œ ê°€ì ¸ê°€ì„œ ë™ì‹œì— ì‹¤í–‰í•œë‹¤ë©´ ìƒê¸¸ ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ë¬¸ì œì ì´ ìˆë‹¤. Concurrency ëŠ” ë™ì‹œì„±ì´ê³  ì—¬ëŸ¬ ì‹¤í–‰ íë¦„(ìŠ¤ë ˆë“œë‚˜ í”„ë¡œì„¸ìŠ¤)ì´ ë™ì‹œì— ìì›ì— ì ‘ê·¼í•˜ê±°ë‚˜ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ëŠ¥ë ¥ì„ ì˜ë¯¸í•œë‹¤. ë™ì‹œì ìœ¼ë¡œ íŠ¹ì • ìì›ì— ëŒ€í•´ ì ‘ê·¼í•˜ê³ ì í•  ë•Œ ì§ê´€ì ìœ¼ë¡œ ê·¸ ë°ì´í„°ê°€ ìê°í•˜ê³  ìˆëŠ” ë°ì´í„° ê°’ì´ì–´ì•¼ í•˜ê³ , ê·¸ ê°’ì— ëŒ€í•œ ì—°ì‚°ì„ í•˜ê³  ì˜¬ë°”ë¥¸ ê²°ê³¼ê°€ ë„ì¶œë˜ì–´ì•¼ í•  ê²ƒì´ë‹¤.

ë°˜ë©´ ì›ìì„±ì´ ë¶€ì¡±í•œ `int count` ì™€ ê°™ì€ ê²ƒì€ `count++` ë¼ëŠ” ì—°ì‚°ì„ í•  ë•Œ 

1. count ì½ê¸°
2. count +1
3. count ì“°ê¸°

ì„¸ ë‹¨ê³„ë¡œ ì´ë£¨ì–´ì§€ë¯€ë¡œ í•  ë•Œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ ë¼ì–´ë“¤ë©´ ê°’ì´ ê¼¬ì´ê²Œ ëœë‹¤. ì´ë¥¼ **Race Condition** ì´ë¼ê³  í•œë‹¤.

> Race Condition: ê³µìœ  ìì›ì— ëŒ€í•´ ì ‘ê·¼ ë° í–‰ìœ„ê°€ ì–´ë–¤ ìˆœì„œì— ë”°ë¼ ì´ë£¨ì–´ì¡ŒëŠ”ì§€ì— ë”°ë¼ ì‹¤í–‰ ê²°ê³¼ê°€ ê°™ì§€ ì•Šê³  ë‹¬ë¼ì§€ëŠ” í˜„ìƒ. ì‹¤í–‰ ê²°ê³¼ê°€ ì‹¤í–‰ ìˆœì„œì— ì˜ì¡´í•˜ëŠ” í˜„ìƒ.

ì¦‰, Race Condition í˜„ìƒì´ ì¼ì–´ë‚˜ì§€ ì•Šë„ë¡ ë³´ì¥í•˜ê¸° ìœ„í•´ **Concurrency** ë¼ëŠ” ì†ì„±ì„ ê°€ì ¸ì•¼ í•  ê²ƒì´ë‹¤. í•˜ì§€ë§Œ ì´ **Concurrency** ë¥¼ ì–»ê¸° ìœ„í•´ì„œëŠ” ìì›ì— ëŒ€í•œ ì ‘ê·¼ ìˆœì„œë¥¼ ì •ë ¬í•  í•„ìš”ê°€ ìˆì—ˆê³ , ì´ë¥¼ ë°”ë¡œì¡ê¸° ìœ„í•´ **Lock** ì´ë¼ëŠ” ìë£Œêµ¬ì¡°ê°€ ë‚˜ì˜¤ê²Œ ëë‹¤.

í•˜ì§€ë§Œ ì´ ë˜í•œ ë¬¸ì œê°€ ìˆì—ˆë‹¤.

##### Deadlock

ë‘ ê°œ ì´ìƒì˜ í”„ë¡œì„¸ìŠ¤ê°€ ì„œë¡œ ê°€ì§€ê³  ìˆëŠ” ìì›ì„ ë½ì„ ê±¸ì—ˆëŠ”ë°, ì„œë¡œ ë‘ ìì›ì„ ìš”êµ¬í•œë‹¤ë©´ ì´ëŠ” ë¬´í•œíˆ ë©ˆì¶°ìˆëŠ” ìƒíƒœê°€ ëœë‹¤. ë‘ í”„ë¡œì„¸ìŠ¤ëŠ” ì„œë¡œ **Deadlock** ì— ë¹ ì§€ê²Œ ëœë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì¡°ê±´ë¶€ë¡œ ì •ì˜í•˜ê²Œ ëœë‹¤.

**Deadlock ë°œìƒ ì¡°ê±´**
- Mutual Exclusion(ìƒí˜¸ ë°°ì œ): ì–´ë–¤ ìì›ì€ í•œ ë²ˆì— í•œ í”„ë¡œì„¸ìŠ¤ë§Œ ì‚¬ìš© ê°€ëŠ¥
- Hold and Wait(ì ìœ  ë° ëŒ€ê¸°): í”„ë¡œì„¸ìŠ¤ê°€ ì´ë¯¸ ì ìœ í•œ ìì›ì„ ë†“ì§€ ì•Šê³  ë‹¤ë¥¸ ìì›ì„ ê¸°ë‹¤ë¦¼
- No Preemption(ë¹„ì„ ì ): ìš´ì˜ì²´ì œê°€ ì´ë¯¸ ì ìœ í•œ ìì›ì„ ê°•ì œë¡œ ë¹¼ì•—ì„ ìˆ˜ ì—†ìŒ
- Circular Wait(ìƒí˜¸ ëŒ€ê¸°): í”„ë¡œì„¸ìŠ¤ë“¤ì´ ì›í˜•ìœ¼ë¡œ ì„œë¡œê°€ ê°€ì§„ ìì›ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœ

ì´ 4ê°€ì§€ ì¡°ê±´ì´ ì „ë¶€ ì¶©ì¡±ë  ë•Œ Deadlock ì´ ë°œìƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìš°ë¦¬ëŠ” 4ê°œ ì¤‘ì— í•˜ë‚˜ë¼ë„ íŒŒê´´ì‹œì¼œì•¼ Deadlock ì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.

ë³´í†µì€ Circular Wait ì„ íŒŒê´´í•˜ê²Œ ë˜ëŠ”ë°, ë‚˜ë¨¸ì§€ 3ê°œëŠ” ìì›ì˜ ë³¸ì§ˆì ì¸ íŠ¹ì„±ì´ê±°ë‚˜ ìš´ì˜ì²´ì œë¥¼ ê°•ì œë¡œ ë°”ê¿”ì•¼ í•˜ëŠ”ë° ê·¸ëŸ¬ê¸° ì‰½ì§€ ì•Šì•„ì„œì´ë‹¤.

ê·¸ë¦¬ê³  ë©€í‹° ìŠ¤ë ˆë”©ì„ ì‚¬ìš©í•  ë•Œ ë°ë“œë½ ì´ ì™¸ì—ë„ ë‹¤ë¥¸ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆë‹¤.

##### Starvation

íŠ¹ì • ìŠ¤ë ˆë“œë‚˜ í”„ë¡œì„¸ìŠ¤ê°€ í•„ìš”í•œ ìì›ì„ ê³„ì† ì–»ì§€ ëª»í•˜ì—¬ ì‹¤í–‰ë˜ì§€ ëª»í•˜ëŠ” ìƒíƒœê°€ ë˜ì–´ ë¬´í•œì • ëŒ€ê¸°í•˜ëŠ” ìƒíƒœì´ë‹¤. ì´ëŠ” ìŠ¤ì¼€ì¤„ë§ ìš°ì„ ìˆœìœ„ë‚˜ ìì› í• ë‹¹ ì •ì±… ë•Œë¬¸ì— ë°œìƒí•˜ê²Œ ë˜ë©°, ì‹¤í–‰ ìˆœì„œë§Œ ì¢€ ë°”ê¿”ì£¼ë©´ ì •ìƒì ìœ¼ë¡œ ëŒì•„ì˜¨ë‹¤.

> ì´ëŠ” ìš´ì˜ì²´ì œì˜ ìŠ¤ì¼€ì¤„ë§ ë¬¸ì œì´ê¸° ë•Œë¬¸ì— ê·¸ëƒ¥ ê°€ë³ê²Œ ë³´ê³  ë„˜ì–´ê°„ë‹¤

#### Concurrency ì–»ê¸°

ìë°”ì—ì„œëŠ” ë‹¤ì–‘í•œ í•´ê²° ë°©ë²•ì´ ì¡´ì¬í•˜ëŠ”ë°

- í•¨ìˆ˜ ë° ë³€ìˆ˜ ìˆ˜ì¤€ ë½: `synchronized`
- ë½ ìë£Œêµ¬ì¡°: `ReentrantLock`, `Semaphore`, `Condition`, `Atomic` ë³€ìˆ˜, Thread-safe ì»¬ë ‰ì…˜
- ë¶ˆë³€ ê°ì²´(`Immutable Object`), `record`

ë“±ìœ¼ë¡œ í•´ê²° ê°€ëŠ¥í•˜ë‹¤.

##### ReentrantLock

ìë°”ì—ì„œ ì œê³µí•˜ëŠ” ë½ í´ë˜ìŠ¤ì¸ë°, ê°™ì€ ìŠ¬ë°ã…¡ê°€ ì´ë¯¸ íšë“í•œ ë½ì„ ë‹¤ì‹œ íšë“ì´ ê°€ëŠ¥í•˜ë‹¤ í•´ì„œ ì¬ì§„ì… ê°€ëŠ¥í•˜ê¸°ì— `Reentrant` ë¼ëŠ” ìˆ˜ì‹ì–´ê°€ ë¶™ì—ˆê³ , `Mutex` ì™€ ê°™ì€ ì—­í• ì„ í•œë‹¤.

ë®¤í…ìŠ¤ë„ `Critical Section` ì— ëŒ€í•´ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œì´ í—ˆìš© ê°€ëŠ¥í•˜ë„ë¡ í•˜ê¸° ë•Œë¬¸ì— `ReentrantLock` ë˜í•œ ê·¸ ì—­í• ì„ ëŒ€ì‹ í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

##### Semaphore

ê³µìœ ëœ ìì›ì˜ ë°ì´í„°ë¥¼ ì—¬ëŸ¬ ìŠ¤ë ˆë“œ í˜¹ì€ í”„ë¡œì„¸ìŠ¤ê°€ ì ‘ê·¼í•˜ëŠ” ê²ƒì„ ë§‰ëŠ” ìë£Œêµ¬ì¡°ì´ë‹¤. ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë¦¬ì†ŒìŠ¤ì˜ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê°„ë‹¨í•œ ì¹´ìš´í„°ì™€ ê°™ê³  ì¹´ìš´í„°ì˜ ê°’ì— ë”°ë¼, í•˜ë‚˜ì˜ ê³µìœ  ìì›ì— ëŒ€í•´ ì—¬ëŸ¬ ìŠ¤ë ˆë“œê°€ ë“¤ì–´ê°ˆ ìˆ˜ë„, í˜¹ì€ í•˜ë‚˜ì˜ ìŠ¤ë ˆë“œë§Œì´ ë“¤ì–´ê°ˆ ìˆ˜ë„ ìˆë‹¤.

#### Java Thread í™œìš©

ìš°ì„  ìƒì„±ìë¥¼ ë³´ì.

{% highlight java %}
// Constructor
Thread()
Thread(Runnable runnable)
Thread(Runnable runnable, String name)
{% endhighlight %}

Java ì—ëŠ” `Runnable` ì¸í„°í˜ì´ìŠ¤ê°€ ìˆê³  í´ë˜ìŠ¤ê°€ ì´ë¥¼ êµ¬í˜„í•˜ê¸°ë§Œ í•œë‹¤ë©´ `Thread` ì˜ ìƒì„±ìë¡œ ë„£ì„ ìˆ˜ ìˆë‹¤.

##### Thread run() vs start()

`Runnable` í•œ ê²ƒì„ ë°›ì•˜ë‹¤ë©´, ì´ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ”ë°, `run` ê³¼ `start` ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤. ë‹¤ë§Œ `run` ì€ ê·¸ëƒ¥ í˜„ì¬ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ê³ , `start` ë¥¼ í•´ì•¼ ë˜ ë‹¤ë¥¸ thread ë¥¼ ìƒì„±ì‹œì¼œì„œ ë™ì‹œì— ì‹¤í–‰í•˜ê²Œ ëœë‹¤.

{% highlight java %}
class MyThread extends Thread {
    @Override
    public void run() {
        System.out.println(Thread.currentThread().getName() + " is running");
    }
}

public class Main {
    public static void main(String[] args) {
        MyThread t1 = new MyThread();

        System.out.println("Calling run():");
        t1.run(); // ê·¸ëƒ¥ ë©”ì„œë“œ í˜¸ì¶œ â†’ main ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰ë¨

        System.out.println("\nCalling start():");
        MyThread t2 = new MyThread();
        t2.start(); // ìƒˆë¡œìš´ ìŠ¤ë ˆë“œ ìƒì„± â†’ run() ë©”ì„œë“œê°€ ë³„ë„ì˜ ìŠ¤ë ˆë“œì—ì„œ ì‹¤í–‰
    }
}
{% endhighlight %}

##### synchronized ì˜ˆì‹œ

ì´ëŠ” ì´ì „ì— ë‹¤ë¤˜ê¸°ì— ì„¤ëª…ì€ ìƒëµí•œë‹¤.

{% highlight java %}
class Counter {
    private int count = 0;

    // synchronized ë©”ì„œë“œ: í•œ ë²ˆì— í•œ ìŠ¤ë ˆë“œë§Œ ì ‘ê·¼ ê°€ëŠ¥
    public synchronized void increment() {
        count++;
    }

    public int getCount() {
        return count;
    }
}

public class Main {
    public static void main(String[] args) throws InterruptedException {
        Counter counter = new Counter();

        Runnable task = () -> {
            for (int i = 0; i < 1000; i++) {
                counter.increment();
            }
        };

        Thread t1 = new Thread(task);
        Thread t2 = new Thread(task);

        t1.start();
        t2.start();
        t1.join();
        t2.join();

        System.out.println("Final count: " + counter.getCount());
    }
}
{% endhighlight %}

##### Block Synchronization

ìë°”ì—ëŠ” synchronized ì•ˆì— ëª¨ë‹ˆí„° ë½(Monitor Lock) ì„ ê°€ì§ˆ ìˆ˜ ìˆëŠ” ê°ì²´ê°€ ë“¤ì–´ê°€ì•¼ í•œë‹¤. ì—¬ê¸°ì„œ Object ëŠ” `wait()`, `notify()`, `notifyAll()` ì„ ê°€ì§€ê³ , ì´ëŠ” ëª¨ë‹ˆí„° ë½ì— ëŒ€í•œ API ì´ë‹¤.

ë”°ë¼ì„œ ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ê°ì²´ë“¤ì— ëŒ€í•´ ëª¨ë‹ˆí„°ë½ì´ ì´ë¯¸ ì°¸ì¡°ë˜ê³  ìˆëŠ” ê²ƒì´ê³ , synchronized ì— ëª¨ë“  ê°ì²´ë¥¼ ë„£ì„ ìˆ˜ ìˆê²Œ ëœë‹¤. ì•ˆë˜ëŠ” ê²ƒë“¤ì€ ì›ì‹œíƒ€ì…, null ë“±ì€ ì•ˆë  ê²ƒì´ë‹¤.

{% highlight java %}
public class BlockSynchronization {
    private Object lock = new Object();
    private int count = 0;

    public void increment() {
        // í•„ìš”í•œ ë¶€ë¶„ë§Œ ë™ê¸°í™”
        synchronized(lock) {
            count++;
        }
    }
}
{% endhighlight %}