---
layout: post
title:  1.2.1 Interrupts
date:   2025-06-07 10:32:29 +0900
categories: ComputerScience OS
---

<!--more-->
μ»΄ν“¨ν„° μ‹μ¤ν…μ κµ¬μ΅° μ „λ°μ΄ μ–΄λ–»κ² μƒκ²¨ λ¨Ήμ—λ”μ§€, κ·Έλ¦¬κ³  μ–΄λ–»κ² λμ•„κ°€λ”μ§€ μ‚΄ν΄λ³Έλ‹¤.

## π“‚ λ©μ°¨
- [1.2.1.1 Interrupts](#1211-interrupts)
    - [I/O μ‘μ—… μ™„λ£ μ•λ¦Ό](#io-μ‘μ—…-μ™„λ£-μ•λ¦Ό)
    - [β­οΈ Interrupt Handler](#οΈ-interrupt-handler)
    - [Interrupt Vector Table(Interrupt Vector) μ„ μ‚¬μ©ν• λ°©μ‹](#interrupt-vector-tableinterrupt-vectorμ„-μ‚¬μ©ν•-λ°©μ‹)
- [1.2.1.2 Implementation](#1212-implementation)
    - [Interrupt Controller](#interrupt-controller)
    - [Interrupt Chaining](#interrupt-chaining)
    - [Interrupt Priority Level](#interrupt-priority-levels)

---

## π“ λ³Έλ¬Έ

ν„λ€ μ»΄ν“¨ν„° μ‹μ¤ν…μ€ **ν•λ‚ μ΄μƒμ CPU**μ™€ μ—¬λ¬ κ°μ **[μ¥μΉ μ»¨νΈλ΅¤λ¬(Device Controller)](#device-controller)**λ΅ κµ¬μ„±λμ–΄ μκ³ , **[κ³µν†µ λ²„μ¤(Common Bus, System Bus)](#common-bussystem-bus)** λ¥Ό ν†µν•΄ μ—°κ²°λμ–΄ μλ‹¤.

![device-controllers]({{ site.baseurl }}/assets/img/device-controllers.png)

Common Busλ” κ° κµ¬μ„± μ”μ†λ“¤κ³Ό **[κ³µμ  λ©”λ¨λ¦¬(Shared Memory)](#shared-memory)** κ°„μ μ ‘κ·Ό κ²½λ΅λ¥Ό μ κ³µν•λ‹¤(κ³µμ  λ©”λ¨λ¦¬κ°€ μλ‹¤λ©΄ κ° μ¥μΉλ“¤λ§λ‹¤ ν•΄λ‹Ή λ©”λ¨λ¦¬λ¥Ό μ½μ–΄μ„ λ°μ΄ν„°λ¥Ό κ³µμ ν•  μ μλ‹¤). μΌλ°μ μΌλ΅ **μ΄μμ²΄μ **λ” κ° **Device Controller** λ§λ‹¤ ν•λ‚μ **[μ¥μΉ λ“λΌμ΄λ²„(Device Driver)](#device-driver)** λ¥Ό κ°€μ§€κ² λλ‹¤. CPU μ™€ μ¥μΉ μ»¨νΈλ΅¤λ¬λ” λ³‘λ ¬λ΅ λ™μ‘μ΄ κ°€λ¥ν•κΈ°μ— **[λ©”λ¨λ¦¬ μ ‘κ·Ό μ£ΌκΈ°(Memory Cycle)](#memory-cycle)** λ„μ¤‘ κ²½μν•κ² λλ‹¤.

μ΄λ° κ³µμ  λ©”λ¨λ¦¬μ— λ€ν• μ ‘κ·Όμ„ μ§μ„μκ² ν•κΈ° μ„ν•΄μ„ **[λ©”λ¨λ¦¬ μ»¨νΈλ΅¤λ¬(Memory Controller)](#memory-controller)**κ°€ μ΅΄μ¬ν•κ³  μ»¨νΈλ΅¤λ¬λ” λ©”λ¨λ¦¬ μ ‘κ·Όμ„ **[λ™κΈ°ν™”(Synchronize)](#synchronize)** ν•λ‹¤.

![a typical pc computer system]({{ site.baseurl }}/assets/img/a-typical-pc-computer-system.png)

μ„μ νλ¦„μ„ κ°€μ§€κ³  λ‹¤μμ„ μ½μ.

### 1.2.1.1 Interrupts

**Interrupt**λ” CPUμ μ£Όμλ¥Ό λκΈ° μ„ν•΄ μ‚¬μ©λλ” **μ μ–΄ μ‹ νΈ**λ΅,  
**Common Busμ Control Bus**λ¥Ό ν†µν•΄ μ „λ‹¬λλ‹¤. μ£Όλ μΆ…λ¥λ” λ‹¤μκ³Ό κ°™λ‹¤:

- **[I/O μ‘μ—… μ™„λ£ μ•λ¦Ό](#io-μ‘μ—…-μ™„λ£-μ•λ¦Ό)**: λ””μ¤ν¬ μ½κΈ°, ν”„λ¦°ν„° μ¶λ ¥ λ“± μ‘μ—… μ™„λ£ μ‹
- **μ…λ ¥ μ΄λ²¤νΈ μ•λ¦Ό**: ν‚¤λ³΄λ“ μ…λ ¥, λ§μ°μ¤ ν΄λ¦­ λ“± μ‚¬μ©μ μΈν„°λ™μ… λ°μƒ μ‹
- **νƒ€μ΄λ¨Έ μΈν„°λ½νΈ (Timer Interrupt)**: μΌμ • μ£ΌκΈ°λ΅ λ°μƒν•μ—¬ OSκ°€ CPU μ μ–΄κ¶μ„ νμν•  μ μκ² ν•¨
- **μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ (System Call)**: μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ΄ μ΄μμ²΄μ  κΈ°λ¥μ„ μ”μ²­ν•  λ• λ°μƒ
- **ν•λ“μ›¨μ–΄ μ¤λ¥/μμ™Έ (Exception)**: 0μΌλ΅ λ‚λ„κΈ°, μλ»λ λ©”λ¨λ¦¬ μ ‘κ·Ό λ“± μ¤λ¥ λ°μƒ μ‹ μλ™μΌλ΅ λ°μƒ

---

#### I/O μ‘μ—… μ™„λ£ μ•λ¦Ό

**I/O μ‘μ—… μ™„λ£ μ•λ¦Ό**μ„ μλ΅ λ“¤μ–΄λ³΄μ.

1. **CPUκ°€ I/O μ¥μΉ Aμ— μ‘μ—…μ„ μ”μ²­**  
2. μ΄μμ²΄μ μ **Device Driver**κ°€ CPU λ…λ Ήμ„ ν•΄λ‹Ή μ¥μΉκ°€ μ΄ν•΄ν•  μ μλ„λ΅ **ν•΄μ„ λ° λ³€ν™**  
3. λ³€ν™λ λ…λ Ήμ΄ **Device Controller** ν•λ“μ›¨μ–΄λ΅ μ „λ‹¬λ¨  
4. **Device Controller**κ°€ μ‹¤μ  μ¥μΉμ— λ…λ Ήμ„ λ‚΄λ ¤ **μ‘μ—… μν–‰**  
5. μ‘μ—… μ™„λ£ μ‹, **Device Controllerκ°€ Control Busλ¥Ό ν†µν•΄ CPUμ— Interruptλ¥Ό μ „μ†΅**  
6. CPUλ” Interruptλ¥Ό μμ‹ ν•κ³ , **μ μ ν• [Interrupt Handler (Interrupt Service Routine, ISR)](#interrupt-handler)**λ¥Ό νΈμ¶ν•μ—¬ ν›„μ† μ‘μ—…μ„ μ²λ¦¬

![interrupt timeline for a single program doing output]({{ site.baseurl }}/assets/img/interrupt-timeline-for-a-single-program-doing-output.png)

**Interrupt Handler** λ¥Ό λ³΄μ.

---

#### β­οΈ Interrupt Handler

μ΄μμ²΄μ  λ‚΄λ¶€μ—μ„ Interrupt κ°€ λ°μƒν–μ„ λ•, μ‹¤ν–‰λλ” νΉμν• ν•¨μ/μ½”λ“ λΈ”λ΅μ΄λ‹¤.

CPUκ°€ Control Bus μ—μ„ Interrupt λ¥Ό λ°›μ•μ„ λ•, ν„μ¬ μ‹¤ν–‰ μ¤‘μ΄λ μ‘μ—…μ„ μ μ‹ λ©μ¶”κ³ ,  
μ¦‰μ‹ **κ³ μ •λ μ„μΉ(fixed location)** λ΅ **[μ μ–΄λ¥Ό μ „ν™(Context Switching)](#context-switching)**ν•λ‹¤.

![interupt driven io cycle]({{ site.baseurl }}/assets/img/interrupt-driven-io-cycle.png)

κ³ μ •λ μ„μΉλ” μΌλ°μ μΌλ΅ ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• **μ„λΉ„μ¤ λ£¨ν‹΄(Interrupt Service Routine, ISR)** μ μ‹μ‘ μ£Όμ†λ¥Ό ν¬ν•¨ν•λ‹¤. ISRμ΄ μ‹¤ν–‰λκ³ , κ·Έ μ‘μ—…μ΄ μ™„λ£λλ©΄ CPUλ” μ¤‘λ‹¨λ κ²μ‚°μ„ λ‹¤μ‹ μ΄μ–΄μ„ μν–‰ν•κ² λλ‹¤. μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ”λ° μμ–΄μ„ μ±…μ—μ„ μ κ³µν•λ” λ°©λ²•μ€ λ‘ κ°€μ§€ μ΄λ‹¤.

> 1. μΈν„°λ½νΈ μ •λ³΄λ¥Ό ν™•μΈν•λ” **μΌλ° λ£¨ν‹΄(Generic Routine)**μ„ νΈμ¶ν• λ’¤,
> ν•΄λ‹Ή λ£¨ν‹΄μ΄ μΈν„°λ½νΈμ— νΉν™”λ ν•Έλ“¤λ¬λ¥Ό νΈμ¶ν•λ” λ°©μ‹μ΄ μΌλ°μ μ΄κ³  λ‹¨μν• λ°©λ²•μ΄λ‹¤.
> 2. μΈν„°λ½νΈλ” λ§¤μ° μμ£Ό λ°μƒν•κΈ° λ•λ¬Έμ— λΉ λ¥΄κ² μ²λ¦¬λμ–΄μ•Ό ν•λ―€λ΅ μ„ λ°©λ²•μ€ λ§μ§€ μ•κ³ ,
> μ†λ„λ¥Ό λ†’μ΄κΈ° μ„ν•΄ μΈν„°λ½νΈ **λ£¨ν‹΄λ“¤μ μ£Όμ†λ¥Ό μ €μ¥ν• ν¬μΈν„° ν…μ΄λΈ”(Interrupt Vector Table)**μ„ μ‚¬μ©ν•λ‹¤λ©΄
> Generic Routine μ„ κ±°μΉμ§€ μ•κ³ λ„ ν…μ΄λΈ”μ„ ν†µν•΄ μ§μ ‘ ν•΄λ‹Ή ISR μΌλ΅ μ ν”„ν•  μ μλ‹¤.

**Interrupt Vector Table** μ„ μ΄μ©ν• λ°©λ²•μ„ λ³΄μ.

---

#### Interrupt Vector Table(Interrupt Vector)μ„ μ‚¬μ©ν• λ°©μ‹

Interrupt Vector Tableμ€ λ³΄ν†µ **λ©”λ¨λ¦¬μ λ‚®μ€ μμ—­(μ²μ 100μ—¬ κ° μ„μΉ)**μ— μ €μ¥λλ©°,  
κ° μ„μΉμ—λ” μΈν„°λ½νΈ μ”μ²­ λ²νΈ(μΈν„°λ½νΈ λ²΅ν„°)μ— ν•΄λ‹Ήν•λ” **μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ μ£Όμ†**κ°€ μ €μ¥λλ‹¤.

CPUλ” μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄, μ „λ‹¬λ°›μ€ κ³ μ  λ²νΈ(λ²΅ν„° λ²νΈ)λ¥Ό κΈ°λ°μΌλ΅  
Interrupt Vector Tableμ„ μΈλ±μ‹±ν•μ—¬ ν•΄λ‹Ή **ISRλ΅ μ§μ ‘ μ ν”„**ν•λ‹¤.  
μ΄ λ°©μ‹μ€ Windows, UNIX λ“± λ€λ¶€λ¶„μ μ΄μμ²΄μ μ—μ„ μ‚¬μ©λλ‹¤.

μ΄λ•, μΈν„°λ½νΈ μ²λ¦¬λ¥Ό μ„ν•΄μ„λ” **CPUμ μƒνƒ μ •λ³΄(μ: λ μ§€μ¤ν„° κ°’)**λ¥Ό λ°λ“μ‹ μ €μ¥ν•΄μ•Ό ν•λ‹¤.  
μΈν„°λ½νΈ μ²λ¦¬κ°€ λλ‚ ν›„μ—λ” μ΄ μƒνƒλ¥Ό λ³µμ›ν•μ—¬ **μ¤‘λ‹¨λ μ‘μ—…μ„ μ¬κ°**ν•  μ μμ–΄μ•Ό ν•λ‹¤.

> β… λ”°λΌμ„ μΈν„°λ½νΈ μ²λ¦¬λ¥Ό μ„ν•΄ ν•„μ”ν• μ΅°κ±΄μ€ λ‹¤μκ³Ό κ°™λ‹¤.
> - ISRλ“¤μ μ£Όμ†κ°€ μ €μ¥λ **Interrupt Vector Table**μ΄ ν•„μ”  
> - μΈν„°λ½νΈ λ°μƒ μ‹, **CPU μƒνƒ μ •λ³΄(Context)**λ¥Ό μ €μ¥ν•΄μ•Ό ν•¨  
> - ISR μ‹¤ν–‰ μ™„λ£ ν›„, CPUλ” **μΈν„°λ½νΈ λ³µκ·€ λ…λ Ή(Return from Interrupt)**μ„ μ‹¤ν–‰ν•μ—¬ μ›λ μ‘μ—…μΌλ΅ λ³µκ·€

κ·ΈλΌ μ΄λ¬ν• μ΄λ΅ λ“¤μ„ κΈ°λ°μΌλ΅ μ‹¤μ  κµ¬ν„ λ‹¨κ³„μ—μ„λ” μ–΄λ–¤ κµ¬μ΅°κ°€ ν•„μ”ν• μ§€ μ‚΄ν΄λ³΄μ.

---

### 1.2.1.2 Implementation

κµ¬ν„μ— μμ–΄μ„ ν¬κ² λ‹¤μ κΈ°λ¥λ“¤μ„ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.
- Interrupt Controller
- Interrupt Chaining
- Interrupt Priority Level

#### Interrupt Controller

μ•μ—μ„ μΈν„°λ½νΈμ μ „μ²΄μ μΈ μ²λ¦¬ κ³Όμ •μ„ μ΄ν•΄ν–μΌλ‹, μ΄μ  CPUκ°€ μΈν„°λ½νΈ μ‹ νΈλ¥Ό **μ–΄λ–»κ² ν•΄μ„ν•κ³  μ²λ¦¬ν•λ”μ§€**λ¥Ό μ‚΄ν΄λ³΄μ.

ν„λ€ μ»΄ν“¨ν„°μ—μ„λ” μ—¬λ¬ μ¥μΉλ“¤μ΄ **μ„λ΅ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μΈν„°λ½νΈλ¥Ό λ°μƒ**μ‹ν‚¤κΈ° λ•λ¬Έμ—,  
CPUκ°€ μ§μ ‘ ν•΄μ„ν•κΈ°μ—” **μΌκ΄€μ„±μ΄ λ¶€μ΅±ν•λ‹¤**. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ **Interrupt Controller**λΌλ” ν•λ“μ›¨μ–΄κ°€ μ‚¬μ©λλ‹¤.

**Interrupt Controller**λ” μ¥μΉλ“¤λ΅λ¶€ν„° λ“¤μ–΄μ¤λ” **[Interrupt Request Line](interrupt-request-line)μ μ‹ νΈλ¥Ό κ°μ§€**ν•κ³ ,  
ν•΄λ‹Ή μ‹ νΈλ“¤μ **μ°μ„ μμ„λ¥Ό νλ³„**ν•μ—¬, κ°€μ¥ λ¨Όμ € μ²λ¦¬ν•΄μ•Ό ν•  **μΈν„°λ½νΈ λ²νΈ(Interrupt Vector Number)**λ¥Ό CPUμ— μ „λ‹¬ν•λ‹¤.  
CPUλ” μ΄ λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬ **Interrupt Vector Table**μ„ μΈλ±μ‹±ν•κ³ ,  
ν•΄λ‹Ή μ„μΉμ— λ“±λ΅λ **ISR(Interrupt Service Routine)**μ„ μ‹¤ν–‰ν•λ‹¤.

μ΄λ¥Ό μ„ μ”κµ¬μ‚¬ν•­κ³Ό λ”λ¶μ–΄ μ¶”κ°€ν•λ©΄:
> - Interrupt Controllerλ” **Interrupt Request Line**μ„ ν†µν•΄ μΈν„°λ½νΈ μ‹ νΈλ¥Ό κ°μ§€  
> - μ‹ νΈμ— λ”°λΌ νλ³„λ **μΈν„°λ½νΈ λ²νΈ**λ¥Ό CPUμ— μ „λ‹¬  
> - CPUλ” ν•΄λ‹Ή λ²νΈλ΅ **Interrupt Vector Table**μ„ μΈλ±μ‹±   
> - ISRλ“¤μ μ£Όμ†κ°€ μ €μ¥λ **Interrupt Vector Table**μ΄ ν•„μ”  
> - μΈν„°λ½νΈ λ°μƒ μ‹, **CPU μƒνƒ μ •λ³΄(Context)**λ¥Ό μ €μ¥ν•΄μ•Ό ν•¨  
> - ISR μ‹¤ν–‰ μ™„λ£ ν›„, CPUλ” **μΈν„°λ½νΈ λ³µκ·€ λ…λ Ή(Return from Interrupt)**μ„ μ‹¤ν–‰ν•μ—¬ μ›λ μ‘μ—…μΌλ΅ λ³µκ·€

μ΄ κ³Όμ •μ„ ν†µν•΄ μ»΄ν“¨ν„° μ‹μ¤ν…μ€ **Interrupt ControllerλΌλ” ν•λ“μ›¨μ–΄ μμ›**μ„ ν™μ©ν•μ—¬ **ISRμ„ μ•μ •μ μΌλ΅ μ‹¤ν–‰**ν•  μ μμΌλ©°,  
μ΄μμ²΄μ  μ…μ¥μ—μ„λ” μ΄λ¥Ό **Interrupt ControllerλΌλ” μ¶”μƒμ μΈ κ°μ²΄**λ΅ κ°„μ£Όν•μ—¬ κ΄€λ¦¬ν•κ² λλ‹¤.

---

#### Interrupt Chaining

Interrupt Vector Tableμ€ λ§ κ·Έλ€λ΅ μΈν„°λ½νΈ λ²νΈλ¥Ό ν†µν•΄ ISR μ£Όμ†λ¥Ό λΉ λ¥΄κ² μ°Ύμ•„κ° μ μλ„λ΅ μ„¤κ³„λ ν…μ΄λΈ”μ΄λ‹¤.
κ·Έλ¬λ‚ μ¥μΉ μκ°€ λ§μ•„μ§μλ΅ κ° μ¥μΉμ— λ€ν•΄ κ°λ³„μ μΈ κ° μ¥μΉλ§λ‹¤ λ…λ¦½λ μΈν„°λ½νΈ λ²΅ν„° ν•­λ©μ΄ ν•„μ”ν•΄μ§€λ―€λ΅,  
**κ³µκ°„ λ³µμ΅λ„**κ°€ κΈ‰κ²©ν μ¦κ°€ν•κ² λλ‹¤.

> μμ‹
> - 32λ²(ν‚¤λ³΄λ“): 0x1000
> - 33λ²(ν‚¤λ³΄λ“): 0x1100
> - 34λ²(ν‚¤λ³΄λ“): 0x1200
> - 35λ²(λ§μ°μ¤): 0x1300
> - 36λ²(λ””μ¤ν¬): 0x1400
> - 37λ²(λ””μ¤ν¬): 0x1500
> ...

μ¥μΉκ°€ μ¶”κ°€λ  λ•λ§λ‹¤ λ²νΈλ¥Ό κ³„μ† ν• λ‹Ήν•λ©΄ ν…μ΄λΈ”μ€ λΉ„λ€ν•΄μ Έ κ³µκ°„ λ³µμ΅λ„κ°€ μ¦κ°€ν•κ³ , κ΄€λ¦¬λ„ μ–΄λ µλ‹¤.

λ λ‹¤λ¥Έ λ¬Έμ λ”, μλ¥Ό λ“¤μ–΄ USBμ™€ κ°™μ€ ν¬νΈ κΈ°λ° μ¥μΉλ”  
μ—¬λ¬ μ¥μΉ(USB λ§μ°μ¤, USB ν‚¤λ³΄λ“ λ“±)κ°€ **κ³µν†µλ μΈν„°λ½νΈ λ²νΈ(μ: 64λ²)**λ¥Ό κ³µμ ν•΄μ•Ό ν•λ” μƒν™©μ΄ μμ£Ό λ°μƒν•λ‹¤.

> μμ‹
> - 64λ²(USB): 0x8500
> ...

μ΄ κ²½μ° ν•λ‚μ ISRμ΄ λ¨λ“  μ”μ²­μ„ μ²λ¦¬ν•κ² λλ―€λ΅ **μ”μ²­μ΄ λ§μ„μλ΅ μ΅°κ±΄λ¬Έμ΄ λ³µμ΅ν•΄μ§€κ³ , μ‹κ°„ λ³µμ΅λ„**κ°€ μ¦κ°€ν•κ² λλ‹¤.

μ΄λ¬ν• λΉ„ν¨μ¨μ„ μ¤„μ΄κΈ° μ„ν•΄ **Interrupt Chaining**μ΄λΌλ” κΈ°λ²•μ΄ μ‚¬μ©λλ‹¤.

μ΄ λ°©μ‹μ—μ„λ” Interrupt Vector Tableμ κ° ν•­λ©μ΄ **ISR ν•λ‚μ μ£Όμ†κ°€ μ•„λ‹λΌ, ISRλ“¤μ„ μ—°κ²°ν• μ—°κ²° λ¦¬μ¤νΈμ μ‹μ‘μ **μ„ κ°€λ¦¬ν‚¨λ‹¤.  
μ¦‰, μΈν„°λ½νΈ λ²νΈ 40λ²μ— λ€μ‘λλ” ν…μ΄λΈ” ν•­λ©μ΄ λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ¥Ό κ°–λ”λ‹¤:

`Index 40 β†’ [ ISR1 ] β†’ [ ISR2 ] β†’ [ ISR3 ] β†’ null`

μ΄ κµ¬μ΅°λ”,  
- λ¨λ“  μ¥μΉμ— λ€ν•΄ **κ±°λ€ν• μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”μ„ λ§λ“λ” κ³µκ°„ μ¤λ²„ν—¤λ“**μ™€  
- **ν•λ‚μ ISRμ—μ„ λ¨λ“  μ”μ²­μ„ μ²λ¦¬ν•λ” μ‹κ°„ μ¤λ²„ν—¤λ“** μ‚¬μ΄μ—μ„ μ μ¶©λ μ„¤κ³„λ¥Ό ν•λ” κ²ƒμ΄λΌκ³  λ³Ό μ μλ‹¤(λ„λ¦¬ μ‚¬μ©λ¨).

#### Interrupt Priority Levels

μ°μ„ μμ„λ” λ“¤μ–΄μ¤λ” Interrupt μ— λ€ν•΄ λ‚®μ€ μμ„λ¥Ό κ°€μ§€λ” Interrupt μ²λ¦¬λ¥Ό **μ§€μ—°(defer)**ν•κ² ν•κ³   
λ¨λ“  μΈν„°λ½νΈλ¥Ό μ™„μ „ν μ°¨λ‹¨ν•μ§€ μ•μ•„λ„ λκ² ν•΄μ¤€λ‹¤.

λ”°λΌμ„ λ” λ†’μ€ μ°μ„ μμ„μ μΈν„°λ½νΈκ°€ μ‹¤ν–‰ μ¤‘μΈ λ‚®μ€ μ°μ„ μμ„μ **μΈν„°λ½νΈλ¥Ό μ¤‘λ‹¨ν•κ³ (preempt)** λ¨Όμ € μ²λ¦¬λ  μ μλ„λ΅ ν•λ‹¤.
> (μ: νƒ€μ΄λ¨Έ μΈν„°λ½νΈκ°€ ν‚¤λ³΄λ“ μ…λ ¥λ³΄λ‹¤ λ†’μ€ μ°μ„ μμ„λ΅ μ²λ¦¬λ¨)

μ΄λ” μΈν„°λ½νΈκ°€ μ΄μμ²΄μ  μ „λ°μ—μ„ λΉ„λ™κΈ° μ΄λ²¤νΈ μ²λ¦¬λ¥Ό μ„ν•΄ λλ” λ‹¤μ–‘ν• λ©μ μ„ μ„ν•΄ μ‚¬μ©λ  μ μμΌλ©°  
**μ‹κ°„μ— λ€ν•΄ λ―Όκ°ν• μ²λ¦¬(time-sensitive processing)**μ— κ΄‘λ²”μ„ν•κ² μ‚¬μ©ν•  μ μμΌλ©°,  
μΈν„°λ½νΈλ¥Ό ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•λ” κ²ƒμ΄ μ‹μ¤ν… μ„±λ¥μ„ μΆμ°ν•κ² ν•λ” λ§¤μ° μ¤‘μ”ν• μ”μ†μ΄λ‹¤.

---

## β’οΈ μ©μ–΄

###### Device Controller

νΉμ • μ ν•μ μ¥μΉλ¥Ό μ μ–΄ν•λ” μ—­ν• μ„ λ‹΄λ‹Ήν•λ” ν•λ“μ›¨μ–΄

- **Device Controller 1:n Devices** λ΅ λ§¤ν•‘ κ°€λ¥
- **λ΅μ»¬ λ²„νΌ (Local Buffer)** μ™€ **νΉμ λ©μ  λ μ§€μ¤ν„° (Special-purpose Registers)** λ¥Ό λ‚΄μ¥
- **μ£Όλ³€ μ¥μΉμ™€ μ΄ λ΅μ»¬ λ²„νΌ κ°„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” μ—­ν• **μ„ μν–‰

###### Common Bus(System Bus)

μ»΄ν“¨ν„° μ‹μ¤ν… λ‚΄μ λ¨λ“  μ£Όμ” κµ¬μ„± μ”μ†λ“¤μ„ μ—°κ²°μ‹ν‚¤λ” ν•λ‚μ κ³µν†µλ ν†µμ‹ μ„ μ„ Common Bus λΌκ³  ν•λ©°,  
μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›λ”λ°, μ΄ ν†µμ‹ μ„ μ€ μ„Έ κ°€μ§€ μ ν•μ μ‹ νΈμ„ μ„ ν¬ν•¨ν•λ‹¤:

- **λ°μ΄ν„° λ²„μ¤ (Data Bus)**: λ°μ΄ν„° μ „μ†΅
- **μ£Όμ† λ²„μ¤ (Address Bus)**: λ°μ΄ν„°μ μ„μΉ μ§€μ •
- **μ μ–΄ λ²„μ¤ (Control Bus)**: λ™μ‘ μ μ–΄ λ° λ™κΈ°ν™”

###### Shared Memory

μ»΄ν“¨ν„° μ‹μ¤ν… λ‚΄μ μ—¬λ¬ κµ¬μ„± μ”μ†λ“¤μ΄ κ³µλ™μΌλ΅ μ ‘κ·Όν•  μ μλ” λ©”λ¨λ¦¬ κ³µκ°„(RAMμ μΌλ¶€)μ„ μλ―Έν•λ‹¤.

###### Device Driver

- **Device Driver 1:1 Device Controller** λ΅ λ§¤ν•‘
- μ»¨νΈλ΅¤λ¬μ μ„Έλ¶€ λ™μ‘μ„ μ΄ν•΄
- **μΌκ΄€λ μΈν„°νμ΄μ¤λ¥Ό λ‹¤λ¥Έ μ¥μΉλ“¤μ—κ² λΏλ¦Ό**

###### Memory Cycle

CPU λλ” μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ κ°™μ€ κµ¬μ„± μ”μ†κ°€ λ©”λ¨λ¦¬μ— λ°μ΄ν„°λ¥Ό μ½κ±°λ‚ μ“°κΈ° μ„ν•΄ μ†μ”λλ” λ‹¨μΌ λ™μ‘ μ£ΌκΈ°λ¥Ό μλ―Έ

ν•λ‚μ λ©”λ¨λ¦¬ μ‚¬μ΄ν΄μ€

1. **μ£Όμ† μ§€μ • (Addressing)** β†’ CPU λλ” μ»¨νΈλ΅¤λ¬κ°€ μ ‘κ·Όν•κ³ μ ν•λ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ§€μ •
2. **μ½κΈ° λλ” μ“°κΈ° (R/W)** β†’ μ§€μ •λ μ£Όμ†λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό μ½κ±°λ‚ λ°μ΄ν„°λ¥Ό ν•΄λ‹Ή μ„μΉμ— κΈ°λ΅
3. **μ‘λ‹µ λ€κΈ° (Wait/Response)** β†’ λ©”λ¨λ¦¬κ°€ μ”μ²­μ„ μ²λ¦¬ν•κ³  μ‘λ‹µν•λ” λ° κ±Έλ¦¬λ” μ‹κ°„ ν¬ν•¨

μ κ³Όμ •μ„ ν–‰ν•λ” μ‹κ°„μ΄λ‹¤.

###### Memory Controller

μ—¬λ¬ κµ¬μ„±μ”μ†μ λ©”λ¨λ¦¬ λ™μ‹ μ ‘κ·Όμ— λ€ν•΄ **μ¶©λμ„ λ°©μ§€ν•κ³  μ ‘κ·Όμ„ λ™κΈ°ν™” ν•λ” μ—­ν• μ„ μν–‰**ν•λ” ν•λ“μ›¨μ–΄

- κ³µμ  λ©”λ¨λ¦¬μ— λ€ν• μ½κΈ°/μ“°κΈ° μ”μ²­ μμ„λ¥Ό μ΅°μ •
- **κµ¬μ„± μ”μ† κ°„μ λ³‘λ ¬ μ ‘κ·Ό μ¶©λ λ°©μ§€**
- ν„λ€ μ‹μ¤ν…μ—μ„λ” **λ©”λ¨λ¦¬ κ³„μΈµ κµ¬μ΅°μ— λ”°λΌ λ‹¤μ–‘ν• μ»¨νΈλ΅¤λ¬κ°€ λ¶„μ‚°λμ–΄ μ΅΄μ¬**

μ¶”ν›„μ— λ‚μ΄

###### Synchronize

μ—¬λ¬ κµ¬μ„± μ”μ†κ°€ λ™μ‹μ— μμ›μ— μ ‘κ·Όν•λ ¤κ³  ν•  λ•, κ·Έ μμ„λ¥Ό μ΅°μ •ν•μ—¬ μ¶©λμ΄λ‚ μ¤λ¥κ°€ μ—†λ„λ΅ μ²λ¦¬λ¥Ό μ μ–΄ν•λ” κ²ƒμ„ μλ―Έ

###### Interrupt Request Line(IRQ Line)

Interrupt Controller μ™€ μ§μ ‘μ μΌλ΅ μ—°κ²°λμ–΄ μλ” 2κ°μ ν•λ“μ›¨μ–΄ μ„ μ΄λ©°,  
ν•λ‚λ” **Non-Maskable Interrupt(NMI)**, λ‹¤λ¥Έ ν•λ‚λ” **Maskable Interrupt** μ΄λ‹¤.

- **Non-Maskable Interrupt**: μ λ€ λ¬΄μ‹ν•  μ μ—†λ” μ‹ νΈλ¥Ό λ‹΄λ‹Ή(λ°λ“μ‹ μ²λ¦¬), λ©”λ¨λ¦¬ μ¤λ¥, ν•λ“μ›¨μ–΄ κ³ μ¥, CPU ν¬ λ©μ¶¤, ...
- **Maskable Interrupt**: μΌλ°μ μΈ μΈν„°λ½νΈ(λ³΄νΈμ μΌλ΅ μΈν„°λ½νΈλ” μ΄κ±Έ λ§ν•¨), μ¤‘μ”ν• κ³„μ‚°μ¤‘μ΄λΌλ©΄ μ΄ Interrupt λ΅ λ“¤μ–΄μ¨κ±΄ λ¬΄μ‹ κ°€λ¥

###### Context Switching

ν•λ‚μ ν”„λ΅μ„Έμ¤κ°€ CPUλ¥Ό μ‚¬μ© μ¤‘μΈ μƒνƒμ—μ„ λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤κ°€ CPUλ¥Ό μ‚¬μ©ν•λ„λ΅ ν•κΈ° μ„ν•΄, μ΄μ „μ **ν”„λ΅μ„Έμ¤μ μƒνƒ(context)λ¥Ό μ €μ¥**ν•κ³  **μƒλ΅μ΄ ν”„λ΅μ„Έμ¤μ μƒνƒλ¥Ό μ μ¬(load)**ν•λ” μ‘μ—…

---

## π”— μ¶μ²
- λ„μ„: [Operating System Concepts 10th Edition]()
