<!DOCTYPE html>
<html lang="kor">

    <head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="icon" href="/seonghun120614/assets/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="/seonghun120614/assets/css/style.css">
<title>1.2.1 Interrupts</title>
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>1.2.1 Interrupts | Seonghunβ€™s Blog</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="1.2.1 Interrupts" />
<meta name="author" content="Seonghun Park" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="μ»΄ν“¨ν„° μ‹μ¤ν…μ κµ¬μ΅° μ „λ°μ΄ μ–΄λ–»κ² μƒκ²¨ λ¨Ήμ—λ”μ§€, κ·Έλ¦¬κ³  μ–΄λ–»κ² λμ•„κ°€λ”μ§€ μ‚΄ν΄λ³Έλ‹¤." />
<meta property="og:description" content="μ»΄ν“¨ν„° μ‹μ¤ν…μ κµ¬μ΅° μ „λ°μ΄ μ–΄λ–»κ² μƒκ²¨ λ¨Ήμ—λ”μ§€, κ·Έλ¦¬κ³  μ–΄λ–»κ² λμ•„κ°€λ”μ§€ μ‚΄ν΄λ³Έλ‹¤." />
<link rel="canonical" href="https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html" />
<meta property="og:url" content="https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html" />
<meta property="og:site_name" content="Seonghunβ€™s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-06-07T01:32:29+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="1.2.1 Interrupts" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Seonghun Park"},"dateModified":"2025-06-07T01:32:29+00:00","datePublished":"2025-06-07T01:32:29+00:00","description":"μ»΄ν“¨ν„° μ‹μ¤ν…μ κµ¬μ΅° μ „λ°μ΄ μ–΄λ–»κ² μƒκ²¨ λ¨Ήμ—λ”μ§€, κ·Έλ¦¬κ³  μ–΄λ–»κ² λμ•„κ°€λ”μ§€ μ‚΄ν΄λ³Έλ‹¤.","headline":"1.2.1 Interrupts","mainEntityOfPage":{"@type":"WebPage","@id":"https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html"},"url":"https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html"}</script>
<!-- End Jekyll SEO tag -->


<script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>

<!-- Mermaid -->
<script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-RQTWJRLWGD"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-RQTWJRLWGD');
</script></head><script>
        document.addEventListener("DOMContentLoaded", function () {
            const toggle = document.getElementById("dark-toggle");
        
            // μ΄λ―Έ μ‹¤ν–‰ν• μ  μλ”μ§€ ν™•μΈ
            const hasToggled = localStorage.getItem("darkModeInitialized");
        
            if (!hasToggled && toggle && toggle.checked) {
                toggleDarkMode();
                localStorage.setItem("darkModeInitialized", "true"); // μµμ΄ μ‹¤ν–‰ κΈ°λ΅
            }
        });
    </script>

    <body>
        <div id="scroll-progress"></div>
        <main class="container">
            <section class="about">
                <div class="about-header condensed">
                    <div class="about-title">
                        <a href="/seonghun120614/">
                            
                            <img class="light"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            <img class="dark"
                                src="/seonghun120614/assets/portfolio.png"
                                alt="Seonghun Park" />
                            
                        </a>
                        <h2 id="title">
                            <a href="/seonghun120614/">Seonghun Park</a>
                        </h2>
                    </div><p class="tagline">Developer.</p></div>
                
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </section>
            <section class="content">
                <script>
window.MathJax = {
    tex: {
    inlineMath: [['$', '$'], ['\\(', '\\)']],
    displayMath: [['$$', '$$'], ['\\[', '\\]']]
    },
    options: {
    renderActions: {
        addMenu: []
    }
    }
};
</script>

<script type="text/javascript"
    id="MathJax-script"
    async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
</script><div class="post-container">
    <a class="post-link" href="/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html">
        <h2 class="post-title">1.2.1 Interrupts</h2>
    </a>
    
    <div class="post-meta">
        <div class="post-date"><i class="icon-calendar"></i>Jun 7, 2025</div><ul class="post-categories"><li>ComputerScience</li><li>OS</li></ul></div>

    <div class="post">
        <!--more-->
<p>μ»΄ν“¨ν„° μ‹μ¤ν…μ κµ¬μ΅° μ „λ°μ΄ μ–΄λ–»κ² μƒκ²¨ λ¨Ήμ—λ”μ§€, κ·Έλ¦¬κ³  μ–΄λ–»κ² λμ•„κ°€λ”μ§€ μ‚΄ν΄λ³Έλ‹¤.</p>

<h2 id="-λ©μ°¨">π“‚ λ©μ°¨</h2>
<ul>
  <li><a href="#1211-interrupts">1.2.1.1 Interrupts</a>
    <ul>
      <li><a href="#io-μ‘μ—…-μ™„λ£-μ•λ¦Ό">I/O μ‘μ—… μ™„λ£ μ•λ¦Ό</a></li>
      <li><a href="#οΈ-interrupt-handler">β­οΈ Interrupt Handler</a></li>
      <li><a href="#interrupt-vector-tableinterrupt-vectorμ„-μ‚¬μ©ν•-λ°©μ‹">Interrupt Vector Table(Interrupt Vector) μ„ μ‚¬μ©ν• λ°©μ‹</a></li>
    </ul>
  </li>
  <li><a href="#1212-implementation">1.2.1.2 Implementation</a>
    <ul>
      <li><a href="#interrupt-controller">Interrupt Controller</a></li>
      <li><a href="#interrupt-chaining">Interrupt Chaining</a></li>
      <li><a href="#interrupt-priority-levels">Interrupt Priority Level</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="-λ³Έλ¬Έ">π“ λ³Έλ¬Έ</h2>

<p>ν„λ€ μ»΄ν“¨ν„° μ‹μ¤ν…μ€ <strong>ν•λ‚ μ΄μƒμ CPU</strong>μ™€ μ—¬λ¬ κ°μ <strong><a href="#device-controller">μ¥μΉ μ»¨νΈλ΅¤λ¬(Device Controller)</a></strong>λ΅ κµ¬μ„±λμ–΄ μκ³ , <strong><a href="#common-bussystem-bus">κ³µν†µ λ²„μ¤(Common Bus, System Bus)</a></strong> λ¥Ό ν†µν•΄ μ—°κ²°λμ–΄ μλ‹¤.</p>

<p><img src="/seonghun120614/assets/img/device-controllers.png" alt="device-controllers" /></p>

<p>Common Busλ” κ° κµ¬μ„± μ”μ†λ“¤κ³Ό <strong><a href="#shared-memory">κ³µμ  λ©”λ¨λ¦¬(Shared Memory)</a></strong> κ°„μ μ ‘κ·Ό κ²½λ΅λ¥Ό μ κ³µν•λ‹¤(κ³µμ  λ©”λ¨λ¦¬κ°€ μλ‹¤λ©΄ κ° μ¥μΉλ“¤λ§λ‹¤ ν•΄λ‹Ή λ©”λ¨λ¦¬λ¥Ό μ½μ–΄μ„ λ°μ΄ν„°λ¥Ό κ³µμ ν•  μ μλ‹¤). μΌλ°μ μΌλ΅ <strong>μ΄μμ²΄μ </strong>λ” κ° <strong>Device Controller</strong> λ§λ‹¤ ν•λ‚μ <strong><a href="#device-driver">μ¥μΉ λ“λΌμ΄λ²„(Device Driver)</a></strong> λ¥Ό κ°€μ§€κ² λλ‹¤. CPU μ™€ μ¥μΉ μ»¨νΈλ΅¤λ¬λ” λ³‘λ ¬λ΅ λ™μ‘μ΄ κ°€λ¥ν•κΈ°μ— <strong><a href="#memory-cycle">λ©”λ¨λ¦¬ μ ‘κ·Ό μ£ΌκΈ°(Memory Cycle)</a></strong> λ„μ¤‘ κ²½μν•κ² λλ‹¤.</p>

<p>μ΄λ° κ³µμ  λ©”λ¨λ¦¬μ— λ€ν• μ ‘κ·Όμ„ μ§μ„μκ² ν•κΈ° μ„ν•΄μ„ <strong><a href="#memory-controller">λ©”λ¨λ¦¬ μ»¨νΈλ΅¤λ¬(Memory Controller)</a></strong>κ°€ μ΅΄μ¬ν•κ³  μ»¨νΈλ΅¤λ¬λ” λ©”λ¨λ¦¬ μ ‘κ·Όμ„ <strong><a href="#synchronize">λ™κΈ°ν™”(Synchronize)</a></strong> ν•λ‹¤.</p>

<p><img src="/seonghun120614/assets/img/a-typical-pc-computer-system.png" alt="a typical pc computer system" /></p>

<p>μ„μ νλ¦„μ„ κ°€μ§€κ³  λ‹¤μμ„ μ½μ.</p>

<h3 id="1211-interrupts">1.2.1.1 Interrupts</h3>

<p><strong>Interrupt</strong>λ” CPUμ μ£Όμλ¥Ό λκΈ° μ„ν•΄ μ‚¬μ©λλ” <strong>μ μ–΄ μ‹ νΈ</strong>λ΅,<br />
<strong>Common Busμ Control Bus</strong>λ¥Ό ν†µν•΄ μ „λ‹¬λλ‹¤. μ£Όλ μΆ…λ¥λ” λ‹¤μκ³Ό κ°™λ‹¤:</p>

<ul>
  <li><strong><a href="#io-μ‘μ—…-μ™„λ£-μ•λ¦Ό">I/O μ‘μ—… μ™„λ£ μ•λ¦Ό</a></strong>: λ””μ¤ν¬ μ½κΈ°, ν”„λ¦°ν„° μ¶λ ¥ λ“± μ‘μ—… μ™„λ£ μ‹</li>
  <li><strong>μ…λ ¥ μ΄λ²¤νΈ μ•λ¦Ό</strong>: ν‚¤λ³΄λ“ μ…λ ¥, λ§μ°μ¤ ν΄λ¦­ λ“± μ‚¬μ©μ μΈν„°λ™μ… λ°μƒ μ‹</li>
  <li><strong>νƒ€μ΄λ¨Έ μΈν„°λ½νΈ (Timer Interrupt)</strong>: μΌμ • μ£ΌκΈ°λ΅ λ°μƒν•μ—¬ OSκ°€ CPU μ μ–΄κ¶μ„ νμν•  μ μκ² ν•¨</li>
  <li><strong>μ†ν”„νΈμ›¨μ–΄ μΈν„°λ½νΈ (System Call)</strong>: μ‚¬μ©μ ν”„λ΅κ·Έλ¨μ΄ μ΄μμ²΄μ  κΈ°λ¥μ„ μ”μ²­ν•  λ• λ°μƒ</li>
  <li><strong>ν•λ“μ›¨μ–΄ μ¤λ¥/μμ™Έ (Exception)</strong>: 0μΌλ΅ λ‚λ„κΈ°, μλ»λ λ©”λ¨λ¦¬ μ ‘κ·Ό λ“± μ¤λ¥ λ°μƒ μ‹ μλ™μΌλ΅ λ°μƒ</li>
</ul>

<hr />

<h4 id="io-μ‘μ—…-μ™„λ£-μ•λ¦Ό">I/O μ‘μ—… μ™„λ£ μ•λ¦Ό</h4>

<p><strong>I/O μ‘μ—… μ™„λ£ μ•λ¦Ό</strong>μ„ μλ΅ λ“¤μ–΄λ³΄μ.</p>

<ol>
  <li><strong>CPUκ°€ I/O μ¥μΉ Aμ— μ‘μ—…μ„ μ”μ²­</strong></li>
  <li>μ΄μμ²΄μ μ <strong>Device Driver</strong>κ°€ CPU λ…λ Ήμ„ ν•΄λ‹Ή μ¥μΉκ°€ μ΄ν•΄ν•  μ μλ„λ΅ <strong>ν•΄μ„ λ° λ³€ν™</strong></li>
  <li>λ³€ν™λ λ…λ Ήμ΄ <strong>Device Controller</strong> ν•λ“μ›¨μ–΄λ΅ μ „λ‹¬λ¨</li>
  <li><strong>Device Controller</strong>κ°€ μ‹¤μ  μ¥μΉμ— λ…λ Ήμ„ λ‚΄λ ¤ <strong>μ‘μ—… μν–‰</strong></li>
  <li>μ‘μ—… μ™„λ£ μ‹, <strong>Device Controllerκ°€ Control Busλ¥Ό ν†µν•΄ CPUμ— Interruptλ¥Ό μ „μ†΅</strong></li>
  <li>CPUλ” Interruptλ¥Ό μμ‹ ν•κ³ , <strong>μ μ ν• <a href="#interrupt-handler">Interrupt Handler (Interrupt Service Routine, ISR)</a></strong>λ¥Ό νΈμ¶ν•μ—¬ ν›„μ† μ‘μ—…μ„ μ²λ¦¬</li>
</ol>

<p><img src="/seonghun120614/assets/img/interrupt-timeline-for-a-single-program-doing-output.png" alt="interrupt timeline for a single program doing output" /></p>

<p><strong>Interrupt Handler</strong> λ¥Ό λ³΄μ.</p>

<hr />

<h4 id="οΈ-interrupt-handler">β­οΈ Interrupt Handler</h4>

<p>μ΄μμ²΄μ  λ‚΄λ¶€μ—μ„ Interrupt κ°€ λ°μƒν–μ„ λ•, μ‹¤ν–‰λλ” νΉμν• ν•¨μ/μ½”λ“ λΈ”λ΅μ΄λ‹¤.</p>

<p>CPUκ°€ Control Bus μ—μ„ Interrupt λ¥Ό λ°›μ•μ„ λ•, ν„μ¬ μ‹¤ν–‰ μ¤‘μ΄λ μ‘μ—…μ„ μ μ‹ λ©μ¶”κ³ ,<br />
μ¦‰μ‹ <strong>κ³ μ •λ μ„μΉ(fixed location)</strong> λ΅ <strong><a href="#context-switching">μ μ–΄λ¥Ό μ „ν™(Context Switching)</a></strong>ν•λ‹¤.</p>

<p><img src="/seonghun120614/assets/img/interrupt-driven-io-cycle.png" alt="interupt driven io cycle" /></p>

<p>κ³ μ •λ μ„μΉλ” μΌλ°μ μΌλ΅ ν•΄λ‹Ή μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•κΈ° μ„ν• <strong>μ„λΉ„μ¤ λ£¨ν‹΄(Interrupt Service Routine, ISR)</strong> μ μ‹μ‘ μ£Όμ†λ¥Ό ν¬ν•¨ν•λ‹¤. ISRμ΄ μ‹¤ν–‰λκ³ , κ·Έ μ‘μ—…μ΄ μ™„λ£λλ©΄ CPUλ” μ¤‘λ‹¨λ κ²μ‚°μ„ λ‹¤μ‹ μ΄μ–΄μ„ μν–‰ν•κ² λλ‹¤. μΈν„°λ½νΈλ¥Ό μ²λ¦¬ν•λ”λ° μμ–΄μ„ μ±…μ—μ„ μ κ³µν•λ” λ°©λ²•μ€ λ‘ κ°€μ§€ μ΄λ‹¤.</p>

<blockquote>
  <ol>
    <li>μΈν„°λ½νΈ μ •λ³΄λ¥Ό ν™•μΈν•λ” <strong>μΌλ° λ£¨ν‹΄(Generic Routine)</strong>μ„ νΈμ¶ν• λ’¤,
ν•΄λ‹Ή λ£¨ν‹΄μ΄ μΈν„°λ½νΈμ— νΉν™”λ ν•Έλ“¤λ¬λ¥Ό νΈμ¶ν•λ” λ°©μ‹μ΄ μΌλ°μ μ΄κ³  λ‹¨μν• λ°©λ²•μ΄λ‹¤.</li>
    <li>μΈν„°λ½νΈλ” λ§¤μ° μμ£Ό λ°μƒν•κΈ° λ•λ¬Έμ— λΉ λ¥΄κ² μ²λ¦¬λμ–΄μ•Ό ν•λ―€λ΅ μ„ λ°©λ²•μ€ λ§μ§€ μ•κ³ ,
μ†λ„λ¥Ό λ†’μ΄κΈ° μ„ν•΄ μΈν„°λ½νΈ <strong>λ£¨ν‹΄λ“¤μ μ£Όμ†λ¥Ό μ €μ¥ν• ν¬μΈν„° ν…μ΄λΈ”(Interrupt Vector Table)</strong>μ„ μ‚¬μ©ν•λ‹¤λ©΄
Generic Routine μ„ κ±°μΉμ§€ μ•κ³ λ„ ν…μ΄λΈ”μ„ ν†µν•΄ μ§μ ‘ ν•΄λ‹Ή ISR μΌλ΅ μ ν”„ν•  μ μλ‹¤.</li>
  </ol>
</blockquote>

<p><strong>Interrupt Vector Table</strong> μ„ μ΄μ©ν• λ°©λ²•μ„ λ³΄μ.</p>

<hr />

<h4 id="interrupt-vector-tableinterrupt-vectorμ„-μ‚¬μ©ν•-λ°©μ‹">Interrupt Vector Table(Interrupt Vector)μ„ μ‚¬μ©ν• λ°©μ‹</h4>

<p>Interrupt Vector Tableμ€ λ³΄ν†µ <strong>λ©”λ¨λ¦¬μ λ‚®μ€ μμ—­(μ²μ 100μ—¬ κ° μ„μΉ)</strong>μ— μ €μ¥λλ©°,<br />
κ° μ„μΉμ—λ” μΈν„°λ½νΈ μ”μ²­ λ²νΈ(μΈν„°λ½νΈ λ²΅ν„°)μ— ν•΄λ‹Ήν•λ” <strong>μ„λΉ„μ¤ λ£¨ν‹΄(ISR)μ μ£Όμ†</strong>κ°€ μ €μ¥λλ‹¤.</p>

<p>CPUλ” μΈν„°λ½νΈκ°€ λ°μƒν•λ©΄, μ „λ‹¬λ°›μ€ κ³ μ  λ²νΈ(λ²΅ν„° λ²νΈ)λ¥Ό κΈ°λ°μΌλ΅<br />
Interrupt Vector Tableμ„ μΈλ±μ‹±ν•μ—¬ ν•΄λ‹Ή <strong>ISRλ΅ μ§μ ‘ μ ν”„</strong>ν•λ‹¤.<br />
μ΄ λ°©μ‹μ€ Windows, UNIX λ“± λ€λ¶€λ¶„μ μ΄μμ²΄μ μ—μ„ μ‚¬μ©λλ‹¤.</p>

<p>μ΄λ•, μΈν„°λ½νΈ μ²λ¦¬λ¥Ό μ„ν•΄μ„λ” <strong>CPUμ μƒνƒ μ •λ³΄(μ: λ μ§€μ¤ν„° κ°’)</strong>λ¥Ό λ°λ“μ‹ μ €μ¥ν•΄μ•Ό ν•λ‹¤.<br />
μΈν„°λ½νΈ μ²λ¦¬κ°€ λλ‚ ν›„μ—λ” μ΄ μƒνƒλ¥Ό λ³µμ›ν•μ—¬ <strong>μ¤‘λ‹¨λ μ‘μ—…μ„ μ¬κ°</strong>ν•  μ μμ–΄μ•Ό ν•λ‹¤.</p>

<blockquote>
  <p>β… λ”°λΌμ„ μΈν„°λ½νΈ μ²λ¦¬λ¥Ό μ„ν•΄ ν•„μ”ν• μ΅°κ±΄μ€ λ‹¤μκ³Ό κ°™λ‹¤.</p>
  <ul>
    <li>ISRλ“¤μ μ£Όμ†κ°€ μ €μ¥λ <strong>Interrupt Vector Table</strong>μ΄ ν•„μ”</li>
    <li>μΈν„°λ½νΈ λ°μƒ μ‹, <strong>CPU μƒνƒ μ •λ³΄(Context)</strong>λ¥Ό μ €μ¥ν•΄μ•Ό ν•¨</li>
    <li>ISR μ‹¤ν–‰ μ™„λ£ ν›„, CPUλ” <strong>μΈν„°λ½νΈ λ³µκ·€ λ…λ Ή(Return from Interrupt)</strong>μ„ μ‹¤ν–‰ν•μ—¬ μ›λ μ‘μ—…μΌλ΅ λ³µκ·€</li>
  </ul>
</blockquote>

<p>κ·ΈλΌ μ΄λ¬ν• μ΄λ΅ λ“¤μ„ κΈ°λ°μΌλ΅ μ‹¤μ  κµ¬ν„ λ‹¨κ³„μ—μ„λ” μ–΄λ–¤ κµ¬μ΅°κ°€ ν•„μ”ν• μ§€ μ‚΄ν΄λ³΄μ.</p>

<hr />

<h3 id="1212-implementation">1.2.1.2 Implementation</h3>

<p>κµ¬ν„μ— μμ–΄μ„ ν¬κ² λ‹¤μ κΈ°λ¥λ“¤μ„ κµ¬ν„ν•΄μ•Ό ν•λ‹¤.</p>
<ul>
  <li>Interrupt Controller</li>
  <li>Interrupt Chaining</li>
  <li>Interrupt Priority Level</li>
</ul>

<h4 id="interrupt-controller">Interrupt Controller</h4>

<p>μ•μ—μ„ μΈν„°λ½νΈμ μ „μ²΄μ μΈ μ²λ¦¬ κ³Όμ •μ„ μ΄ν•΄ν–μΌλ‹, μ΄μ  CPUκ°€ μΈν„°λ½νΈ μ‹ νΈλ¥Ό <strong>μ–΄λ–»κ² ν•΄μ„ν•κ³  μ²λ¦¬ν•λ”μ§€</strong>λ¥Ό μ‚΄ν΄λ³΄μ.</p>

<p>ν„λ€ μ»΄ν“¨ν„°μ—μ„λ” μ—¬λ¬ μ¥μΉλ“¤μ΄ <strong>μ„λ΅ λ‹¤λ¥Έ λ°©μ‹μΌλ΅ μΈν„°λ½νΈλ¥Ό λ°μƒ</strong>μ‹ν‚¤κΈ° λ•λ¬Έμ—,<br />
CPUκ°€ μ§μ ‘ ν•΄μ„ν•κΈ°μ—” <strong>μΌκ΄€μ„±μ΄ λ¶€μ΅±ν•λ‹¤</strong>. μ΄λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ <strong>Interrupt Controller</strong>λΌλ” ν•λ“μ›¨μ–΄κ°€ μ‚¬μ©λλ‹¤.</p>

<p><strong>Interrupt Controller</strong>λ” μ¥μΉλ“¤λ΅λ¶€ν„° λ“¤μ–΄μ¤λ” <strong><a href="interrupt-request-line">Interrupt Request Line</a>μ μ‹ νΈλ¥Ό κ°μ§€</strong>ν•κ³ ,<br />
ν•΄λ‹Ή μ‹ νΈλ“¤μ <strong>μ°μ„ μμ„λ¥Ό νλ³„</strong>ν•μ—¬, κ°€μ¥ λ¨Όμ € μ²λ¦¬ν•΄μ•Ό ν•  <strong>μΈν„°λ½νΈ λ²νΈ(Interrupt Vector Number)</strong>λ¥Ό CPUμ— μ „λ‹¬ν•λ‹¤.<br />
CPUλ” μ΄ λ²νΈλ¥Ό μ‚¬μ©ν•μ—¬ <strong>Interrupt Vector Table</strong>μ„ μΈλ±μ‹±ν•κ³ ,<br />
ν•΄λ‹Ή μ„μΉμ— λ“±λ΅λ <strong>ISR(Interrupt Service Routine)</strong>μ„ μ‹¤ν–‰ν•λ‹¤.</p>

<p>μ΄λ¥Ό μ„ μ”κµ¬μ‚¬ν•­κ³Ό λ”λ¶μ–΄ μ¶”κ°€ν•λ©΄:</p>
<blockquote>
  <ul>
    <li>Interrupt Controllerλ” <strong>Interrupt Request Line</strong>μ„ ν†µν•΄ μΈν„°λ½νΈ μ‹ νΈλ¥Ό κ°μ§€</li>
    <li>μ‹ νΈμ— λ”°λΌ νλ³„λ <strong>μΈν„°λ½νΈ λ²νΈ</strong>λ¥Ό CPUμ— μ „λ‹¬</li>
    <li>CPUλ” ν•΄λ‹Ή λ²νΈλ΅ <strong>Interrupt Vector Table</strong>μ„ μΈλ±μ‹±</li>
    <li>ISRλ“¤μ μ£Όμ†κ°€ μ €μ¥λ <strong>Interrupt Vector Table</strong>μ΄ ν•„μ”</li>
    <li>μΈν„°λ½νΈ λ°μƒ μ‹, <strong>CPU μƒνƒ μ •λ³΄(Context)</strong>λ¥Ό μ €μ¥ν•΄μ•Ό ν•¨</li>
    <li>ISR μ‹¤ν–‰ μ™„λ£ ν›„, CPUλ” <strong>μΈν„°λ½νΈ λ³µκ·€ λ…λ Ή(Return from Interrupt)</strong>μ„ μ‹¤ν–‰ν•μ—¬ μ›λ μ‘μ—…μΌλ΅ λ³µκ·€</li>
  </ul>
</blockquote>

<p>μ΄ κ³Όμ •μ„ ν†µν•΄ μ»΄ν“¨ν„° μ‹μ¤ν…μ€ <strong>Interrupt ControllerλΌλ” ν•λ“μ›¨μ–΄ μμ›</strong>μ„ ν™μ©ν•μ—¬ <strong>ISRμ„ μ•μ •μ μΌλ΅ μ‹¤ν–‰</strong>ν•  μ μμΌλ©°,<br />
μ΄μμ²΄μ  μ…μ¥μ—μ„λ” μ΄λ¥Ό <strong>Interrupt ControllerλΌλ” μ¶”μƒμ μΈ κ°μ²΄</strong>λ΅ κ°„μ£Όν•μ—¬ κ΄€λ¦¬ν•κ² λλ‹¤.</p>

<hr />

<h4 id="interrupt-chaining">Interrupt Chaining</h4>

<p>Interrupt Vector Tableμ€ λ§ κ·Έλ€λ΅ μΈν„°λ½νΈ λ²νΈλ¥Ό ν†µν•΄ ISR μ£Όμ†λ¥Ό λΉ λ¥΄κ² μ°Ύμ•„κ° μ μλ„λ΅ μ„¤κ³„λ ν…μ΄λΈ”μ΄λ‹¤.
κ·Έλ¬λ‚ μ¥μΉ μκ°€ λ§μ•„μ§μλ΅ κ° μ¥μΉμ— λ€ν•΄ κ°λ³„μ μΈ κ° μ¥μΉλ§λ‹¤ λ…λ¦½λ μΈν„°λ½νΈ λ²΅ν„° ν•­λ©μ΄ ν•„μ”ν•΄μ§€λ―€λ΅,<br />
<strong>κ³µκ°„ λ³µμ΅λ„</strong>κ°€ κΈ‰κ²©ν μ¦κ°€ν•κ² λλ‹¤.</p>

<blockquote>
  <p>μμ‹</p>
  <ul>
    <li>32λ²(ν‚¤λ³΄λ“): 0x1000</li>
    <li>33λ²(ν‚¤λ³΄λ“): 0x1100</li>
    <li>34λ²(ν‚¤λ³΄λ“): 0x1200</li>
    <li>35λ²(λ§μ°μ¤): 0x1300</li>
    <li>36λ²(λ””μ¤ν¬): 0x1400</li>
    <li>37λ²(λ””μ¤ν¬): 0x1500
β€¦</li>
  </ul>
</blockquote>

<p>μ¥μΉκ°€ μ¶”κ°€λ  λ•λ§λ‹¤ λ²νΈλ¥Ό κ³„μ† ν• λ‹Ήν•λ©΄ ν…μ΄λΈ”μ€ λΉ„λ€ν•΄μ Έ κ³µκ°„ λ³µμ΅λ„κ°€ μ¦κ°€ν•κ³ , κ΄€λ¦¬λ„ μ–΄λ µλ‹¤.</p>

<p>λ λ‹¤λ¥Έ λ¬Έμ λ”, μλ¥Ό λ“¤μ–΄ USBμ™€ κ°™μ€ ν¬νΈ κΈ°λ° μ¥μΉλ”<br />
μ—¬λ¬ μ¥μΉ(USB λ§μ°μ¤, USB ν‚¤λ³΄λ“ λ“±)κ°€ <strong>κ³µν†µλ μΈν„°λ½νΈ λ²νΈ(μ: 64λ²)</strong>λ¥Ό κ³µμ ν•΄μ•Ό ν•λ” μƒν™©μ΄ μμ£Ό λ°μƒν•λ‹¤.</p>

<blockquote>
  <p>μμ‹</p>
  <ul>
    <li>64λ²(USB): 0x8500
β€¦</li>
  </ul>
</blockquote>

<p>μ΄ κ²½μ° ν•λ‚μ ISRμ΄ λ¨λ“  μ”μ²­μ„ μ²λ¦¬ν•κ² λλ―€λ΅ <strong>μ”μ²­μ΄ λ§μ„μλ΅ μ΅°κ±΄λ¬Έμ΄ λ³µμ΅ν•΄μ§€κ³ , μ‹κ°„ λ³µμ΅λ„</strong>κ°€ μ¦κ°€ν•κ² λλ‹¤.</p>

<p>μ΄λ¬ν• λΉ„ν¨μ¨μ„ μ¤„μ΄κΈ° μ„ν•΄ <strong>Interrupt Chaining</strong>μ΄λΌλ” κΈ°λ²•μ΄ μ‚¬μ©λλ‹¤.</p>

<p>μ΄ λ°©μ‹μ—μ„λ” Interrupt Vector Tableμ κ° ν•­λ©μ΄ <strong>ISR ν•λ‚μ μ£Όμ†κ°€ μ•„λ‹λΌ, ISRλ“¤μ„ μ—°κ²°ν• μ—°κ²° λ¦¬μ¤νΈμ μ‹μ‘μ </strong>μ„ κ°€λ¦¬ν‚¨λ‹¤.<br />
μ¦‰, μΈν„°λ½νΈ λ²νΈ 40λ²μ— λ€μ‘λλ” ν…μ΄λΈ” ν•­λ©μ΄ λ‹¤μκ³Ό κ°™μ€ κµ¬μ΅°λ¥Ό κ°–λ”λ‹¤:</p>

<p><code class="language-plaintext highlighter-rouge">Index 40 β†’ [ ISR1 ] β†’ [ ISR2 ] β†’ [ ISR3 ] β†’ null</code></p>

<p>μ΄ κµ¬μ΅°λ”,</p>
<ul>
  <li>λ¨λ“  μ¥μΉμ— λ€ν•΄ <strong>κ±°λ€ν• μΈν„°λ½νΈ λ²΅ν„° ν…μ΄λΈ”μ„ λ§λ“λ” κ³µκ°„ μ¤λ²„ν—¤λ“</strong>μ™€</li>
  <li><strong>ν•λ‚μ ISRμ—μ„ λ¨λ“  μ”μ²­μ„ μ²λ¦¬ν•λ” μ‹κ°„ μ¤λ²„ν—¤λ“</strong> μ‚¬μ΄μ—μ„ μ μ¶©λ μ„¤κ³„λ¥Ό ν•λ” κ²ƒμ΄λΌκ³  λ³Ό μ μλ‹¤(λ„λ¦¬ μ‚¬μ©λ¨).</li>
</ul>

<h4 id="interrupt-priority-levels">Interrupt Priority Levels</h4>

<p>μ°μ„ μμ„λ” λ“¤μ–΄μ¤λ” Interrupt μ— λ€ν•΄ λ‚®μ€ μμ„λ¥Ό κ°€μ§€λ” Interrupt μ²λ¦¬λ¥Ό <strong>μ§€μ—°(defer)</strong>ν•κ² ν•κ³ <br />
λ¨λ“  μΈν„°λ½νΈλ¥Ό μ™„μ „ν μ°¨λ‹¨ν•μ§€ μ•μ•„λ„ λκ² ν•΄μ¤€λ‹¤.</p>

<p>λ”°λΌμ„ λ” λ†’μ€ μ°μ„ μμ„μ μΈν„°λ½νΈκ°€ μ‹¤ν–‰ μ¤‘μΈ λ‚®μ€ μ°μ„ μμ„μ <strong>μΈν„°λ½νΈλ¥Ό μ¤‘λ‹¨ν•κ³ (preempt)</strong> λ¨Όμ € μ²λ¦¬λ  μ μλ„λ΅ ν•λ‹¤.</p>
<blockquote>
  <p>(μ: νƒ€μ΄λ¨Έ μΈν„°λ½νΈκ°€ ν‚¤λ³΄λ“ μ…λ ¥λ³΄λ‹¤ λ†’μ€ μ°μ„ μμ„λ΅ μ²λ¦¬λ¨)</p>
</blockquote>

<p>μ΄λ” μΈν„°λ½νΈκ°€ μ΄μμ²΄μ  μ „λ°μ—μ„ λΉ„λ™κΈ° μ΄λ²¤νΈ μ²λ¦¬λ¥Ό μ„ν•΄ λλ” λ‹¤μ–‘ν• λ©μ μ„ μ„ν•΄ μ‚¬μ©λ  μ μμΌλ©°<br />
<strong>μ‹κ°„μ— λ€ν•΄ λ―Όκ°ν• μ²λ¦¬(time-sensitive processing)</strong>μ— κ΄‘λ²”μ„ν•κ² μ‚¬μ©ν•  μ μμΌλ©°,<br />
μΈν„°λ½νΈλ¥Ό ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•λ” κ²ƒμ΄ μ‹μ¤ν… μ„±λ¥μ„ μΆμ°ν•κ² ν•λ” λ§¤μ° μ¤‘μ”ν• μ”μ†μ΄λ‹¤.</p>

<hr />

<h2 id="οΈ-μ©μ–΄">β’οΈ μ©μ–΄</h2>

<h6 id="device-controller">Device Controller</h6>

<p>νΉμ • μ ν•μ μ¥μΉλ¥Ό μ μ–΄ν•λ” μ—­ν• μ„ λ‹΄λ‹Ήν•λ” ν•λ“μ›¨μ–΄</p>

<ul>
  <li><strong>Device Controller 1:n Devices</strong> λ΅ λ§¤ν•‘ κ°€λ¥</li>
  <li><strong>λ΅μ»¬ λ²„νΌ (Local Buffer)</strong> μ™€ <strong>νΉμ λ©μ  λ μ§€μ¤ν„° (Special-purpose Registers)</strong> λ¥Ό λ‚΄μ¥</li>
  <li><strong>μ£Όλ³€ μ¥μΉμ™€ μ΄ λ΅μ»¬ λ²„νΌ κ°„μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν•λ” μ—­ν• </strong>μ„ μν–‰</li>
</ul>

<h6 id="common-bussystem-bus">Common Bus(System Bus)</h6>

<p>μ»΄ν“¨ν„° μ‹μ¤ν… λ‚΄μ λ¨λ“  μ£Όμ” κµ¬μ„± μ”μ†λ“¤μ„ μ—°κ²°μ‹ν‚¤λ” ν•λ‚μ κ³µν†µλ ν†µμ‹ μ„ μ„ Common Bus λΌκ³  ν•λ©°,<br />
μ΄λ¥Ό ν†µν•΄ λ°μ΄ν„°λ¥Ό μ£Όκ³  λ°›λ”λ°, μ΄ ν†µμ‹ μ„ μ€ μ„Έ κ°€μ§€ μ ν•μ μ‹ νΈμ„ μ„ ν¬ν•¨ν•λ‹¤:</p>

<ul>
  <li><strong>λ°μ΄ν„° λ²„μ¤ (Data Bus)</strong>: λ°μ΄ν„° μ „μ†΅</li>
  <li><strong>μ£Όμ† λ²„μ¤ (Address Bus)</strong>: λ°μ΄ν„°μ μ„μΉ μ§€μ •</li>
  <li><strong>μ μ–΄ λ²„μ¤ (Control Bus)</strong>: λ™μ‘ μ μ–΄ λ° λ™κΈ°ν™”</li>
</ul>

<h6 id="shared-memory">Shared Memory</h6>

<p>μ»΄ν“¨ν„° μ‹μ¤ν… λ‚΄μ μ—¬λ¬ κµ¬μ„± μ”μ†λ“¤μ΄ κ³µλ™μΌλ΅ μ ‘κ·Όν•  μ μλ” λ©”λ¨λ¦¬ κ³µκ°„(RAMμ μΌλ¶€)μ„ μλ―Έν•λ‹¤.</p>

<h6 id="device-driver">Device Driver</h6>

<ul>
  <li><strong>Device Driver 1:1 Device Controller</strong> λ΅ λ§¤ν•‘</li>
  <li>μ»¨νΈλ΅¤λ¬μ μ„Έλ¶€ λ™μ‘μ„ μ΄ν•΄</li>
  <li><strong>μΌκ΄€λ μΈν„°νμ΄μ¤λ¥Ό λ‹¤λ¥Έ μ¥μΉλ“¤μ—κ² λΏλ¦Ό</strong></li>
</ul>

<h6 id="memory-cycle">Memory Cycle</h6>

<p>CPU λλ” μ¥μΉ μ»¨νΈλ΅¤λ¬μ™€ κ°™μ€ κµ¬μ„± μ”μ†κ°€ λ©”λ¨λ¦¬μ— λ°μ΄ν„°λ¥Ό μ½κ±°λ‚ μ“°κΈ° μ„ν•΄ μ†μ”λλ” λ‹¨μΌ λ™μ‘ μ£ΌκΈ°λ¥Ό μλ―Έ</p>

<p>ν•λ‚μ λ©”λ¨λ¦¬ μ‚¬μ΄ν΄μ€</p>

<ol>
  <li><strong>μ£Όμ† μ§€μ • (Addressing)</strong> β†’ CPU λλ” μ»¨νΈλ΅¤λ¬κ°€ μ ‘κ·Όν•κ³ μ ν•λ” λ©”λ¨λ¦¬ μ£Όμ†λ¥Ό μ§€μ •</li>
  <li><strong>μ½κΈ° λλ” μ“°κΈ° (R/W)</strong> β†’ μ§€μ •λ μ£Όμ†λ΅λ¶€ν„° λ°μ΄ν„°λ¥Ό μ½κ±°λ‚ λ°μ΄ν„°λ¥Ό ν•΄λ‹Ή μ„μΉμ— κΈ°λ΅</li>
  <li><strong>μ‘λ‹µ λ€κΈ° (Wait/Response)</strong> β†’ λ©”λ¨λ¦¬κ°€ μ”μ²­μ„ μ²λ¦¬ν•κ³  μ‘λ‹µν•λ” λ° κ±Έλ¦¬λ” μ‹κ°„ ν¬ν•¨</li>
</ol>

<p>μ κ³Όμ •μ„ ν–‰ν•λ” μ‹κ°„μ΄λ‹¤.</p>

<h6 id="memory-controller">Memory Controller</h6>

<p>μ—¬λ¬ κµ¬μ„±μ”μ†μ λ©”λ¨λ¦¬ λ™μ‹ μ ‘κ·Όμ— λ€ν•΄ <strong>μ¶©λμ„ λ°©μ§€ν•κ³  μ ‘κ·Όμ„ λ™κΈ°ν™” ν•λ” μ—­ν• μ„ μν–‰</strong>ν•λ” ν•λ“μ›¨μ–΄</p>

<ul>
  <li>κ³µμ  λ©”λ¨λ¦¬μ— λ€ν• μ½κΈ°/μ“°κΈ° μ”μ²­ μμ„λ¥Ό μ΅°μ •</li>
  <li><strong>κµ¬μ„± μ”μ† κ°„μ λ³‘λ ¬ μ ‘κ·Ό μ¶©λ λ°©μ§€</strong></li>
  <li>ν„λ€ μ‹μ¤ν…μ—μ„λ” <strong>λ©”λ¨λ¦¬ κ³„μΈµ κµ¬μ΅°μ— λ”°λΌ λ‹¤μ–‘ν• μ»¨νΈλ΅¤λ¬κ°€ λ¶„μ‚°λμ–΄ μ΅΄μ¬</strong></li>
</ul>

<p>μ¶”ν›„μ— λ‚μ΄</p>

<h6 id="synchronize">Synchronize</h6>

<p>μ—¬λ¬ κµ¬μ„± μ”μ†κ°€ λ™μ‹μ— μμ›μ— μ ‘κ·Όν•λ ¤κ³  ν•  λ•, κ·Έ μμ„λ¥Ό μ΅°μ •ν•μ—¬ μ¶©λμ΄λ‚ μ¤λ¥κ°€ μ—†λ„λ΅ μ²λ¦¬λ¥Ό μ μ–΄ν•λ” κ²ƒμ„ μλ―Έ</p>

<h6 id="interrupt-request-lineirq-line">Interrupt Request Line(IRQ Line)</h6>

<p>Interrupt Controller μ™€ μ§μ ‘μ μΌλ΅ μ—°κ²°λμ–΄ μλ” 2κ°μ ν•λ“μ›¨μ–΄ μ„ μ΄λ©°,<br />
ν•λ‚λ” <strong>Non-Maskable Interrupt(NMI)</strong>, λ‹¤λ¥Έ ν•λ‚λ” <strong>Maskable Interrupt</strong> μ΄λ‹¤.</p>

<ul>
  <li><strong>Non-Maskable Interrupt</strong>: μ λ€ λ¬΄μ‹ν•  μ μ—†λ” μ‹ νΈλ¥Ό λ‹΄λ‹Ή(λ°λ“μ‹ μ²λ¦¬), λ©”λ¨λ¦¬ μ¤λ¥, ν•λ“μ›¨μ–΄ κ³ μ¥, CPU ν¬ λ©μ¶¤, β€¦</li>
  <li><strong>Maskable Interrupt</strong>: μΌλ°μ μΈ μΈν„°λ½νΈ(λ³΄νΈμ μΌλ΅ μΈν„°λ½νΈλ” μ΄κ±Έ λ§ν•¨), μ¤‘μ”ν• κ³„μ‚°μ¤‘μ΄λΌλ©΄ μ΄ Interrupt λ΅ λ“¤μ–΄μ¨κ±΄ λ¬΄μ‹ κ°€λ¥</li>
</ul>

<h6 id="context-switching">Context Switching</h6>

<p>ν•λ‚μ ν”„λ΅μ„Έμ¤κ°€ CPUλ¥Ό μ‚¬μ© μ¤‘μΈ μƒνƒμ—μ„ λ‹¤λ¥Έ ν”„λ΅μ„Έμ¤κ°€ CPUλ¥Ό μ‚¬μ©ν•λ„λ΅ ν•κΈ° μ„ν•΄, μ΄μ „μ <strong>ν”„λ΅μ„Έμ¤μ μƒνƒ(context)λ¥Ό μ €μ¥</strong>ν•κ³  <strong>μƒλ΅μ΄ ν”„λ΅μ„Έμ¤μ μƒνƒλ¥Ό μ μ¬(load)</strong>ν•λ” μ‘μ—…</p>

<hr />

<h2 id="-μ¶μ²">π”— μ¶μ²</h2>
<ul>
  <li>λ„μ„: <a href="">Operating System Concepts 10th Edition</a></li>
</ul>

    </div><div id="disqus_thread" style="margin-top:25px"></div>
    <script>
    var disqus_config = function () {
        this.page.url = 'https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html';
        this.page.identifier = 'https://seonghun120614.github.io/seonghun120614/computerscience/os/2025/06/07/1.2.1-interrupts.html';
    };
    (function () {
        var d = document, s = d.createElement('script');
        s.src = 'https://seonghun.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
  </script>
    <noscript>Please enable JavaScript to view the <a
            href="https://disqus.com/?ref_noscript" rel="nofollow">comments
            powered by Disqus.</a></noscript></div>
<script>
    mermaid.initialize({startOnLoad:true});
    window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
</script>
            </section>
            <footer class="condensed">
                <ul class="social about-footer condensed"><li>
                        <a
                            href="https://github.com/seonghun120614"
                            target="_blank"
                            rel="noopener"
                            aria-label="github">
                            <i class="icon-github-circled"></i>
                        </a>
                    </li><li>
                        <a
                            href="mailto:seonghun120614@gmail.com"
                            target="_blank" rel="noopener" aria-label="email">
                            <i class="icon-mail-alt"></i>
                        </a>
                    </li></ul><nav class="navigation about-footer condensed">
                    <ul>
                        
                        <li>
                            <a href="/seonghun120614/about">About Me</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/computerscience">Computer Science</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/math">Math</a>
                        </li>
                        
                        <li>
                            <a href="/seonghun120614/categories/softwareengineering">Software Engineering</a>
                        </li>
                        
                    </ul>
                </nav><p class="about-footer condensed">&copy;
                    2025</p><div class="about-footer condensed">
                    <p>Dark Mode
                        <i class="icon-moon"></i>
                        <label class="switch" for="dark-toggle">
                            <input id="dark-toggle" type="checkbox"
                                class="dark-mode-toggle"
                                aria-label="Toggle dark mode">
                            <span class="slider round"
                                onclick="toggleDarkMode()"></span>
                        </label>
                    </p>
                </div>
            </footer>
        </main>
        
        <script type="text/javascript" src="/seonghun120614/assets/js/darkmode.js"></script>
        
        <script src="/seonghun120614/assets/js/simple-jekyll-search.min.js"></script>
        <script src="/seonghun120614/assets/js/search.js"></script>
        
        <script>
            window.addEventListener('scroll', () => {
                const scrollTop = window.scrollY;
                const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                const scrollPercent = (scrollTop / docHeight) * 100;
                document.getElementById('scroll-progress').style.width = scrollPercent + '%';
            });
        </script>
    </body>
</html>